<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OS: pmalloc_debug.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d19/pmalloc__debug_8h.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pmalloc_debug.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Internal header file for the private memory allocator.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d8/ddb/pmalloc_8h_source.html">pmalloc/pmalloc.h</a>&quot;</code><br />
</div>
<p><a href="../../dd/d19/pmalloc__debug_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af82ddfb5bc7009fafb39c00929cd44f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#af82ddfb5bc7009fafb39c00929cd44f7">PMALLOC_MAX_DEBUG_BLOCKS</a>&#160;&#160;&#160;(450)</td></tr>
<tr class="memdesc:af82ddfb5bc7009fafb39c00929cd44f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some debugging options use fixed size arrays indexed by either the block size or block number.  <a href="#af82ddfb5bc7009fafb39c00929cd44f7">More...</a><br /></td></tr>
<tr class="separator:af82ddfb5bc7009fafb39c00929cd44f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2234b0a9ecd25604d6674ea6e1b142a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a2234b0a9ecd25604d6674ea6e1b142a8">PMALLOC_MAX_DEBUG_SIZE</a>&#160;&#160;&#160;(100)</td></tr>
<tr class="separator:a2234b0a9ecd25604d6674ea6e1b142a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845658952c63463c31ccf7f7150849ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a845658952c63463c31ccf7f7150849ba">PMALLOC_DEBUG_VALIDATE_FREE_LIST</a>(pool,  ptr)&#160;&#160;&#160;((void) 0)</td></tr>
<tr class="memdesc:a845658952c63463c31ccf7f7150849ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable groups of checks.  <a href="#a845658952c63463c31ccf7f7150849ba">More...</a><br /></td></tr>
<tr class="separator:a845658952c63463c31ccf7f7150849ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bac48ba7547bcc64130495e319b6844"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a9bac48ba7547bcc64130495e319b6844">PFREE_DEBUG_VALIDATE_FREE_LIST</a>(pool,  ptr)&#160;&#160;&#160;((void) 0)</td></tr>
<tr class="memdesc:a9bac48ba7547bcc64130495e319b6844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanity check the free list for a single pool in <a class="el" href="../../d2/df0/pfree_8c.html#aeaa51be2edf47468d51a0c6881d5f818" title="Return a block of private memory to the pool. ">pfree()</a>  <a href="#a9bac48ba7547bcc64130495e319b6844">More...</a><br /></td></tr>
<tr class="separator:a9bac48ba7547bcc64130495e319b6844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ea87c26eb3360cdff49d9bacedf2ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a70ea87c26eb3360cdff49d9bacedf2ba">PMALLOC_DEBUG_CHECK_BLOCK</a>(ptr,  size)&#160;&#160;&#160;((void) 0)</td></tr>
<tr class="memdesc:a70ea87c26eb3360cdff49d9bacedf2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to writes to blocks that have been freed.  <a href="#a70ea87c26eb3360cdff49d9bacedf2ba">More...</a><br /></td></tr>
<tr class="separator:a70ea87c26eb3360cdff49d9bacedf2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945c0d2b9aa786b572dc4facb22afd5d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a945c0d2b9aa786b572dc4facb22afd5d">PFREE_SET_FREE_LIST_PTR</a>(ptr,  next,  size)&#160;&#160;&#160;(* (void **) (ptr) = next)</td></tr>
<tr class="separator:a945c0d2b9aa786b572dc4facb22afd5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda4c73c0a4ab65e5047717d3350f92c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#adda4c73c0a4ab65e5047717d3350f92c">PMALLOC_SCRAMBLE_ADDRESS</a>(p)&#160;&#160;&#160;((void *) (p))</td></tr>
<tr class="memdesc:adda4c73c0a4ab65e5047717d3350f92c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store free list pointers in a scrambled form.  <a href="#adda4c73c0a4ab65e5047717d3350f92c">More...</a><br /></td></tr>
<tr class="separator:adda4c73c0a4ab65e5047717d3350f92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe211ddeb0d1f8973b5f0f07089d292"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#adfe211ddeb0d1f8973b5f0f07089d292">PMALLOC_UNSCRAMBLE_ADDRESS</a>(p)&#160;&#160;&#160;<a class="el" href="../../dd/d19/pmalloc__debug_8h.html#adda4c73c0a4ab65e5047717d3350f92c">PMALLOC_SCRAMBLE_ADDRESS</a>(p)</td></tr>
<tr class="separator:adfe211ddeb0d1f8973b5f0f07089d292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01a26c59992797b5111f124776cc1d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#aa01a26c59992797b5111f124776cc1d3">PMALLOC_DEBUG_VALIDATE_POOL_CONTROL</a>()&#160;&#160;&#160;((void) 0)</td></tr>
<tr class="memdesc:aa01a26c59992797b5111f124776cc1d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanity check all pool control blocks.  <a href="#aa01a26c59992797b5111f124776cc1d3">More...</a><br /></td></tr>
<tr class="separator:aa01a26c59992797b5111f124776cc1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6c2b55c7f2eedf69bc3c71f55ea0940c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a6c2b55c7f2eedf69bc3c71f55ea0940c">pmalloc_debug_validate_pool_control</a> (void)</td></tr>
<tr class="memdesc:a6c2b55c7f2eedf69bc3c71f55ea0940c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the requested size for all allocated blocks (maintained as an array of structures to allow efficient storage on platforms without byte addressing)  <a href="#a6c2b55c7f2eedf69bc3c71f55ea0940c">More...</a><br /></td></tr>
<tr class="separator:a6c2b55c7f2eedf69bc3c71f55ea0940c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88cc575288b77f84ab685d362f738ced"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a88cc575288b77f84ab685d362f738ced">pmalloc_debug_validate_free_list</a> (const <a class="el" href="../../d4/d05/structpmalloc__pool.html">pmalloc_pool</a> *pool, const void *ptr)</td></tr>
<tr class="memdesc:a88cc575288b77f84ab685d362f738ced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check sanity of a pool's free list.  <a href="#a88cc575288b77f84ab685d362f738ced">More...</a><br /></td></tr>
<tr class="separator:a88cc575288b77f84ab685d362f738ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a99b11137fc046bf91b5ed0b03f50c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#ad2a99b11137fc046bf91b5ed0b03f50c">pfree_set_free_list_ptr</a> (void *ptr, void *next, size_t size)</td></tr>
<tr class="memdesc:ad2a99b11137fc046bf91b5ed0b03f50c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pointer to next block on free list.  <a href="#ad2a99b11137fc046bf91b5ed0b03f50c">More...</a><br /></td></tr>
<tr class="separator:ad2a99b11137fc046bf91b5ed0b03f50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300e818d015ec7536ed5435e1a47b993"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html#a300e818d015ec7536ed5435e1a47b993">pmalloc_debug_check_block</a> (const void *ptr, size_t size)</td></tr>
<tr class="memdesc:a300e818d015ec7536ed5435e1a47b993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check a block has not been written to.  <a href="#a300e818d015ec7536ed5435e1a47b993">More...</a><br /></td></tr>
<tr class="separator:a300e818d015ec7536ed5435e1a47b993"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Internal header file for the private memory allocator. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9bac48ba7547bcc64130495e319b6844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bac48ba7547bcc64130495e319b6844">&#9670;&nbsp;</a></span>PFREE_DEBUG_VALIDATE_FREE_LIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PFREE_DEBUG_VALIDATE_FREE_LIST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pool, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((void) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sanity check the free list for a single pool in <a class="el" href="../../d2/df0/pfree_8c.html#aeaa51be2edf47468d51a0c6881d5f818" title="Return a block of private memory to the pool. ">pfree()</a> </p>

</div>
</div>
<a id="a945c0d2b9aa786b572dc4facb22afd5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a945c0d2b9aa786b572dc4facb22afd5d">&#9670;&nbsp;</a></span>PFREE_SET_FREE_LIST_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PFREE_SET_FREE_LIST_PTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">next, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(* (void **) (ptr) = next)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a70ea87c26eb3360cdff49d9bacedf2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ea87c26eb3360cdff49d9bacedf2ba">&#9670;&nbsp;</a></span>PMALLOC_DEBUG_CHECK_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_DEBUG_CHECK_BLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((void) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to writes to blocks that have been freed. </p>

</div>
</div>
<a id="a845658952c63463c31ccf7f7150849ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845658952c63463c31ccf7f7150849ba">&#9670;&nbsp;</a></span>PMALLOC_DEBUG_VALIDATE_FREE_LIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_DEBUG_VALIDATE_FREE_LIST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pool, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((void) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable groups of checks. </p>
<p>Avoid placing recently freed blocks at the start of the free list Sanity check the free list for a single pool in <a class="el" href="../../d8/ddb/pmalloc_8h.html#a93be03aa2bdbf99c6440bf48ba4a486f">xpmalloc()</a> </p>

</div>
</div>
<a id="aa01a26c59992797b5111f124776cc1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01a26c59992797b5111f124776cc1d3">&#9670;&nbsp;</a></span>PMALLOC_DEBUG_VALIDATE_POOL_CONTROL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_DEBUG_VALIDATE_POOL_CONTROL</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((void) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sanity check all pool control blocks. </p>

</div>
</div>
<a id="af82ddfb5bc7009fafb39c00929cd44f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82ddfb5bc7009fafb39c00929cd44f7">&#9670;&nbsp;</a></span>PMALLOC_MAX_DEBUG_BLOCKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_MAX_DEBUG_BLOCKS&#160;&#160;&#160;(450)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some debugging options use fixed size arrays indexed by either the block size or block number. </p>
<p>The following constants set the size of these arrays. Note that the actual pools may exceed these limits, but debugging data will only be maintained for operations within them. </p>

</div>
</div>
<a id="a2234b0a9ecd25604d6674ea6e1b142a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2234b0a9ecd25604d6674ea6e1b142a8">&#9670;&nbsp;</a></span>PMALLOC_MAX_DEBUG_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_MAX_DEBUG_SIZE&#160;&#160;&#160;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adda4c73c0a4ab65e5047717d3350f92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda4c73c0a4ab65e5047717d3350f92c">&#9670;&nbsp;</a></span>PMALLOC_SCRAMBLE_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_SCRAMBLE_ADDRESS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p</td><td>)</td>
          <td>&#160;&#160;&#160;((void *) (p))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store free list pointers in a scrambled form. </p>

</div>
</div>
<a id="adfe211ddeb0d1f8973b5f0f07089d292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe211ddeb0d1f8973b5f0f07089d292">&#9670;&nbsp;</a></span>PMALLOC_UNSCRAMBLE_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMALLOC_UNSCRAMBLE_ADDRESS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../dd/d19/pmalloc__debug_8h.html#adda4c73c0a4ab65e5047717d3350f92c">PMALLOC_SCRAMBLE_ADDRESS</a>(p)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad2a99b11137fc046bf91b5ed0b03f50c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a99b11137fc046bf91b5ed0b03f50c">&#9670;&nbsp;</a></span>pfree_set_free_list_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfree_set_free_list_ptr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set pointer to next block on free list. </p>
<p>When a block is added to a pool's free list, a pointer to the next entry of the free list is written to the start of the block. This function extends this behaviour by duplicating the "next" pointer value throughout the rest of the block.</p>
<p>There are two reasons for doing this:</p>
<ul>
<li>It trashes the data in the block so attempts to read data from the block after freeing it are more likely to give an error.</li>
<li>It allows the entire contents of the block to be checked before the block is reallocated, trapping writes that occurred after the free.</li>
</ul>
<p>Note that if the block size is not an exact multiple of the size of a pointer then the left over space is not modified. </p>

</div>
</div>
<a id="a300e818d015ec7536ed5435e1a47b993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a300e818d015ec7536ed5435e1a47b993">&#9670;&nbsp;</a></span>pmalloc_debug_check_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmalloc_debug_check_block </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check a block has not been written to. </p>
<p>Check that the block pointed to by "ptr" of size "size" is filled with the same pointer value. This should be used on a block that has been previously filled by <a class="el" href="../../dd/d19/pmalloc__debug_8h.html#ad2a99b11137fc046bf91b5ed0b03f50c" title="Set pointer to next block on free list. ">pfree_set_free_list_ptr()</a>. </p>

</div>
</div>
<a id="a88cc575288b77f84ab685d362f738ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88cc575288b77f84ab685d362f738ced">&#9670;&nbsp;</a></span>pmalloc_debug_validate_free_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmalloc_debug_validate_free_list </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d05/structpmalloc__pool.html">pmalloc_pool</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check sanity of a pool's free list. </p>
<p>Walk down the entire free list for the pool control block "pool", checking that each entry is sane. In this context, sane means that the free list entry is in this pool.</p>
<p>The pointer "ptr" contains a block either just removed from the pool (in xpmalloc) or just about to be added (in pfree). This function checks that this pointer is not on the free list (to trap the same block being freed twice).</p>
<p>The function also checks that the free list is of the expected length by comparing the position of the NULL with the value of "allocated". </p>

</div>
</div>
<a id="a6c2b55c7f2eedf69bc3c71f55ea0940c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2b55c7f2eedf69bc3c71f55ea0940c">&#9670;&nbsp;</a></span>pmalloc_debug_validate_pool_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmalloc_debug_validate_pool_control </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record the requested size for all allocated blocks (maintained as an array of structures to allow efficient storage on platforms without byte addressing) </p>
<p>Record the total number of requests for blocks of different size (array indexed by requested block size) Record ownership information for each of the blocks if tracing enabled Record current and high watermark of actual memory usage <br />
Check sanity of all pools</p>
<p>Iterate over each pool control block making sure that there is nothing obviously wrong.</p>
<p>Currently the tests are:</p>
<ul>
<li>That the head of the free list for the pool control block is either NULL or is in the right pool.</li>
<li>That the number of blocks taken from the pool does not exceed the total number of blocks in the pool.</li>
<li>If statistics are available: That the maximum number of blocks taken from the pool does not exceed the number of blocks in the pool.</li>
</ul>
<p>Record the requested size for all allocated blocks (maintained as an array of structures to allow efficient storage on platforms without byte addressing) </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_240681f6dc407f95ae9103d80499b5b4.html">fw</a></li><li class="navelem"><a class="el" href="../../dir_67a3fc20251395f7d62aa73621d4d7c9.html">src</a></li><li class="navelem"><a class="el" href="../../dir_721b2a6acf65b21a05ec9c4de6b97c06.html">core</a></li><li class="navelem"><a class="el" href="../../dir_0da8a660aff89227330b85a345295ee7.html">pmalloc</a></li><li class="navelem"><a class="el" href="../../dd/d19/pmalloc__debug_8h.html">pmalloc_debug.h</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
