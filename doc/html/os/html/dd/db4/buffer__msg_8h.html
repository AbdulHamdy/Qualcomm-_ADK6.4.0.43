<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OS: buffer_msg.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/db4/buffer__msg_8h.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">buffer_msg.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header with definitions for streaming data buffers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d08/buffer_8h_source.html">buffer/buffer.h</a>&quot;</code><br />
</div>
<p><a href="../../dd/db4/buffer__msg_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/de5/structBUFFER__MSG__ss.html">BUFFER_MSG_ss</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message buffer structure This encapsulates a standard <code><a class="el" href="../../d3/d1a/structBUFFER.html" title="The buffer structure itself. ">BUFFER</a></code> implementation.  <a href="../../d5/de5/structBUFFER__MSG__ss.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6f/structBUFFER__MSG__META__FNS.html">BUFFER_MSG_META_FNS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Virtual function" table for custom metadata handling  <a href="../../d3/d6f/structBUFFER__MSG__META__FNS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af30bdde3de7ab446f582912baf007cf3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>&#160;&#160;&#160;(16)</td></tr>
<tr class="memdesc:af30bdde3de7ab446f582912baf007cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of message ring used.  <a href="#af30bdde3de7ab446f582912baf007cf3">More...</a><br /></td></tr>
<tr class="separator:af30bdde3de7ab446f582912baf007cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff2a005c51f55d9f9ee4c680530faa1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a6ff2a005c51f55d9f9ee4c680530faa1">BUF_ADD_TO_FRONT_META</a>(buf,  len,  meta_type,  meta_data)</td></tr>
<tr class="memdesc:a6ff2a005c51f55d9f9ee4c680530faa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a message to the buffer with associated meta data.  <a href="#a6ff2a005c51f55d9f9ee4c680530faa1">More...</a><br /></td></tr>
<tr class="separator:a6ff2a005c51f55d9f9ee4c680530faa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430a23ff5256afb1dd1cec5f3f68c4cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a430a23ff5256afb1dd1cec5f3f68c4cb">BUF_GET_ENTRY_META</a>(buf,  entry,  meta_type)&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (entry))</td></tr>
<tr class="memdesc:a430a23ff5256afb1dd1cec5f3f68c4cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for an entry in the message ring.  <a href="#a430a23ff5256afb1dd1cec5f3f68c4cb">More...</a><br /></td></tr>
<tr class="separator:a430a23ff5256afb1dd1cec5f3f68c4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b75ca432dcb96af197499ef7ac140f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a01b75ca432dcb96af197499ef7ac140f">BUF_GET_ENTRY_GENERIC_META</a>(buf,  entry,  meta_size_bytes)</td></tr>
<tr class="memdesc:a01b75ca432dcb96af197499ef7ac140f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for an entry in the message ring.  <a href="#a01b75ca432dcb96af197499ef7ac140f">More...</a><br /></td></tr>
<tr class="separator:a01b75ca432dcb96af197499ef7ac140f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230b08c71b876a7869293f3c28fbc408"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a230b08c71b876a7869293f3c28fbc408">BUF_GET_FRONT_META</a>(buf,  meta_type)&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (buf)-&gt;front)</td></tr>
<tr class="memdesc:a230b08c71b876a7869293f3c28fbc408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for the next message to be added to the message buffer.  <a href="#a230b08c71b876a7869293f3c28fbc408">More...</a><br /></td></tr>
<tr class="separator:a230b08c71b876a7869293f3c28fbc408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac721180e8295abe96763c28025c220f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ac721180e8295abe96763c28025c220f0">BUF_GET_FRONT_GENERIC_META</a>(buf,  meta_size_bytes)&#160;&#160;&#160;(((uint8 *)(buf)-&gt;meta) + meta_size_bytes * (buf)-&gt;front)</td></tr>
<tr class="memdesc:ac721180e8295abe96763c28025c220f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for the next message to be added to the message buffer.  <a href="#ac721180e8295abe96763c28025c220f0">More...</a><br /></td></tr>
<tr class="separator:ac721180e8295abe96763c28025c220f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40580627cfade2d3cedd6c8df5e2c163"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a40580627cfade2d3cedd6c8df5e2c163">BUF_GET_BACK_MSG_META</a>(buf,  meta_type)&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (buf)-&gt;back)</td></tr>
<tr class="memdesc:a40580627cfade2d3cedd6c8df5e2c163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for the next message to be consumed from the message buffer.  <a href="#a40580627cfade2d3cedd6c8df5e2c163">More...</a><br /></td></tr>
<tr class="separator:a40580627cfade2d3cedd6c8df5e2c163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127dd11a27ad0153edc8f21e8be9a8ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a127dd11a27ad0153edc8f21e8be9a8ae">BUF_GET_BACK_GENERIC_MSG_META</a>(buf,  meta_size_bytes)&#160;&#160;&#160;(((uint8 *)(buf)-&gt;meta) + meta_size_bytes * (buf)-&gt;back)</td></tr>
<tr class="memdesc:a127dd11a27ad0153edc8f21e8be9a8ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for the next message to be consumed from the message buffer.  <a href="#a127dd11a27ad0153edc8f21e8be9a8ae">More...</a><br /></td></tr>
<tr class="separator:a127dd11a27ad0153edc8f21e8be9a8ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d13b057cf16fec4fa78aea5cde3a90e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a1d13b057cf16fec4fa78aea5cde3a90e">BUF_GET_BEHIND_MSG_META</a>(buf,  meta_type)&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (buf)-&gt;behind)</td></tr>
<tr class="memdesc:a1d13b057cf16fec4fa78aea5cde3a90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for the next message to be freed from the message buffer.  <a href="#a1d13b057cf16fec4fa78aea5cde3a90e">More...</a><br /></td></tr>
<tr class="separator:a1d13b057cf16fec4fa78aea5cde3a90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55c0dc21798eb2a68008ef835167aba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ac55c0dc21798eb2a68008ef835167aba">BUF_GET_BEHIND_MSG_GENERIC_META</a>(buf,  meta_size_bytes)&#160;&#160;&#160;(((uint8 *)(buf)-&gt;meta) + meta_size_bytes * (buf)-&gt;behind)</td></tr>
<tr class="memdesc:ac55c0dc21798eb2a68008ef835167aba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the meta data for the next message to be freed from the message buffer.  <a href="#ac55c0dc21798eb2a68008ef835167aba">More...</a><br /></td></tr>
<tr class="separator:ac55c0dc21798eb2a68008ef835167aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5265f2aa08a36c133f5a843a0a3b1f99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a5265f2aa08a36c133f5a843a0a3b1f99">BUF_NEXT_MSG</a>(ind)&#160;&#160;&#160;(uint16)(((ind) + 1) % <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</td></tr>
<tr class="memdesc:a5265f2aa08a36c133f5a843a0a3b1f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance an index round the ring.  <a href="#a5265f2aa08a36c133f5a843a0a3b1f99">More...</a><br /></td></tr>
<tr class="separator:a5265f2aa08a36c133f5a843a0a3b1f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93e840541f6d4514745737dd6625a64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ae93e840541f6d4514745737dd6625a64">BUF_PREV_MSG</a>(ind)&#160;&#160;&#160;(uint16)(((ind) + <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a> - 1) % <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</td></tr>
<tr class="separator:ae93e840541f6d4514745737dd6625a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3412bfa1642c1817ce162cee34e5fc00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a3412bfa1642c1817ce162cee34e5fc00">BUF_ANY_MSGS_TO_SEND</a>(buf)&#160;&#160;&#160;((buf)-&gt;front != (buf)-&gt;back)</td></tr>
<tr class="memdesc:a3412bfa1642c1817ce162cee34e5fc00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheap macro to test for any messages to send.  <a href="#a3412bfa1642c1817ce162cee34e5fc00">More...</a><br /></td></tr>
<tr class="separator:a3412bfa1642c1817ce162cee34e5fc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207c1134a4c081f41949b2103652eabc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a207c1134a4c081f41949b2103652eabc">BUF_NUM_MSGS_TO_SEND</a>(buf)&#160;&#160;&#160;((((buf)-&gt;front - (buf)-&gt;back) + <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>) % <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</td></tr>
<tr class="memdesc:a207c1134a4c081f41949b2103652eabc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheap macro to indicate number of messages to send.  <a href="#a207c1134a4c081f41949b2103652eabc">More...</a><br /></td></tr>
<tr class="separator:a207c1134a4c081f41949b2103652eabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0dc245cd48e2545e646cee7afb336f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#acc0dc245cd48e2545e646cee7afb336f">BUF_ANY_MSGS_SENT</a>(buf)&#160;&#160;&#160;((buf)-&gt;back != (buf)-&gt;behind)</td></tr>
<tr class="memdesc:acc0dc245cd48e2545e646cee7afb336f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheap macro to test for any messages sent but not freed.  <a href="#acc0dc245cd48e2545e646cee7afb336f">More...</a><br /></td></tr>
<tr class="separator:acc0dc245cd48e2545e646cee7afb336f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82157f76e6ad1c948161ed920bca324"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ae82157f76e6ad1c948161ed920bca324">BUF_ANY_MSGS_AVAILABLE</a>(buf)&#160;&#160;&#160;((buf)-&gt;behind != <a class="el" href="../../dd/db4/buffer__msg_8h.html#a5265f2aa08a36c133f5a843a0a3b1f99">BUF_NEXT_MSG</a>((buf)-&gt;front))</td></tr>
<tr class="memdesc:ae82157f76e6ad1c948161ed920bca324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheapish macro to test for any messages available.  <a href="#ae82157f76e6ad1c948161ed920bca324">More...</a><br /></td></tr>
<tr class="separator:ae82157f76e6ad1c948161ed920bca324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f16acbc0a35a22344a250561f11271"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a83f16acbc0a35a22344a250561f11271">BUF_NUM_MSGS_AVAILABLE</a>(buf)</td></tr>
<tr class="memdesc:a83f16acbc0a35a22344a250561f11271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheapish macro to count number of messages available.  <a href="#a83f16acbc0a35a22344a250561f11271">More...</a><br /></td></tr>
<tr class="separator:a83f16acbc0a35a22344a250561f11271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef17964aba8fd71062bca397fb555b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8ef17964aba8fd71062bca397fb555b9">BUF_NUM_MSGS_USED</a>(buf)</td></tr>
<tr class="memdesc:a8ef17964aba8fd71062bca397fb555b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheapish macro to count the number of messages that are in use.  <a href="#a8ef17964aba8fd71062bca397fb555b9">More...</a><br /></td></tr>
<tr class="separator:a8ef17964aba8fd71062bca397fb555b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bfb543d76bc38849d860436b9e4a18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a65bfb543d76bc38849d860436b9e4a18">buf_map_front_msg</a>(msg_buf)&#160;&#160;&#160;(<a class="el" href="../../d5/d08/buffer_8h.html#ad399d8df2a54cbf038824af7f44ee61e">buf_raw_write_only_map_8bit</a>(&amp;(msg_buf)-&gt;buf))</td></tr>
<tr class="memdesc:a65bfb543d76bc38849d860436b9e4a18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map in the buffer for writing the current message (at front) This should be followed by a call to <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#a39768fafdcaa79fcda1317d3168f859c" title="Add a message to the buffer. ">buf_add_to_front()</a></code> to inform downstream modules of the data.  <a href="#a65bfb543d76bc38849d860436b9e4a18">More...</a><br /></td></tr>
<tr class="separator:a65bfb543d76bc38849d860436b9e4a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fad1ff3b2206ce378bd8f0df5d68d7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a0fad1ff3b2206ce378bd8f0df5d68d7b">buf_get_back_msg_len</a>(buf)</td></tr>
<tr class="memdesc:a0fad1ff3b2206ce378bd8f0df5d68d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of the message at the back of a message ring.  <a href="#a0fad1ff3b2206ce378bd8f0df5d68d7b">More...</a><br /></td></tr>
<tr class="separator:a0fad1ff3b2206ce378bd8f0df5d68d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f5b6be125210d05379342d9129308f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a11f5b6be125210d05379342d9129308f">buf_map_back_msg</a>(msg_buf)</td></tr>
<tr class="memdesc:a11f5b6be125210d05379342d9129308f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map in the buffer for reading the current message (at back) The downstream protocol modules use this to read the message with the headers of the upstream modules removed.  <a href="#a11f5b6be125210d05379342d9129308f">More...</a><br /></td></tr>
<tr class="separator:a11f5b6be125210d05379342d9129308f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7085ff42d4681c6b6a2c788e34bae03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ab7085ff42d4681c6b6a2c788e34bae03">buf_map_back_msg_rd_wr</a>(msg_buf)</td></tr>
<tr class="memdesc:ab7085ff42d4681c6b6a2c788e34bae03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map in the buffer for reading and modifying the current message (at back)  <a href="#ab7085ff42d4681c6b6a2c788e34bae03">More...</a><br /></td></tr>
<tr class="separator:ab7085ff42d4681c6b6a2c788e34bae03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d94d6f56660eab6e0528a0f13fbb207"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a6d94d6f56660eab6e0528a0f13fbb207">buf_consume_header_bytes</a>(msg_buf,  octets)</td></tr>
<tr class="memdesc:a6d94d6f56660eab6e0528a0f13fbb207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes header bytes from the message currently being read (at back).  <a href="#a6d94d6f56660eab6e0528a0f13fbb207">More...</a><br /></td></tr>
<tr class="separator:a6d94d6f56660eab6e0528a0f13fbb207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf2260846c7eb87defec8892e1f621e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a7bf2260846c7eb87defec8892e1f621e">buf_get_behind_msg_len</a>(buf)&#160;&#160;&#160;((buf)-&gt;msg_lengths[(buf)-&gt;behind])</td></tr>
<tr class="memdesc:a7bf2260846c7eb87defec8892e1f621e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of the message at the behind of a message ring.  <a href="#a7bf2260846c7eb87defec8892e1f621e">More...</a><br /></td></tr>
<tr class="separator:a7bf2260846c7eb87defec8892e1f621e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8634781ffbabccb38a9d5352cb383c22"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d5/de5/structBUFFER__MSG__ss.html">BUFFER_MSG_ss</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a></td></tr>
<tr class="memdesc:a8634781ffbabccb38a9d5352cb383c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message buffer structure This encapsulates a standard <code><a class="el" href="../../d3/d1a/structBUFFER.html" title="The buffer structure itself. ">BUFFER</a></code> implementation.  <a href="#a8634781ffbabccb38a9d5352cb383c22">More...</a><br /></td></tr>
<tr class="separator:a8634781ffbabccb38a9d5352cb383c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10e1cc76570e8691cff67b468686003"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d3/d6f/structBUFFER__MSG__META__FNS.html">BUFFER_MSG_META_FNS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ab10e1cc76570e8691cff67b468686003">BUFFER_MSG_META_FNS</a></td></tr>
<tr class="memdesc:ab10e1cc76570e8691cff67b468686003"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Virtual function" table for custom metadata handling  <a href="#ab10e1cc76570e8691cff67b468686003">More...</a><br /></td></tr>
<tr class="separator:ab10e1cc76570e8691cff67b468686003"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a39768fafdcaa79fcda1317d3168f859c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a39768fafdcaa79fcda1317d3168f859c">buf_add_to_front</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf, uint16 len)</td></tr>
<tr class="memdesc:a39768fafdcaa79fcda1317d3168f859c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a message to the buffer.  <a href="#a39768fafdcaa79fcda1317d3168f859c">More...</a><br /></td></tr>
<tr class="separator:a39768fafdcaa79fcda1317d3168f859c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b223c1f550d3e9121c7a1b7b09e30da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a0b223c1f550d3e9121c7a1b7b09e30da">buf_update_back_only</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *msg_buf)</td></tr>
<tr class="memdesc:a0b223c1f550d3e9121c7a1b7b09e30da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fully consumes the message being read, but leaves outdex alone.  <a href="#a0b223c1f550d3e9121c7a1b7b09e30da">More...</a><br /></td></tr>
<tr class="separator:a0b223c1f550d3e9121c7a1b7b09e30da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93921da9566757217e0c93f7abe989f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a93921da9566757217e0c93f7abe989f7">buf_update_back</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf)</td></tr>
<tr class="memdesc:a93921da9566757217e0c93f7abe989f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fully consumes the message being read.  <a href="#a93921da9566757217e0c93f7abe989f7">More...</a><br /></td></tr>
<tr class="separator:a93921da9566757217e0c93f7abe989f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155ebd5db891b5fd7901dd3f4a9f3267"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a155ebd5db891b5fd7901dd3f4a9f3267">buf_unupdate_back</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf)</td></tr>
<tr class="memdesc:a155ebd5db891b5fd7901dd3f4a9f3267"><td class="mdescLeft">&#160;</td><td class="mdescRight">If possible, undo the last update of back (and outdex).  <a href="#a155ebd5db891b5fd7901dd3f4a9f3267">More...</a><br /></td></tr>
<tr class="separator:a155ebd5db891b5fd7901dd3f4a9f3267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05861e31c52d0ba17512f8e88c0c3784"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a05861e31c52d0ba17512f8e88c0c3784">buf_update_behind_free</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf)</td></tr>
<tr class="memdesc:a05861e31c52d0ba17512f8e88c0c3784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free up a message from the buffer.  <a href="#a05861e31c52d0ba17512f8e88c0c3784">More...</a><br /></td></tr>
<tr class="separator:a05861e31c52d0ba17512f8e88c0c3784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e81e68fb883c5f79a9e96d64a284807"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a5e81e68fb883c5f79a9e96d64a284807">buf_update_behind</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf)</td></tr>
<tr class="memdesc:a5e81e68fb883c5f79a9e96d64a284807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free up a message from the buffer without freeing mmu pages (allows it to be overwritten).  <a href="#a5e81e68fb883c5f79a9e96d64a284807">More...</a><br /></td></tr>
<tr class="separator:a5e81e68fb883c5f79a9e96d64a284807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8a65ff4ab1788f22ecd7b40a8e17f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#aba8a65ff4ab1788f22ecd7b40a8e17f7">buf_register_msg_buf_for_ptr_access</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf)</td></tr>
<tr class="memdesc:aba8a65ff4ab1788f22ecd7b40a8e17f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to register that a message buffer will be having entries freed or referenced by a pointer into the mapped memory.  <a href="#aba8a65ff4ab1788f22ecd7b40a8e17f7">More...</a><br /></td></tr>
<tr class="separator:aba8a65ff4ab1788f22ecd7b40a8e17f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9c9ad823648a32b072973a6b38eb815"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ac9c9ad823648a32b072973a6b38eb815">buf_unregister_msg_buf_for_ptr_access</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *buf)</td></tr>
<tr class="memdesc:ac9c9ad823648a32b072973a6b38eb815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to unregister a message buffer that was previously registered by a call to <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#aba8a65ff4ab1788f22ecd7b40a8e17f7" title="Function to register that a message buffer will be having entries freed or referenced by a pointer in...">buf_register_msg_buf_for_ptr_access()</a></code>.  <a href="#ac9c9ad823648a32b072973a6b38eb815">More...</a><br /></td></tr>
<tr class="separator:ac9c9ad823648a32b072973a6b38eb815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d23898f852f5586861e717241e7d5c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a0d23898f852f5586861e717241e7d5c3">buf_free_entries_from_ptr</a> (void *ptr)</td></tr>
<tr class="memdesc:a0d23898f852f5586861e717241e7d5c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to free buffer message entries and pages given a pointer that lies within one of the entries.  <a href="#a0d23898f852f5586861e717241e7d5c3">More...</a><br /></td></tr>
<tr class="separator:a0d23898f852f5586861e717241e7d5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab172c0ff3fcc38fb7dcc4ae3b7e958fc"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#ab172c0ff3fcc38fb7dcc4ae3b7e958fc">buf_combine_entries</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *msg_buf, uint16 entry, uint16 meta_size_bytes)</td></tr>
<tr class="memdesc:ab172c0ff3fcc38fb7dcc4ae3b7e958fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine the two packets at adjacent message ring entries into a single entry with length equal to the combined length and meta data equal to the first in the message ring.  <a href="#ab172c0ff3fcc38fb7dcc4ae3b7e958fc">More...</a><br /></td></tr>
<tr class="separator:ab172c0ff3fcc38fb7dcc4ae3b7e958fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22359dfd1b6ebc76388f96f9967ac9fc"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a22359dfd1b6ebc76388f96f9967ac9fc">buf_combine_entries_at_offset</a> (<a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *msg_buf, uint16 offset, uint16 meta_size_bytes)</td></tr>
<tr class="memdesc:a22359dfd1b6ebc76388f96f9967ac9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine the two packets at adjacent message ring entries into a single entry.  <a href="#a22359dfd1b6ebc76388f96f9967ac9fc">More...</a><br /></td></tr>
<tr class="separator:a22359dfd1b6ebc76388f96f9967ac9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header with definitions for streaming data buffers. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6ff2a005c51f55d9f9ee4c680530faa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff2a005c51f55d9f9ee4c680530faa1">&#9670;&nbsp;</a></span>BUF_ADD_TO_FRONT_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_ADD_TO_FRONT_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                        \</div><div class="line">        *<a class="code" href="../../dd/db4/buffer__msg_8h.html#a230b08c71b876a7869293f3c28fbc408">BUF_GET_FRONT_META</a>((buf), meta_type) = *(meta_data);\</div><div class="line">        buf_add_to_front((buf), (len));                         \</div><div class="line">    } <span class="keywordflow">while</span>(0)</div><div class="ttc" id="buffer__msg_8h_html_a230b08c71b876a7869293f3c28fbc408"><div class="ttname"><a href="../../dd/db4/buffer__msg_8h.html#a230b08c71b876a7869293f3c28fbc408">BUF_GET_FRONT_META</a></div><div class="ttdeci">#define BUF_GET_FRONT_META(buf, meta_type)</div><div class="ttdoc">Get a pointer to the meta data for the next message to be added to the message buffer. </div><div class="ttdef"><b>Definition:</b> buffer_msg.h:173</div></div>
</div><!-- fragment -->
<p>Add a message to the buffer with associated meta data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">len</td><td>Length of data to be added (should already be in the mmu) </td></tr>
    <tr><td class="paramname">meta_type</td><td>Type of the metadata this buffer uses </td></tr>
    <tr><td class="paramname">meta_data</td><td>Pointer to the meta data for this message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae82157f76e6ad1c948161ed920bca324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82157f76e6ad1c948161ed920bca324">&#9670;&nbsp;</a></span>BUF_ANY_MSGS_AVAILABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_ANY_MSGS_AVAILABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td>&#160;&#160;&#160;((buf)-&gt;behind != <a class="el" href="../../dd/db4/buffer__msg_8h.html#a5265f2aa08a36c133f5a843a0a3b1f99">BUF_NEXT_MSG</a>((buf)-&gt;front))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cheapish macro to test for any messages available. </p>
<p>This takes account of the fact that the <code>front</code> is not allowed to advance into the <code>behind</code>. </p>

</div>
</div>
<a id="acc0dc245cd48e2545e646cee7afb336f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc0dc245cd48e2545e646cee7afb336f">&#9670;&nbsp;</a></span>BUF_ANY_MSGS_SENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_ANY_MSGS_SENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td>&#160;&#160;&#160;((buf)-&gt;back != (buf)-&gt;behind)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cheap macro to test for any messages sent but not freed. </p>

</div>
</div>
<a id="a3412bfa1642c1817ce162cee34e5fc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3412bfa1642c1817ce162cee34e5fc00">&#9670;&nbsp;</a></span>BUF_ANY_MSGS_TO_SEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_ANY_MSGS_TO_SEND</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td>&#160;&#160;&#160;((buf)-&gt;front != (buf)-&gt;back)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cheap macro to test for any messages to send. </p>

</div>
</div>
<a id="a6d94d6f56660eab6e0528a0f13fbb207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d94d6f56660eab6e0528a0f13fbb207">&#9670;&nbsp;</a></span>buf_consume_header_bytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_consume_header_bytes</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg_buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">octets&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((msg_buf)-&gt;back_header_bytes_consumed =    \</div><div class="line">                    (uint16)((msg_buf)-&gt;back_header_bytes_consumed + (octets)))</div></div><!-- fragment -->
<p>Consumes header bytes from the message currently being read (at back). </p>

</div>
</div>
<a id="a127dd11a27ad0153edc8f21e8be9a8ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127dd11a27ad0153edc8f21e8be9a8ae">&#9670;&nbsp;</a></span>BUF_GET_BACK_GENERIC_MSG_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_BACK_GENERIC_MSG_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_size_bytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((uint8 *)(buf)-&gt;meta) + meta_size_bytes * (buf)-&gt;back)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for the next message to be consumed from the message buffer. </p>
<p>This is for generic meta data where the type isn't known. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">meta_size_bytes</td><td>Size of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fad1ff3b2206ce378bd8f0df5d68d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fad1ff3b2206ce378bd8f0df5d68d7b">&#9670;&nbsp;</a></span>buf_get_back_msg_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_get_back_msg_len</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(uint16)((buf)-&gt;msg_lengths[(buf)-&gt;back]  \</div><div class="line">                                        - (buf)-&gt;back_header_bytes_consumed)</div></div><!-- fragment -->
<p>Get the length of the message at the back of a message ring. </p>
<p>The downstream end uses this to retrieve metadata about data for onward transmission (updating outdex). </p>

</div>
</div>
<a id="a40580627cfade2d3cedd6c8df5e2c163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40580627cfade2d3cedd6c8df5e2c163">&#9670;&nbsp;</a></span>BUF_GET_BACK_MSG_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_BACK_MSG_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (buf)-&gt;back)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for the next message to be consumed from the message buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">meta_type</td><td>Type of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac55c0dc21798eb2a68008ef835167aba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55c0dc21798eb2a68008ef835167aba">&#9670;&nbsp;</a></span>BUF_GET_BEHIND_MSG_GENERIC_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_BEHIND_MSG_GENERIC_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_size_bytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((uint8 *)(buf)-&gt;meta) + meta_size_bytes * (buf)-&gt;behind)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for the next message to be freed from the message buffer. </p>
<p>This is for generic meta data where the type isn't known. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">meta_size_bytes</td><td>Size of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7bf2260846c7eb87defec8892e1f621e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf2260846c7eb87defec8892e1f621e">&#9670;&nbsp;</a></span>buf_get_behind_msg_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_get_behind_msg_len</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td>&#160;&#160;&#160;((buf)-&gt;msg_lengths[(buf)-&gt;behind])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the length of the message at the behind of a message ring. </p>
<p>The downstream end uses this to retrieve metadata about data for buffer freeing (updating tail). </p>

</div>
</div>
<a id="a1d13b057cf16fec4fa78aea5cde3a90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d13b057cf16fec4fa78aea5cde3a90e">&#9670;&nbsp;</a></span>BUF_GET_BEHIND_MSG_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_BEHIND_MSG_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (buf)-&gt;behind)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for the next message to be freed from the message buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">meta_type</td><td>Type of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01b75ca432dcb96af197499ef7ac140f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b75ca432dcb96af197499ef7ac140f">&#9670;&nbsp;</a></span>BUF_GET_ENTRY_GENERIC_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_ENTRY_GENERIC_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">entry, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_size_bytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(((uint8 *)(buf)-&gt;meta) + meta_size_bytes *     \</div><div class="line">                            ((entry) % <a class="code" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>))</div><div class="ttc" id="buffer__msg_8h_html_af30bdde3de7ab446f582912baf007cf3"><div class="ttname"><a href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a></div><div class="ttdeci">#define BUFFER_MSG_RING_SIZE</div><div class="ttdoc">Size of message ring used. </div><div class="ttdef"><b>Definition:</b> buffer_msg.h:25</div></div>
</div><!-- fragment -->
<p>Get a pointer to the meta data for an entry in the message ring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">entry</td><td>Entry number in the message ring </td></tr>
    <tr><td class="paramname">meta_size_bytes</td><td>Size of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a430a23ff5256afb1dd1cec5f3f68c4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430a23ff5256afb1dd1cec5f3f68c4cb">&#9670;&nbsp;</a></span>BUF_GET_ENTRY_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_ENTRY_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">entry, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (entry))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for an entry in the message ring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">entry</td><td>Entry number in the message ring </td></tr>
    <tr><td class="paramname">meta_type</td><td>Type of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac721180e8295abe96763c28025c220f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac721180e8295abe96763c28025c220f0">&#9670;&nbsp;</a></span>BUF_GET_FRONT_GENERIC_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_FRONT_GENERIC_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_size_bytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((uint8 *)(buf)-&gt;meta) + meta_size_bytes * (buf)-&gt;front)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for the next message to be added to the message buffer. </p>
<p>This is for generic meta data where the type isn't known. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">meta_size_bytes</td><td>Size of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a230b08c71b876a7869293f3c28fbc408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230b08c71b876a7869293f3c28fbc408">&#9670;&nbsp;</a></span>BUF_GET_FRONT_META</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_GET_FRONT_META</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((meta_type *)(buf)-&gt;meta) + (buf)-&gt;front)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the meta data for the next message to be added to the message buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the BUFFER_MSG structure </td></tr>
    <tr><td class="paramname">meta_type</td><td>Type of the metadata this buffer uses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11f5b6be125210d05379342d9129308f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f5b6be125210d05379342d9129308f">&#9670;&nbsp;</a></span>buf_map_back_msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_map_back_msg</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg_buf</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="../../dd/d32/buf__raw__read__map__8bit_8c.html#a3fca5a3daf2be592424b0c2451cc74e0">buf_raw_read_map_8bit</a>(&amp;(msg_buf)-&gt;buf) \</div><div class="line">                                        + (msg_buf)-&gt;back_header_bytes_consumed)</div><div class="ttc" id="buf__raw__read__map__8bit_8c_html_a3fca5a3daf2be592424b0c2451cc74e0"><div class="ttname"><a href="../../dd/d32/buf__raw__read__map__8bit_8c.html#a3fca5a3daf2be592424b0c2451cc74e0">buf_raw_read_map_8bit</a></div><div class="ttdeci">const uint8 * buf_raw_read_map_8bit(const BUFFER *buf)</div><div class="ttdoc">Return an 8-bit pointer to read data from a buffer. </div><div class="ttdef"><b>Definition:</b> buf_raw_read_map_8bit.c:13</div></div>
</div><!-- fragment -->
<p>Map in the buffer for reading the current message (at back) The downstream protocol modules use this to read the message with the headers of the upstream modules removed. </p>

</div>
</div>
<a id="ab7085ff42d4681c6b6a2c788e34bae03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7085ff42d4681c6b6a2c788e34bae03">&#9670;&nbsp;</a></span>buf_map_back_msg_rd_wr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_map_back_msg_rd_wr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg_buf</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="../../df/d07/buf__raw__write__map__8bit_8c.html#a0f816ef5c5f009517c15238f85ff07d1">buf_raw_write_map_8bit_position</a>(&amp;(msg_buf)-&gt;buf, (msg_buf)-&gt;buf.outdex) \</div><div class="line">                                    + (msg_buf)-&gt;back_header_bytes_consumed)</div><div class="ttc" id="buf__raw__write__map__8bit_8c_html_a0f816ef5c5f009517c15238f85ff07d1"><div class="ttname"><a href="../../df/d07/buf__raw__write__map__8bit_8c.html#a0f816ef5c5f009517c15238f85ff07d1">buf_raw_write_map_8bit_position</a></div><div class="ttdeci">uint8 * buf_raw_write_map_8bit_position(BUFFER *buf, uint16 position)</div><div class="ttdoc">Generalisation of buf_raw_write_map_8bit to return read/write access at an arbitrary position within ...</div><div class="ttdef"><b>Definition:</b> buf_raw_write_map_8bit.c:11</div></div>
</div><!-- fragment -->
<p>Map in the buffer for reading and modifying the current message (at back) </p>

</div>
</div>
<a id="a65bfb543d76bc38849d860436b9e4a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bfb543d76bc38849d860436b9e4a18">&#9670;&nbsp;</a></span>buf_map_front_msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_map_front_msg</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg_buf</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="../../d5/d08/buffer_8h.html#ad399d8df2a54cbf038824af7f44ee61e">buf_raw_write_only_map_8bit</a>(&amp;(msg_buf)-&gt;buf))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map in the buffer for writing the current message (at front) This should be followed by a call to <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#a39768fafdcaa79fcda1317d3168f859c" title="Add a message to the buffer. ">buf_add_to_front()</a></code> to inform downstream modules of the data. </p>

</div>
</div>
<a id="a5265f2aa08a36c133f5a843a0a3b1f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5265f2aa08a36c133f5a843a0a3b1f99">&#9670;&nbsp;</a></span>BUF_NEXT_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_NEXT_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ind</td><td>)</td>
          <td>&#160;&#160;&#160;(uint16)(((ind) + 1) % <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance an index round the ring. </p>

</div>
</div>
<a id="a83f16acbc0a35a22344a250561f11271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83f16acbc0a35a22344a250561f11271">&#9670;&nbsp;</a></span>BUF_NUM_MSGS_AVAILABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_NUM_MSGS_AVAILABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((((buf)-&gt;behind - ((buf)-&gt;front + 1)) + <a class="code" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>) % \</div><div class="line">                                                          <a class="code" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</div><div class="ttc" id="buffer__msg_8h_html_af30bdde3de7ab446f582912baf007cf3"><div class="ttname"><a href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a></div><div class="ttdeci">#define BUFFER_MSG_RING_SIZE</div><div class="ttdoc">Size of message ring used. </div><div class="ttdef"><b>Definition:</b> buffer_msg.h:25</div></div>
</div><!-- fragment -->
<p>Cheapish macro to count number of messages available. </p>
<p>This takes account of the fact that the <code>front</code> is not allowed to advance into the <code>behind</code>. </p>

</div>
</div>
<a id="a207c1134a4c081f41949b2103652eabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207c1134a4c081f41949b2103652eabc">&#9670;&nbsp;</a></span>BUF_NUM_MSGS_TO_SEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_NUM_MSGS_TO_SEND</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td>&#160;&#160;&#160;((((buf)-&gt;front - (buf)-&gt;back) + <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>) % <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cheap macro to indicate number of messages to send. </p>

</div>
</div>
<a id="a8ef17964aba8fd71062bca397fb555b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef17964aba8fd71062bca397fb555b9">&#9670;&nbsp;</a></span>BUF_NUM_MSGS_USED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_NUM_MSGS_USED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((((buf)-&gt;front - (buf)-&gt;behind) + <a class="code" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>) % \</div><div class="line">                                                          BUFFER_MSG_RING_SIZE)</div><div class="ttc" id="buffer__msg_8h_html_af30bdde3de7ab446f582912baf007cf3"><div class="ttname"><a href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a></div><div class="ttdeci">#define BUFFER_MSG_RING_SIZE</div><div class="ttdoc">Size of message ring used. </div><div class="ttdef"><b>Definition:</b> buffer_msg.h:25</div></div>
</div><!-- fragment -->
<p>Cheapish macro to count the number of messages that are in use. </p>

</div>
</div>
<a id="ae93e840541f6d4514745737dd6625a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93e840541f6d4514745737dd6625a64">&#9670;&nbsp;</a></span>BUF_PREV_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_PREV_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ind</td><td>)</td>
          <td>&#160;&#160;&#160;(uint16)(((ind) + <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a> - 1) % <a class="el" href="../../dd/db4/buffer__msg_8h.html#af30bdde3de7ab446f582912baf007cf3">BUFFER_MSG_RING_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af30bdde3de7ab446f582912baf007cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af30bdde3de7ab446f582912baf007cf3">&#9670;&nbsp;</a></span>BUFFER_MSG_RING_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_MSG_RING_SIZE&#160;&#160;&#160;(16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of message ring used. </p>
<p>Note that one entry must remain empty: otherwise there is an ambiguity in the case that <code>front</code> == <code>behind</code> whether the ring is full or empty.</p>
<p>Powers of two are recommended as the compiler optimizes modular arithmetic in this case. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8634781ffbabccb38a9d5352cb383c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8634781ffbabccb38a9d5352cb383c22">&#9670;&nbsp;</a></span>BUFFER_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d5/de5/structBUFFER__MSG__ss.html">BUFFER_MSG_ss</a>  <a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message buffer structure This encapsulates a standard <code><a class="el" href="../../d3/d1a/structBUFFER.html" title="The buffer structure itself. ">BUFFER</a></code> implementation. </p>

</div>
</div>
<a id="ab10e1cc76570e8691cff67b468686003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10e1cc76570e8691cff67b468686003">&#9670;&nbsp;</a></span>BUFFER_MSG_META_FNS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d3/d6f/structBUFFER__MSG__META__FNS.html">BUFFER_MSG_META_FNS</a>  <a class="el" href="../../d3/d6f/structBUFFER__MSG__META__FNS.html">BUFFER_MSG_META_FNS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>"Virtual function" table for custom metadata handling </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a39768fafdcaa79fcda1317d3168f859c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39768fafdcaa79fcda1317d3168f859c">&#9670;&nbsp;</a></span>buf_add_to_front()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_add_to_front </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a message to the buffer. </p>
<p>This updates front and index.</p>
<p>Add a message to the buffer. </p>

</div>
</div>
<a id="ab172c0ff3fcc38fb7dcc4ae3b7e958fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab172c0ff3fcc38fb7dcc4ae3b7e958fc">&#9670;&nbsp;</a></span>buf_combine_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 buf_combine_entries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>meta_size_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combine the two packets at adjacent message ring entries into a single entry with length equal to the combined length and meta data equal to the first in the message ring. </p>
<p>This is only for use on packets that are between back and behind entries not including the one at back. Entries prior to the one specified up to the behind entry are shuffled along the message ring by one to close the gap that this combining produces. The behind pointer is then advanced. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_buf</td><td>Message buffer with entries to combine </td></tr>
    <tr><td class="paramname">entry</td><td>The message ring entry to be combined with the following one. </td></tr>
    <tr><td class="paramname">meta_size_bytes</td><td>The size of meta data entries for this buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The combined length if the entries were combined or zero if the combining couldn't be done. </dd></dl>

</div>
</div>
<a id="a22359dfd1b6ebc76388f96f9967ac9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22359dfd1b6ebc76388f96f9967ac9fc">&#9670;&nbsp;</a></span>buf_combine_entries_at_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 buf_combine_entries_at_offset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>meta_size_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combine the two packets at adjacent message ring entries into a single entry. </p>
<p>Identical to <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#ab172c0ff3fcc38fb7dcc4ae3b7e958fc" title="Combine the two packets at adjacent message ring entries into a single entry with length equal to the...">buf_combine_entries()</a></code> but specifying the entry by the offset of the data in the buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_buf</td><td>Message buffer with entries to combine </td></tr>
    <tr><td class="paramname">offset</td><td>Offset of the start of the data in the buffer which specifies the message ring entry to be combined with the following one. </td></tr>
    <tr><td class="paramname">meta_size_bytes</td><td>The size of meta data entries for this buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The combined length if the entries were combined or zero if the combining couldn't be done. </dd></dl>

</div>
</div>
<a id="a0d23898f852f5586861e717241e7d5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d23898f852f5586861e717241e7d5c3">&#9670;&nbsp;</a></span>buf_free_entries_from_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_free_entries_from_ptr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to free buffer message entries and pages given a pointer that lies within one of the entries. </p>
<p>Updates <code>behind</code> and <code>free</code> in the message_buf structure. Asserts if the pointer does not match any BUFFER_MSG registered by <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#aba8a65ff4ab1788f22ecd7b40a8e17f7" title="Function to register that a message buffer will be having entries freed or referenced by a pointer in...">buf_register_msg_buf_for_ptr_access()</a></code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer that points into a previously registered message buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba8a65ff4ab1788f22ecd7b40a8e17f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8a65ff4ab1788f22ecd7b40a8e17f7">&#9670;&nbsp;</a></span>buf_register_msg_buf_for_ptr_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_register_msg_buf_for_ptr_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to register that a message buffer will be having entries freed or referenced by a pointer into the mapped memory. </p>
<p>This is needed if calls to <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#a0d23898f852f5586861e717241e7d5c3" title="Function to free buffer message entries and pages given a pointer that lies within one of the entries...">buf_free_entries_from_ptr()</a></code> need to be used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Message buffer that needs to be referenced by data pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac9c9ad823648a32b072973a6b38eb815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9c9ad823648a32b072973a6b38eb815">&#9670;&nbsp;</a></span>buf_unregister_msg_buf_for_ptr_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_unregister_msg_buf_for_ptr_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to unregister a message buffer that was previously registered by a call to <code><a class="el" href="../../dd/db4/buffer__msg_8h.html#aba8a65ff4ab1788f22ecd7b40a8e17f7" title="Function to register that a message buffer will be having entries freed or referenced by a pointer in...">buf_register_msg_buf_for_ptr_access()</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Message buffer that was previously registered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a155ebd5db891b5fd7901dd3f4a9f3267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155ebd5db891b5fd7901dd3f4a9f3267">&#9670;&nbsp;</a></span>buf_unupdate_back()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool buf_unupdate_back </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If possible, undo the last update of back (and outdex). </p>
<p>It's possible if the old back is still ahead of (or equal to) behind. </p>

</div>
</div>
<a id="a93921da9566757217e0c93f7abe989f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93921da9566757217e0c93f7abe989f7">&#9670;&nbsp;</a></span>buf_update_back()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_update_back </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fully consumes the message being read. </p>
<p>This updates back and outdex.</p>
<p>Fully consumes the message being read. </p>

</div>
</div>
<a id="a0b223c1f550d3e9121c7a1b7b09e30da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b223c1f550d3e9121c7a1b7b09e30da">&#9670;&nbsp;</a></span>buf_update_back_only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_update_back_only </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fully consumes the message being read, but leaves outdex alone. </p>
<p>This is for cases where we consume the message in fragments, so that when we come to throw it away entirely outdex is already where it should be.</p>
<p>Fully consumes the message being read, but leaves outdex alone. </p>

</div>
</div>
<a id="a5e81e68fb883c5f79a9e96d64a284807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e81e68fb883c5f79a9e96d64a284807">&#9670;&nbsp;</a></span>buf_update_behind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_update_behind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free up a message from the buffer without freeing mmu pages (allows it to be overwritten). </p>
<p>This updates behind and tail.</p>
<p>Free up a message from the buffer without freeing mmu pages (allows it to be overwritten). </p>

</div>
</div>
<a id="a05861e31c52d0ba17512f8e88c0c3784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05861e31c52d0ba17512f8e88c0c3784">&#9670;&nbsp;</a></span>buf_update_behind_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buf_update_behind_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db4/buffer__msg_8h.html#a8634781ffbabccb38a9d5352cb383c22">BUFFER_MSG</a> *&#160;</td>
          <td class="paramname"><em>msg_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free up a message from the buffer. </p>
<p>This updates behind and tail and frees the mmu pages.</p>
<p>Free up a message from the buffer. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_240681f6dc407f95ae9103d80499b5b4.html">fw</a></li><li class="navelem"><a class="el" href="../../dir_67a3fc20251395f7d62aa73621d4d7c9.html">src</a></li><li class="navelem"><a class="el" href="../../dir_721b2a6acf65b21a05ec9c4de6b97c06.html">core</a></li><li class="navelem"><a class="el" href="../../dir_6c005c01fd2244f24e1000ec33094419.html">buffer</a></li><li class="navelem"><a class="el" href="../../dd/db4/buffer__msg_8h.html">buffer_msg.h</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
