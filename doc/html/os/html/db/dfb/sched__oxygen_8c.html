<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OS: sched_oxygen.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/dfb/sched__oxygen_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sched_oxygen.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Kalimba scheduler - see header file for full description.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../de/d43/sched__oxygen__private_8h_source.html">sched_oxygen/sched_oxygen_private.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d55/structtimed__msg__t.html">timed_msg_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A timed (delayed) message.  <a href="../../d3/d55/structtimed__msg__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d23/structTIMED__MSG__CMP__DATA.html">TIMED_MSG_CMP_DATA</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparison class to be passed to <code>cmp_timed_msg_data</code> by the timer search function.  <a href="../../d6/d23/structTIMED__MSG__CMP__DATA.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae5ecbe3e38940233fd82a3eeb85ab580"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae5ecbe3e38940233fd82a3eeb85ab580">SCHED_TASK_START_EXPAND_PRESERVE_QUEUE_DEBUG</a>(tsk,  init_fn,  tsk_fn,  lvl)</td></tr>
<tr class="separator:ae5ecbe3e38940233fd82a3eeb85ab580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7855ac964c016829d75f0b77bd1cb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a6c7855ac964c016829d75f0b77bd1cb1">SCHED_TASK_START_PRIORITY_EXPAND_PRESERVE_QUEUE_DEBUG</a>(tsk,  init_fn,  tsk_fn,  lvl,  pri)&#160;&#160;&#160;PRESERVE_ENUM_FOR_DEBUGGING(task_id_##tsk##_queues)</td></tr>
<tr class="separator:a6c7855ac964c016829d75f0b77bd1cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa98943e04d8986593a5f934badfb52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a3fa98943e04d8986593a5f934badfb52">SCHED_TASK_QUEUE_EXPAND_PRESERVE_QUEUE_DEBUG</a>(tsk,  q)</td></tr>
<tr class="separator:a3fa98943e04d8986593a5f934badfb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168790e64ba68eecea9577f44048d3ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a168790e64ba68eecea9577f44048d3ee">SCHED_TASK_END_EXPAND_PRESERVE_QUEUE_DEBUG</a>(tsk)</td></tr>
<tr class="memdesc:a168790e64ba68eecea9577f44048d3ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">No end-of-per-queue handling.  <a href="#a168790e64ba68eecea9577f44048d3ee">More...</a><br /></td></tr>
<tr class="separator:a168790e64ba68eecea9577f44048d3ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8a7d2924b34a27c39aeca56f016a7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5e8a7d2924b34a27c39aeca56f016a7d">SCHED_TASK_START_EXPAND_COUNT</a>(task,  init_fn,  tsk_fn,  lvl)</td></tr>
<tr class="separator:a5e8a7d2924b34a27c39aeca56f016a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e5da5276c64a891a72b2a969b02b67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae1e5da5276c64a891a72b2a969b02b67">SCHED_TASK_START_PRIORITY_EXPAND_COUNT</a>(task,  init_fn,  tsk_fn,  lvl,  pri)&#160;&#160;&#160;+ 1</td></tr>
<tr class="separator:ae1e5da5276c64a891a72b2a969b02b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5f957b14c82f48dc209842fad25762"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#abf5f957b14c82f48dc209842fad25762">SCHED_TASK_QUEUE_EXPAND_COUNT</a>(tsk,  q)</td></tr>
<tr class="separator:abf5f957b14c82f48dc209842fad25762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c165960989536ff707d4435207789d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a7c165960989536ff707d4435207789d1">SCHED_TASK_END_EXPAND_COUNT</a>(tsk)</td></tr>
<tr class="separator:a7c165960989536ff707d4435207789d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2cb345fd406335c204f258da7f27a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2e2cb345fd406335c204f258da7f27a1">GET_MSGID</a>()&#160;&#160;&#160;(<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a05828f5e8e0c2edd18bada6005599046">msgid</a>) <a class="el" href="../../db/dfb/sched__oxygen_8c.html#a0f37cb002e7c1c441aa119c2db28a736">get_scheduler_identifier</a>()</td></tr>
<tr class="memdesc:a2e2cb345fd406335c204f258da7f27a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">We use a common source of "unique" identifier numbers.  <a href="#a2e2cb345fd406335c204f258da7f27a1">More...</a><br /></td></tr>
<tr class="separator:a2e2cb345fd406335c204f258da7f27a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa06cd1c86af79e0064221da5552c5b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#afa06cd1c86af79e0064221da5552c5b0">SET_PRIORITY_TASK_ID</a>(task_priority,  index)&#160;&#160;&#160;(task_priority &lt;&lt; 16 | index)</td></tr>
<tr class="memdesc:afa06cd1c86af79e0064221da5552c5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a basic 24-bit taskid from task/bgint index (LS octet) and task priority (lower 6 bits of MS octet).  <a href="#afa06cd1c86af79e0064221da5552c5b0">More...</a><br /></td></tr>
<tr class="separator:afa06cd1c86af79e0064221da5552c5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb863213e89f405e9493cff746096e5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#abb863213e89f405e9493cff746096e5c">MARK_AS_BG_INT</a>(id)&#160;&#160;&#160;((id) |= <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad5a66d8f0a0b1838b59642ffcd78cb5f">BG_INT_FLAG_BIT</a>)</td></tr>
<tr class="memdesc:abb863213e89f405e9493cff746096e5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the bit indicating that the taskid refers to a bg int.  <a href="#abb863213e89f405e9493cff746096e5c">More...</a><br /></td></tr>
<tr class="separator:abb863213e89f405e9493cff746096e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c7506e8ad9ca61eb8ea2bd31c0caac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae7c7506e8ad9ca61eb8ea2bd31c0caac">MARK_AS_COUPLED</a>(id)&#160;&#160;&#160;((id) |= <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad3299023acfc8951b9453727bb128154">BG_INT_TASK_IS_COUPLED_FLAG_BIT</a>)</td></tr>
<tr class="memdesc:ae7c7506e8ad9ca61eb8ea2bd31c0caac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the bit indicating that the taskid refers to a task/bg int that is "coupled" to a bg int/task.  <a href="#ae7c7506e8ad9ca61eb8ea2bd31c0caac">More...</a><br /></td></tr>
<tr class="separator:ae7c7506e8ad9ca61eb8ea2bd31c0caac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6675efff09866eb03905991ce5815051"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a6675efff09866eb03905991ce5815051">IDS_SAME_OR_COUPLED</a>(id1,  id2)&#160;&#160;&#160;(((id1) &amp; ~<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad5a66d8f0a0b1838b59642ffcd78cb5f">BG_INT_FLAG_BIT</a>) == ((id2) &amp; ~<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad5a66d8f0a0b1838b59642ffcd78cb5f">BG_INT_FLAG_BIT</a>))</td></tr>
<tr class="memdesc:a6675efff09866eb03905991ce5815051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether two IDs are equal modulo the BG_INT_FLAG bit - i.e.  <a href="#a6675efff09866eb03905991ce5815051">More...</a><br /></td></tr>
<tr class="separator:a6675efff09866eb03905991ce5815051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af971dec40fa5c414f3b9404ec57b62c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#af971dec40fa5c414f3b9404ec57b62c2">MAX_TASK_INDEX</a>&#160;&#160;&#160;<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a6b2143c824f0a0d3a40e0a70bb9a6d95">TASK_ID_END_LOCAL</a></td></tr>
<tr class="memdesc:af971dec40fa5c414f3b9404ec57b62c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum possible task index within a priority level.  <a href="#af971dec40fa5c414f3b9404ec57b62c2">More...</a><br /></td></tr>
<tr class="separator:af971dec40fa5c414f3b9404ec57b62c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4824ccdcfedb9eb8e0cadd0b68948968"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a4824ccdcfedb9eb8e0cadd0b68948968">MAP_PRIORITY_MASK_TO_HIGHEST_LEVEL</a>(Mask)&#160;&#160;&#160;<a class="el" href="../../db/dbb/utils__bit_8h.html#a1ece4215f6774bc60e12f216ee0ee628">BIT_GET_TOP_SET_POS</a>(Mask)</td></tr>
<tr class="memdesc:a4824ccdcfedb9eb8e0cadd0b68948968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to find the priority level of the highest priority task from a priority mask.  <a href="#a4824ccdcfedb9eb8e0cadd0b68948968">More...</a><br /></td></tr>
<tr class="separator:a4824ccdcfedb9eb8e0cadd0b68948968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c508d63d55866ced71311b15dcf30be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a0c508d63d55866ced71311b15dcf30be">GET_PRIORITY_MASK</a>(priority)&#160;&#160;&#160;((<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>) ((((<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>) 1) &lt;&lt; (priority + 1)) - 1))</td></tr>
<tr class="memdesc:a0c508d63d55866ced71311b15dcf30be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to calculate a priority mask from a priority level.  <a href="#a0c508d63d55866ced71311b15dcf30be">More...</a><br /></td></tr>
<tr class="separator:a0c508d63d55866ced71311b15dcf30be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b46bba7463e66c7f8fd8f6cf3f93b8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a4b46bba7463e66c7f8fd8f6cf3f93b8a">MIN_PUT_MESSAGE_IN_DELAY</a>&#160;&#160;&#160;((<a class="el" href="../../d5/dd3/rtime__types_8h.html#a42af6f8fdcd9a3106a3851c8b0adffcd">INTERVAL</a>) 10)</td></tr>
<tr class="memdesc:a4b46bba7463e66c7f8fd8f6cf3f93b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum delay for <a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5b78944a4da2584cfaebdf21423be95d" title="eventually send a message to a task ">put_message_in()</a> &ndash; if less than this, just PutMessage()  <a href="#a4b46bba7463e66c7f8fd8f6cf3f93b8a">More...</a><br /></td></tr>
<tr class="separator:a4b46bba7463e66c7f8fd8f6cf3f93b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa6e4a245b7226b85aba5cef91d1c49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a1aa6e4a245b7226b85aba5cef91d1c49">scheduler_service_expired_events</a>(HighestPriorityLevel)&#160;&#160;&#160;<a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a89d586cfee0ffedb43e31e93935e9792">timers_service_expired_casual_events</a>()</td></tr>
<tr class="separator:a1aa6e4a245b7226b85aba5cef91d1c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0969e011ee43d6a3f3fc675dcdfdec5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae0969e011ee43d6a3f3fc675dcdfdec5">scheduler_service_expired_events_after_sleep</a>()&#160;&#160;&#160;<a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a89d586cfee0ffedb43e31e93935e9792">timers_service_expired_casual_events</a>()</td></tr>
<tr class="separator:ae0969e011ee43d6a3f3fc675dcdfdec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bbb760d32e92df1f1d346609b440441"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2bbb760d32e92df1f1d346609b440441">MAX_SCHED_ID</a>&#160;&#160;&#160;((<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad51d14497e97a864a23a84be384f9cfa">scheduler_identifier</a>)0xFFFFFFU)</td></tr>
<tr class="separator:a2bbb760d32e92df1f1d346609b440441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fc73bfe3eb43bcabd24984d336d4aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a02fc73bfe3eb43bcabd24984d336d4aa">RESTART_SCHED_ID_BASE</a>&#160;&#160;&#160;(<a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2bbb760d32e92df1f1d346609b440441">MAX_SCHED_ID</a>/32)</td></tr>
<tr class="separator:a02fc73bfe3eb43bcabd24984d336d4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a570dd80288724d27cf5db444f79b0a88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a570dd80288724d27cf5db444f79b0a88">SCHED_TASK_START_EXPAND_ARRAYS</a>(tsk,  init_fn,  tsk_fn,  lvl)</td></tr>
<tr class="memdesc:a570dd80288724d27cf5db444f79b0a88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the array of task variables.  <a href="#a570dd80288724d27cf5db444f79b0a88">More...</a><br /></td></tr>
<tr class="separator:a570dd80288724d27cf5db444f79b0a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4d33f75e11ba27c3d31ef783c408b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#acf4d33f75e11ba27c3d31ef783c408b0">SCHED_TASK_START_PRIORITY_EXPAND_ARRAYS</a>(tsk,  init_fn,  tsk_fn,  lvl,  pri)&#160;&#160;&#160;static <a class="el" href="../../dc/daa/structMSGQ.html">MSGQ</a> queue_ ## tsk [task_id_ ## tsk ## _n_queues];</td></tr>
<tr class="separator:acf4d33f75e11ba27c3d31ef783c408b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023b310b21d5cfec5d72ae5bdebdbb6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a023b310b21d5cfec5d72ae5bdebdbb6d">SCHED_TASK_QUEUE_EXPAND_ARRAYS</a>(tsk,  q)</td></tr>
<tr class="memdesc:a023b310b21d5cfec5d72ae5bdebdbb6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">No per-queue handling.  <a href="#a023b310b21d5cfec5d72ae5bdebdbb6d">More...</a><br /></td></tr>
<tr class="separator:a023b310b21d5cfec5d72ae5bdebdbb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e255d7c059f6825ab80fb59600ca0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a41e255d7c059f6825ab80fb59600ca0b">SCHED_TASK_END_EXPAND_ARRAYS</a>(tsk)</td></tr>
<tr class="memdesc:a41e255d7c059f6825ab80fb59600ca0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">No end-of-per-queue handling.  <a href="#a41e255d7c059f6825ab80fb59600ca0b">More...</a><br /></td></tr>
<tr class="separator:a41e255d7c059f6825ab80fb59600ca0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae55f2a89840a233713a14afb196d9503"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d3/d55/structtimed__msg__t.html">timed_msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae55f2a89840a233713a14afb196d9503">timed_msg</a></td></tr>
<tr class="memdesc:ae55f2a89840a233713a14afb196d9503"><td class="mdescLeft">&#160;</td><td class="mdescRight">A timed (delayed) message.  <a href="#ae55f2a89840a233713a14afb196d9503">More...</a><br /></td></tr>
<tr class="separator:ae55f2a89840a233713a14afb196d9503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48a41fb879e327b83a59ee90a699836c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a48a41fb879e327b83a59ee90a699836c">enter_shallow_sleep</a> (void)</td></tr>
<tr class="separator:a48a41fb879e327b83a59ee90a699836c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fcf4cd95d56c2f31ac905750a698d0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ab3fcf4cd95d56c2f31ac905750a698d0">check_context_switch</a> (<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> inputPriorityMask)</td></tr>
<tr class="memdesc:ab3fcf4cd95d56c2f31ac905750a698d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch context to higher priority tasks if needed.  <a href="#ab3fcf4cd95d56c2f31ac905750a698d0">More...</a><br /></td></tr>
<tr class="separator:ab3fcf4cd95d56c2f31ac905750a698d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5e6b74bb3ac6600194a9ce4c9971fd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a7c5e6b74bb3ac6600194a9ce4c9971fd">sched_find_bgint</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> bgint_id)</td></tr>
<tr class="memdesc:a7c5e6b74bb3ac6600194a9ce4c9971fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the record for a background interrupt.  <a href="#a7c5e6b74bb3ac6600194a9ce4c9971fd">More...</a><br /></td></tr>
<tr class="separator:a7c5e6b74bb3ac6600194a9ce4c9971fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18404a16a2d4c375d832bb8cbe81773d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a18404a16a2d4c375d832bb8cbe81773d">flush_bg_ints</a> (<a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *p_bgint)</td></tr>
<tr class="memdesc:a18404a16a2d4c375d832bb8cbe81773d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanly remove all traces of a bg int from the scheduler's internals before it is deleted.  <a href="#a18404a16a2d4c375d832bb8cbe81773d">More...</a><br /></td></tr>
<tr class="separator:a18404a16a2d4c375d832bb8cbe81773d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c51225a44478bb9390863c6601cfa0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a65c51225a44478bb9390863c6601cfa0">flush_task_messages</a> (<a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> *p_task)</td></tr>
<tr class="memdesc:a65c51225a44478bb9390863c6601cfa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all messages associated with the given task.  <a href="#a65c51225a44478bb9390863c6601cfa0">More...</a><br /></td></tr>
<tr class="separator:a65c51225a44478bb9390863c6601cfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c5ae437f46e4955745786a15a82d5e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae6c5ae437f46e4955745786a15a82d5e">prune_bg_ints</a> (<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> priority)</td></tr>
<tr class="memdesc:ae6c5ae437f46e4955745786a15a82d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strict timed event handler used to wake up the background when it goes to sleep or starts a low-priority task with future casual timed events to be attended to.  <a href="#ae6c5ae437f46e4955745786a15a82d5e">More...</a><br /></td></tr>
<tr class="separator:ae6c5ae437f46e4955745786a15a82d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5eec65793ebd0f3d698d4b5e746fcb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a0d5eec65793ebd0f3d698d4b5e746fcb">prune_tasks</a> (<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> priority)</td></tr>
<tr class="memdesc:a0d5eec65793ebd0f3d698d4b5e746fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Physically delete tasks that have been marked for deletion.  <a href="#a0d5eec65793ebd0f3d698d4b5e746fcb">More...</a><br /></td></tr>
<tr class="separator:a0d5eec65793ebd0f3d698d4b5e746fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad297608d9a1a2888656544846df08408"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ad297608d9a1a2888656544846df08408">do_housekeeping</a> (void)</td></tr>
<tr class="separator:ad297608d9a1a2888656544846df08408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60baf69b420842b71d70ecef911a97f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#af60baf69b420842b71d70ecef911a97f">service_bg_int</a> (<a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *b, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> HighestPriorityLevel)</td></tr>
<tr class="separator:af60baf69b420842b71d70ecef911a97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b2534c558aa325aeb9b19e05b8d8441"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a9b2534c558aa325aeb9b19e05b8d8441">service_bg_ints</a> (<a class="el" href="../../d3/d4e/structBG__INTQ.html">BG_INTQ</a> *bg_ints_queue, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> HighestPriorityLevel)</td></tr>
<tr class="separator:a9b2534c558aa325aeb9b19e05b8d8441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b89e5be32a60fa5ddbaa24e9948b45"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ab9b89e5be32a60fa5ddbaa24e9948b45">service_task</a> (<a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> *t, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> HighestPriorityLevel)</td></tr>
<tr class="separator:ab9b89e5be32a60fa5ddbaa24e9948b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af877617e8b528917e17cda314c992dd7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#af877617e8b528917e17cda314c992dd7">service_tasks</a> (<a class="el" href="../../dc/d89/structTASKQ.html">TASKQ</a> *tasks_queue, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> HighestPriorityLevel)</td></tr>
<tr class="separator:af877617e8b528917e17cda314c992dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81d1785217cf9ea48587ccf36971660"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ad81d1785217cf9ea48587ccf36971660">init_tasks</a> (bool first_time, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> runlevel)</td></tr>
<tr class="memdesc:ad81d1785217cf9ea48587ccf36971660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the init function for each task introduced by the change of runlevel (or all tasks below the new runlevel if <code>first_time</code> is TRUE) and set the new runlevel.  <a href="#ad81d1785217cf9ea48587ccf36971660">More...</a><br /></td></tr>
<tr class="separator:ad81d1785217cf9ea48587ccf36971660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f37cb002e7c1c441aa119c2db28a736"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad51d14497e97a864a23a84be384f9cfa">scheduler_identifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a0f37cb002e7c1c441aa119c2db28a736">get_scheduler_identifier</a> (void)</td></tr>
<tr class="memdesc:a0f37cb002e7c1c441aa119c2db28a736"><td class="mdescLeft">&#160;</td><td class="mdescRight">obtain an identifier from the scheduler  <a href="#a0f37cb002e7c1c441aa119c2db28a736">More...</a><br /></td></tr>
<tr class="separator:a0f37cb002e7c1c441aa119c2db28a736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549f386ff0a5a82c18025a4fdb80eda3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a549f386ff0a5a82c18025a4fdb80eda3">get_context_switch_priority_mask</a> (void)</td></tr>
<tr class="separator:a549f386ff0a5a82c18025a4fdb80eda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7966616de42657b9c94852e6b08ff769"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a05828f5e8e0c2edd18bada6005599046">msgid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a7966616de42657b9c94852e6b08ff769">put_allocated_message</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> queueId, <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a795e96b14e954a74a74d5948b5586e69">MSG</a> *pMessage)</td></tr>
<tr class="memdesc:a7966616de42657b9c94852e6b08ff769"><td class="mdescLeft">&#160;</td><td class="mdescRight">put_allocated_message  <a href="#a7966616de42657b9c94852e6b08ff769">More...</a><br /></td></tr>
<tr class="separator:a7966616de42657b9c94852e6b08ff769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705a86b8cd33e365fa1919612e2e8621"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a705a86b8cd33e365fa1919612e2e8621">sched_sleep</a> (void)</td></tr>
<tr class="separator:a705a86b8cd33e365fa1919612e2e8621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e51258036e93eb76bfc049e6be0cd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a04e51258036e93eb76bfc049e6be0cd8">terminate_runlevel</a> (void)</td></tr>
<tr class="memdesc:a04e51258036e93eb76bfc049e6be0cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the scheduler to quit the current runlevel.  <a href="#a04e51258036e93eb76bfc049e6be0cd8">More...</a><br /></td></tr>
<tr class="separator:a04e51258036e93eb76bfc049e6be0cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff99383f0aa8a6d7a4aa2fc6178bffed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aff99383f0aa8a6d7a4aa2fc6178bffed">init_sched</a> (void)</td></tr>
<tr class="memdesc:aff99383f0aa8a6d7a4aa2fc6178bffed"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise the scheduler.  <a href="#aff99383f0aa8a6d7a4aa2fc6178bffed">More...</a><br /></td></tr>
<tr class="separator:aff99383f0aa8a6d7a4aa2fc6178bffed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b56c9d68bea57ed23fcec5f4dc50fa9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2b56c9d68bea57ed23fcec5f4dc50fa9">sched</a> (<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> runlevel)</td></tr>
<tr class="memdesc:a2b56c9d68bea57ed23fcec5f4dc50fa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function of the background task scheduler.  <a href="#a2b56c9d68bea57ed23fcec5f4dc50fa9">More...</a><br /></td></tr>
<tr class="separator:a2b56c9d68bea57ed23fcec5f4dc50fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1079e5d9fc797d56894536b3afd61560"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a1079e5d9fc797d56894536b3afd61560">set_runlevel</a> (<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> runlevel)</td></tr>
<tr class="memdesc:a1079e5d9fc797d56894536b3afd61560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set current run level.  <a href="#a1079e5d9fc797d56894536b3afd61560">More...</a><br /></td></tr>
<tr class="separator:a1079e5d9fc797d56894536b3afd61560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53610724c2adee879b22f5e9b20067ee"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a53610724c2adee879b22f5e9b20067ee">new_task</a> (<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> num_of_queues, void *task_data, void(*handler)(void **), <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#acb49977e41302614df707626fb9a8903">MSG_FLUSH_HANDLER</a> flush_msg)</td></tr>
<tr class="memdesc:a53610724c2adee879b22f5e9b20067ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that creates and populates a <code>TASK</code> object, for dynamic task support.  <a href="#a53610724c2adee879b22f5e9b20067ee">More...</a><br /></td></tr>
<tr class="separator:a53610724c2adee879b22f5e9b20067ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58fbcc04ce1ddf0766e56881b6bac8f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a58fbcc04ce1ddf0766e56881b6bac8f7">new_bg_int</a> (void **ptask_data, void(*handler)(void **), void *plocal_data)</td></tr>
<tr class="memdesc:a58fbcc04ce1ddf0766e56881b6bac8f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that creates and populates a <code>BGINT</code>, for dynamic task support.  <a href="#a58fbcc04ce1ddf0766e56881b6bac8f7">More...</a><br /></td></tr>
<tr class="separator:a58fbcc04ce1ddf0766e56881b6bac8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea561e873c29d005ef256131c7a165cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aea561e873c29d005ef256131c7a165cb">create_task</a> (<a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0e61fcc4980f8d02533edba6af2ac6a8">PRIORITY</a> task_priority, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> num_of_queues, void *task_data, void(*msg_handler)(void **), void(*bg_int_handler)(void **), <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#acb49977e41302614df707626fb9a8903">MSG_FLUSH_HANDLER</a> flush_msg, <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> *created_task_id)</td></tr>
<tr class="memdesc:aea561e873c29d005ef256131c7a165cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new task with the given parameters, initialises the new task and returns the task id.  <a href="#aea561e873c29d005ef256131c7a165cb">More...</a><br /></td></tr>
<tr class="separator:aea561e873c29d005ef256131c7a165cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af90d2f98eb61785bc56a0a1a68a2a53e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#af90d2f98eb61785bc56a0a1a68a2a53e">get_msg_qid_for_task</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> task_id, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> queue_index, <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> *pQueue_id)</td></tr>
<tr class="memdesc:af90d2f98eb61785bc56a0a1a68a2a53e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the message queue Id for the given task.  <a href="#af90d2f98eb61785bc56a0a1a68a2a53e">More...</a><br /></td></tr>
<tr class="separator:af90d2f98eb61785bc56a0a1a68a2a53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf0e7e9cca4af2af74c96b0a9aa91de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5cf0e7e9cca4af2af74c96b0a9aa91de">delete_task</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> id)</td></tr>
<tr class="memdesc:a5cf0e7e9cca4af2af74c96b0a9aa91de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a scheduler task that was previously created.  <a href="#a5cf0e7e9cca4af2af74c96b0a9aa91de">More...</a><br /></td></tr>
<tr class="separator:a5cf0e7e9cca4af2af74c96b0a9aa91de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b1d2f4134ac9dd423d5a24d0c4b436"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a05828f5e8e0c2edd18bada6005599046">msgid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a61b1d2f4134ac9dd423d5a24d0c4b436">put_message</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> queueId, uint16 mi, void *mv)</td></tr>
<tr class="memdesc:a61b1d2f4134ac9dd423d5a24d0c4b436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId.  <a href="#a61b1d2f4134ac9dd423d5a24d0c4b436">More...</a><br /></td></tr>
<tr class="separator:a61b1d2f4134ac9dd423d5a24d0c4b436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2a5dd0d0a9f00a9633ac116384eeb70"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae2a5dd0d0a9f00a9633ac116384eeb70">unsafe_raise_bg_int</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> task_id, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> bgIntStatus, <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *p_bg_int)</td></tr>
<tr class="memdesc:ae2a5dd0d0a9f00a9633ac116384eeb70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises a background interrupt to required task if not already raised and with the record for this background interrupt already found.  <a href="#ae2a5dd0d0a9f00a9633ac116384eeb70">More...</a><br /></td></tr>
<tr class="separator:ae2a5dd0d0a9f00a9633ac116384eeb70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2295e8023f478bcc3d55e2abd07d56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a4e2295e8023f478bcc3d55e2abd07d56">raise_static_bg_int</a> (enum <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#afc4be75a97ecd83fe9644c948c5b314c">bg_int_indices_enum</a> index)</td></tr>
<tr class="memdesc:a4e2295e8023f478bcc3d55e2abd07d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises a background interrupt to required static task if not already raised.  <a href="#a4e2295e8023f478bcc3d55e2abd07d56">More...</a><br /></td></tr>
<tr class="separator:a4e2295e8023f478bcc3d55e2abd07d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4f137f293714981e5010d739f55d538"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ab4f137f293714981e5010d739f55d538">raise_bg_int</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> task_id, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> bgIntBitPos)</td></tr>
<tr class="memdesc:ab4f137f293714981e5010d739f55d538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises a background interrupt to required task if not already raised.  <a href="#ab4f137f293714981e5010d739f55d538">More...</a><br /></td></tr>
<tr class="separator:ab4f137f293714981e5010d739f55d538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5a5046c19a6938717b1cb20c88731a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a9e5a5046c19a6938717b1cb20c88731a">deliver_timed_message</a> (void *stuff)</td></tr>
<tr class="separator:a9e5a5046c19a6938717b1cb20c88731a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01140fe2cd220a6b4e449c5c3da39c20"><td class="memItemLeft" align="right" valign="top">tTimerId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a01140fe2cd220a6b4e449c5c3da39c20">put_message_at</a> (<a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> deadline, <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> queueId, uint16 mi, void *mv)</td></tr>
<tr class="memdesc:a01140fe2cd220a6b4e449c5c3da39c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">eventually send a message to a task  <a href="#a01140fe2cd220a6b4e449c5c3da39c20">More...</a><br /></td></tr>
<tr class="separator:a01140fe2cd220a6b4e449c5c3da39c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b78944a4da2584cfaebdf21423be95d"><td class="memItemLeft" align="right" valign="top">tTimerId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5b78944a4da2584cfaebdf21423be95d">put_message_in</a> (<a class="el" href="../../d5/dd3/rtime__types_8h.html#a42af6f8fdcd9a3106a3851c8b0adffcd">INTERVAL</a> delay, <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> queueId, uint16 mi, void *mv)</td></tr>
<tr class="memdesc:a5b78944a4da2584cfaebdf21423be95d"><td class="mdescLeft">&#160;</td><td class="mdescRight">eventually send a message to a task  <a href="#a5b78944a4da2584cfaebdf21423be95d">More...</a><br /></td></tr>
<tr class="separator:a5b78944a4da2584cfaebdf21423be95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc39315a0e8e742dde9849949e295f3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#afc39315a0e8e742dde9849949e295f3f">cancel_timed_message</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> q, tTimerId timer_id, uint16 *pmi, void **pmv)</td></tr>
<tr class="memdesc:afc39315a0e8e742dde9849949e295f3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a message that has been scheduled for sending later.  <a href="#afc39315a0e8e742dde9849949e295f3f">More...</a><br /></td></tr>
<tr class="separator:afc39315a0e8e742dde9849949e295f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981bde1c7f0b661d9f4a3d9db98e6726"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a981bde1c7f0b661d9f4a3d9db98e6726">cmp_timed_msg_data</a> (const void *data, const void *cmp_data)</td></tr>
<tr class="memdesc:a981bde1c7f0b661d9f4a3d9db98e6726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparison function for pending scheduler messages on the timer queue.  <a href="#a981bde1c7f0b661d9f4a3d9db98e6726">More...</a><br /></td></tr>
<tr class="separator:a981bde1c7f0b661d9f4a3d9db98e6726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15d64655804ee4c7b1f6dcb5118eb9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ab15d64655804ee4c7b1f6dcb5118eb9f">cancel_first_matching_timed_message</a> (uint16 mi, const void *cmp_data, <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a2fa583bae3834f7831cdd1e07ca19761">TIMED_MSG_CMP_FN</a> cmp_fn, uint16 *pmi, void **pmv)</td></tr>
<tr class="memdesc:ab15d64655804ee4c7b1f6dcb5118eb9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the given number of pending timed messages matching the given message ID and body, where the "body match" is defined by the supplied comparison function and the message ID match is optional.  <a href="#ab15d64655804ee4c7b1f6dcb5118eb9f">More...</a><br /></td></tr>
<tr class="separator:ab15d64655804ee4c7b1f6dcb5118eb9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb2d6198ad5b2f980d55900b1b6205d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#acdb2d6198ad5b2f980d55900b1b6205d">get_message</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> queue_id, uint16 *pmi, void **pmv)</td></tr>
<tr class="memdesc:acdb2d6198ad5b2f980d55900b1b6205d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a message from the message queue ID queueId if one is available.  <a href="#acdb2d6198ad5b2f980d55900b1b6205d">More...</a><br /></td></tr>
<tr class="separator:acdb2d6198ad5b2f980d55900b1b6205d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0264a38fa7a0c5067fdfe58d79e6123c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a0264a38fa7a0c5067fdfe58d79e6123c">get_message_for_current_task</a> (uint16 *pmi, void **pmv)</td></tr>
<tr class="memdesc:a0264a38fa7a0c5067fdfe58d79e6123c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a message from queue zero of the current task.  <a href="#a0264a38fa7a0c5067fdfe58d79e6123c">More...</a><br /></td></tr>
<tr class="separator:a0264a38fa7a0c5067fdfe58d79e6123c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6525738d1ab6bb6d0bf3fbeb85a57d09"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a6525738d1ab6bb6d0bf3fbeb85a57d09">get_highest_bg_int</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> bg_int_id, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> *highest_bg_int)</td></tr>
<tr class="memdesc:a6525738d1ab6bb6d0bf3fbeb85a57d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the highest priority background interrupt for the task if one is raised.  <a href="#a6525738d1ab6bb6d0bf3fbeb85a57d09">More...</a><br /></td></tr>
<tr class="separator:a6525738d1ab6bb6d0bf3fbeb85a57d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc104ebef0c51b67572fc6257e5c8b4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#afc104ebef0c51b67572fc6257e5c8b4b">exit_irq_check_context_switch</a> (void)</td></tr>
<tr class="memdesc:afc104ebef0c51b67572fc6257e5c8b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from interrupt handler when a message has been sent in an ISR Checks if context switch is needed.  <a href="#afc104ebef0c51b67572fc6257e5c8b4b">More...</a><br /></td></tr>
<tr class="separator:afc104ebef0c51b67572fc6257e5c8b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b55353e41035460ad831945889aec2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a15b55353e41035460ad831945889aec2">current_task_priority</a> (void)</td></tr>
<tr class="memdesc:a15b55353e41035460ad831945889aec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the priority of the current task.  <a href="#a15b55353e41035460ad831945889aec2">More...</a><br /></td></tr>
<tr class="separator:a15b55353e41035460ad831945889aec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05bc08babff1cd95e435ea1b099ca084"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a05bc08babff1cd95e435ea1b099ca084">sched_is_running</a> (void)</td></tr>
<tr class="memdesc:a05bc08babff1cd95e435ea1b099ca084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the scheduler is running.  <a href="#a05bc08babff1cd95e435ea1b099ca084">More...</a><br /></td></tr>
<tr class="separator:a05bc08babff1cd95e435ea1b099ca084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797fd10488ec72ecf1abc843f0d08d17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a797fd10488ec72ecf1abc843f0d08d17">sched_in_interrupt</a> (void)</td></tr>
<tr class="memdesc:a797fd10488ec72ecf1abc843f0d08d17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether running in the interrupt context.  <a href="#a797fd10488ec72ecf1abc843f0d08d17">More...</a><br /></td></tr>
<tr class="separator:a797fd10488ec72ecf1abc843f0d08d17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8e8c4d82ca8c520db673b24dd6451b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a7b8e8c4d82ca8c520db673b24dd6451b">sched_find_task</a> (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> task_id)</td></tr>
<tr class="memdesc:a7b8e8c4d82ca8c520db673b24dd6451b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for the given task.  <a href="#a7b8e8c4d82ca8c520db673b24dd6451b">More...</a><br /></td></tr>
<tr class="separator:a7b8e8c4d82ca8c520db673b24dd6451b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e216d74578f18e9d81f2eb95d9c739b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5e216d74578f18e9d81f2eb95d9c739b">sched_get_sleep_deadline</a> (<a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> *earliest, <a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> *latest)</td></tr>
<tr class="memdesc:a5e216d74578f18e9d81f2eb95d9c739b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell dorm how long we'd like to sleep.  <a href="#a5e216d74578f18e9d81f2eb95d9c739b">More...</a><br /></td></tr>
<tr class="separator:a5e216d74578f18e9d81f2eb95d9c739b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab85bc41f259943187d54712cd0904bbb"><td class="memItemLeft" align="right" valign="top">const uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ab85bc41f259943187d54712cd0904bbb">N_TASKS</a> = (0 <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab27c18138644a7718a166bca3586f3e8a53cf2ebdaccac6bb63841eb3bd4fcf5c">SCHED_TASK_LIST</a>(COUNT))</td></tr>
<tr class="memdesc:ab85bc41f259943187d54712cd0904bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of statically generated tasks, auto-initialised in the source file.  <a href="#ab85bc41f259943187d54712cd0904bbb">More...</a><br /></td></tr>
<tr class="separator:ab85bc41f259943187d54712cd0904bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7e276156636ecef3633bdb91d2c490"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a1e7e276156636ecef3633bdb91d2c490">current_id</a></td></tr>
<tr class="memdesc:a1e7e276156636ecef3633bdb91d2c490"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful to have these "logically private" variables global, to allow debug-visibility at wider scope.  <a href="#a1e7e276156636ecef3633bdb91d2c490">More...</a><br /></td></tr>
<tr class="separator:a1e7e276156636ecef3633bdb91d2c490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edf8d1cf4f2c4ced17ab5d0a0eeadc4"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a7edf8d1cf4f2c4ced17ab5d0a0eeadc4">TotalNumMessages</a></td></tr>
<tr class="memdesc:a7edf8d1cf4f2c4ced17ab5d0a0eeadc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of messages and background interrupts in the system.  <a href="#a7edf8d1cf4f2c4ced17ab5d0a0eeadc4">More...</a><br /></td></tr>
<tr class="separator:a7edf8d1cf4f2c4ced17ab5d0a0eeadc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbcc7904c44e9104c40e73d52870d48"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a7cbcc7904c44e9104c40e73d52870d48">CurrentPriorityMask</a></td></tr>
<tr class="memdesc:a7cbcc7904c44e9104c40e73d52870d48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit field representing priority of tasks that are ready to run, but have not yet run.  <a href="#a7cbcc7904c44e9104c40e73d52870d48">More...</a><br /></td></tr>
<tr class="separator:a7cbcc7904c44e9104c40e73d52870d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5762ee123f9be5f6905b26d5652b4ace"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad51d14497e97a864a23a84be384f9cfa">scheduler_identifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5762ee123f9be5f6905b26d5652b4ace">NextSchedulerIdentifier</a> = 1</td></tr>
<tr class="memdesc:a5762ee123f9be5f6905b26d5652b4ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source of scheduler identifiers.  <a href="#a5762ee123f9be5f6905b26d5652b4ace">More...</a><br /></td></tr>
<tr class="separator:a5762ee123f9be5f6905b26d5652b4ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d043b733fb6b21bc3fc5587a72c7d0c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a795e96b14e954a74a74d5948b5586e69">MSG</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a1d043b733fb6b21bc3fc5587a72c7d0c">pCachedMessage</a> = (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a795e96b14e954a74a74d5948b5586e69">MSG</a> *) NULL</td></tr>
<tr class="memdesc:a1d043b733fb6b21bc3fc5587a72c7d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a previously relinquished message in order to optimise the next call to <a class="el" href="../../db/dfb/sched__oxygen_8c.html#a61b1d2f4134ac9dd423d5a24d0c4b436" title="Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId...">put_message()</a>.  <a href="#a1d043b733fb6b21bc3fc5587a72c7d0c">More...</a><br /></td></tr>
<tr class="separator:a1d043b733fb6b21bc3fc5587a72c7d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a5853002b199ae9ee75aeb5b646234"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d89/structTASKQ.html">TASKQ</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a64a5853002b199ae9ee75aeb5b646234">tasks_in_priority</a> [<a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0e61fcc4980f8d02533edba6af2ac6a8a67d35d8917ef5d8c7bc8730a936350f9">NUM_PRIORITIES</a>]</td></tr>
<tr class="separator:a64a5853002b199ae9ee75aeb5b646234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6fa68437b2fe0eae5c6a2550bd1a296"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d4e/structBG__INTQ.html">BG_INTQ</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ab6fa68437b2fe0eae5c6a2550bd1a296">bg_ints_in_priority</a> [<a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0e61fcc4980f8d02533edba6af2ac6a8a67d35d8917ef5d8c7bc8730a936350f9">NUM_PRIORITIES</a>]</td></tr>
<tr class="separator:ab6fa68437b2fe0eae5c6a2550bd1a296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f40ae43af15848dd3e922b8b8ab3c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a81f40ae43af15848dd3e922b8b8ab3c9">SchedInterruptActive</a> = 0</td></tr>
<tr class="memdesc:a81f40ae43af15848dd3e922b8b8ab3c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set by interrupt handler to indicate IRQ is active.  <a href="#a81f40ae43af15848dd3e922b8b8ab3c9">More...</a><br /></td></tr>
<tr class="separator:a81f40ae43af15848dd3e922b8b8ab3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151378950887e946e1c64cf072726cb2"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a3959382aa43421a17fdbb2c3c98f9bc4"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;&#160;&#160;<a class="el" href="../../db/dfb/sched__oxygen_8c.html#a00b8457741f45f2de50e99499ec0acfd">current_runlevel</a></td></tr>
<tr class="memdesc:a3959382aa43421a17fdbb2c3c98f9bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run level at which scheduler is currently operating - initialised to illegal value (in init_sched) to simplify initialisation routine.  <a href="#a3959382aa43421a17fdbb2c3c98f9bc4">More...</a><br /></td></tr>
<tr class="separator:a3959382aa43421a17fdbb2c3c98f9bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151378950887e946e1c64cf072726cb2"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a151378950887e946e1c64cf072726cb2">sched_flags</a></td></tr>
<tr class="memdesc:a151378950887e946e1c64cf072726cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used internally within the scheduler.  <a href="#a151378950887e946e1c64cf072726cb2">More...</a><br /></td></tr>
<tr class="separator:a151378950887e946e1c64cf072726cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6f76368abfbc8709f4c1346dfa6a20"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a3e6f76368abfbc8709f4c1346dfa6a20">run</a> = FALSE</td></tr>
<tr class="memdesc:a3e6f76368abfbc8709f4c1346dfa6a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">A flag to allow us to exit a runlevel.  <a href="#a3e6f76368abfbc8709f4c1346dfa6a20">More...</a><br /></td></tr>
<tr class="separator:a3e6f76368abfbc8709f4c1346dfa6a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa582e39a9b1e994415a767b7ec8ad278"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aa582e39a9b1e994415a767b7ec8ad278">housekeeping</a> = FALSE</td></tr>
<tr class="memdesc:aa582e39a9b1e994415a767b7ec8ad278"><td class="mdescLeft">&#160;</td><td class="mdescRight">A flag to indicate whether we have any task housekeeping to do, such as deletion of tasks that have been marked as ready to be deleted.  <a href="#aa582e39a9b1e994415a767b7ec8ad278">More...</a><br /></td></tr>
<tr class="separator:aa582e39a9b1e994415a767b7ec8ad278"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Create a table of tasks. The length is known (N_ALL_TASKS - 1)</h2></td></tr>
<tr class="memitem:ae1bc16bd93693ec6edf20cd649db1522"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae1bc16bd93693ec6edf20cd649db1522">TASK_RUNLEVEL</a>(lvl)&#160;&#160;&#160;lvl,                        /* runlevel */</td></tr>
<tr class="memdesc:ae1bc16bd93693ec6edf20cd649db1522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run level becomes last element.  <a href="#ae1bc16bd93693ec6edf20cd649db1522">More...</a><br /></td></tr>
<tr class="separator:ae1bc16bd93693ec6edf20cd649db1522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87ac87e01a6faec3d85e76a2e98c290"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aa87ac87e01a6faec3d85e76a2e98c290">SCHED_TASK_START_EXPAND_TABLE</a>(tsk,  init_fn,  tsk_fn,  lvl)</td></tr>
<tr class="memdesc:aa87ac87e01a6faec3d85e76a2e98c290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate element of TASK.  <a href="#aa87ac87e01a6faec3d85e76a2e98c290">More...</a><br /></td></tr>
<tr class="separator:aa87ac87e01a6faec3d85e76a2e98c290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60dfe5bc274a68f7136ee7167165d2d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a60dfe5bc274a68f7136ee7167165d2d5">SCHED_TASK_START_PRIORITY_EXPAND_TABLE</a>(tsk,  init_fn,  tsk_fn,  lvl,  pri)</td></tr>
<tr class="separator:a60dfe5bc274a68f7136ee7167165d2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c678f615e82b2f04dd94bc7d804012"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a94c678f615e82b2f04dd94bc7d804012">SCHED_TASK_QUEUE_EXPAND_TABLE</a>(tsk,  q)</td></tr>
<tr class="memdesc:a94c678f615e82b2f04dd94bc7d804012"><td class="mdescLeft">&#160;</td><td class="mdescRight">No per-queue handling.  <a href="#a94c678f615e82b2f04dd94bc7d804012">More...</a><br /></td></tr>
<tr class="separator:a94c678f615e82b2f04dd94bc7d804012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa904740b6ae21c0654c1c54a5f80d499"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aa904740b6ae21c0654c1c54a5f80d499">SCHED_TASK_END_EXPAND_TABLE</a>(tsk)</td></tr>
<tr class="memdesc:aa904740b6ae21c0654c1c54a5f80d499"><td class="mdescLeft">&#160;</td><td class="mdescRight">No end-of-per-queue handling.  <a href="#aa904740b6ae21c0654c1c54a5f80d499">More...</a><br /></td></tr>
<tr class="separator:aa904740b6ae21c0654c1c54a5f80d499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe385edd98f03fd359bcdafeed795f5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#abe385edd98f03fd359bcdafeed795f5a">tasks</a> []</td></tr>
<tr class="memdesc:abe385edd98f03fd359bcdafeed795f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The scheduler's task list.  <a href="#abe385edd98f03fd359bcdafeed795f5a">More...</a><br /></td></tr>
<tr class="separator:abe385edd98f03fd359bcdafeed795f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
BG int structures</h2></td></tr>
<tr class="memitem:acd40503ca476e56b23177c2688e7f673"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#acd40503ca476e56b23177c2688e7f673">BG_INT_EXPAND_WRAPPER</a>(a,  b)&#160;&#160;&#160;<a class="el" href="../../db/dfb/sched__oxygen_8c.html#a810a837f3cdc1d80281a9e417a0e3191">BG_INT_PRIORITY_EXPAND_WRAPPER</a>(a, b, <a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</td></tr>
<tr class="memdesc:acd40503ca476e56b23177c2688e7f673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate bg int wrappers that handle sched_oxygen's way of clearing bg ints so that the CarlOS-style handlers we're working with don't have to notice anything.  <a href="#acd40503ca476e56b23177c2688e7f673">More...</a><br /></td></tr>
<tr class="separator:acd40503ca476e56b23177c2688e7f673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810a837f3cdc1d80281a9e417a0e3191"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a810a837f3cdc1d80281a9e417a0e3191">BG_INT_PRIORITY_EXPAND_WRAPPER</a>(a,  b,  p)</td></tr>
<tr class="separator:a810a837f3cdc1d80281a9e417a0e3191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa78130e7f772470f1bfcfc5e78ecb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2fa78130e7f772470f1bfcfc5e78ecb6">BG_INT_EXPAND_STRUCT</a>(a,  b)&#160;&#160;&#160;<a class="el" href="../../db/dfb/sched__oxygen_8c.html#aad17d9e5aa2a803f706efa057c555254">BG_INT_PRIORITY_EXPAND_STRUCT</a>(a, b, <a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</td></tr>
<tr class="memdesc:a2fa78130e7f772470f1bfcfc5e78ecb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate BG_INTs from the list of bg ints.  <a href="#a2fa78130e7f772470f1bfcfc5e78ecb6">More...</a><br /></td></tr>
<tr class="separator:a2fa78130e7f772470f1bfcfc5e78ecb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad17d9e5aa2a803f706efa057c555254"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aad17d9e5aa2a803f706efa057c555254">BG_INT_PRIORITY_EXPAND_STRUCT</a>(a,  b,  p)</td></tr>
<tr class="separator:aad17d9e5aa2a803f706efa057c555254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b09436f0c6a18be51001c7facc510a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfb/sched__oxygen_8c.html#aa6b09436f0c6a18be51001c7facc510a">bg_ints</a> []</td></tr>
<tr class="memdesc:aa6b09436f0c6a18be51001c7facc510a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of service functions, indexed by bg_int number.  <a href="#aa6b09436f0c6a18be51001c7facc510a">More...</a><br /></td></tr>
<tr class="separator:aa6b09436f0c6a18be51001c7facc510a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Kalimba scheduler - see header file for full description. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2fa78130e7f772470f1bfcfc5e78ecb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa78130e7f772470f1bfcfc5e78ecb6">&#9670;&nbsp;</a></span>BG_INT_EXPAND_STRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BG_INT_EXPAND_STRUCT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../db/dfb/sched__oxygen_8c.html#aad17d9e5aa2a803f706efa057c555254">BG_INT_PRIORITY_EXPAND_STRUCT</a>(a, b, <a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate BG_INTs from the list of bg ints. </p>

</div>
</div>
<a id="acd40503ca476e56b23177c2688e7f673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd40503ca476e56b23177c2688e7f673">&#9670;&nbsp;</a></span>BG_INT_EXPAND_WRAPPER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BG_INT_EXPAND_WRAPPER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../db/dfb/sched__oxygen_8c.html#a810a837f3cdc1d80281a9e417a0e3191">BG_INT_PRIORITY_EXPAND_WRAPPER</a>(a, b, <a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate bg int wrappers that handle sched_oxygen's way of clearing bg ints so that the CarlOS-style handlers we're working with don't have to notice anything. </p>
<p>The wrapper also takes a pointer to the bg int's private memory area (which is shared with the partner task, if there is one). </p>

</div>
</div>
<a id="aad17d9e5aa2a803f706efa057c555254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad17d9e5aa2a803f706efa057c555254">&#9670;&nbsp;</a></span>BG_INT_PRIORITY_EXPAND_STRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BG_INT_PRIORITY_EXPAND_STRUCT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{<a class="code" href="../../d5/d9b/sched__oxygen_8h.html#acc108aab3eebc7d63e93e3dc4442ed9c">BG_INT_ID_AS_UINT</a>(a), FALSE, \</div><div class="line">                                                 b ## _wrap, FALSE, NULL, NULL},</div><div class="ttc" id="sched__oxygen_8h_html_acc108aab3eebc7d63e93e3dc4442ed9c"><div class="ttname"><a href="../../d5/d9b/sched__oxygen_8h.html#acc108aab3eebc7d63e93e3dc4442ed9c">BG_INT_ID_AS_UINT</a></div><div class="ttdeci">#define BG_INT_ID_AS_UINT(a)</div><div class="ttdoc">return the bg_int id as a uint24 (otherwise it is considered signed, which causes a problem in 24-bit...</div><div class="ttdef"><b>Definition:</b> sched_oxygen.h:361</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a810a837f3cdc1d80281a9e417a0e3191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810a837f3cdc1d80281a9e417a0e3191">&#9670;&nbsp;</a></span>BG_INT_PRIORITY_EXPAND_WRAPPER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BG_INT_PRIORITY_EXPAND_WRAPPER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> b ## _wrap(<span class="keywordtype">void</span> **ppriv)                    \</div><div class="line"> {                                                       \</div><div class="line">     uint16f raised;                                        \</div><div class="line">     (void)<a class="code" href="../../db/dfb/sched__oxygen_8c.html#a6525738d1ab6bb6d0bf3fbeb85a57d09">get_highest_bg_int</a>(<a class="code" href="../../d5/d9b/sched__oxygen_8h.html#acc108aab3eebc7d63e93e3dc4442ed9c">BG_INT_ID_AS_UINT</a>(a), &amp;raised);    \</div><div class="line">     UNUSED(ppriv);                                      \</div><div class="line">     UNUSED(raised);                                     \</div><div class="line">     b();                                                \</div><div class="line"> }</div><div class="ttc" id="sched__oxygen_8h_html_acc108aab3eebc7d63e93e3dc4442ed9c"><div class="ttname"><a href="../../d5/d9b/sched__oxygen_8h.html#acc108aab3eebc7d63e93e3dc4442ed9c">BG_INT_ID_AS_UINT</a></div><div class="ttdeci">#define BG_INT_ID_AS_UINT(a)</div><div class="ttdoc">return the bg_int id as a uint24 (otherwise it is considered signed, which causes a problem in 24-bit...</div><div class="ttdef"><b>Definition:</b> sched_oxygen.h:361</div></div>
<div class="ttc" id="sched__oxygen_8c_html_a6525738d1ab6bb6d0bf3fbeb85a57d09"><div class="ttname"><a href="../../db/dfb/sched__oxygen_8c.html#a6525738d1ab6bb6d0bf3fbeb85a57d09">get_highest_bg_int</a></div><div class="ttdeci">bool get_highest_bg_int(taskid bg_int_id, uint16f *highest_bg_int)</div><div class="ttdoc">Obtains the highest priority background interrupt for the task if one is raised. </div><div class="ttdef"><b>Definition:</b> sched_oxygen.c:2401</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e2cb345fd406335c204f258da7f27a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2cb345fd406335c204f258da7f27a1">&#9670;&nbsp;</a></span>GET_MSGID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_MSGID</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a05828f5e8e0c2edd18bada6005599046">msgid</a>) <a class="el" href="../../db/dfb/sched__oxygen_8c.html#a0f37cb002e7c1c441aa119c2db28a736">get_scheduler_identifier</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We use a common source of "unique" identifier numbers. </p>

</div>
</div>
<a id="a0c508d63d55866ced71311b15dcf30be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c508d63d55866ced71311b15dcf30be">&#9670;&nbsp;</a></span>GET_PRIORITY_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_PRIORITY_MASK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">priority</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>) ((((<a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>) 1) &lt;&lt; (priority + 1)) - 1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to calculate a priority mask from a priority level. </p>
<p>The mask calculated has the bits set for the priority supplied and all lower priorities.</p>
<p>Again assumes the number of bits in a unit24 is greater than NUM_PRIORITIES (checked in init_sched) </p>

</div>
</div>
<a id="a6675efff09866eb03905991ce5815051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6675efff09866eb03905991ce5815051">&#9670;&nbsp;</a></span>IDS_SAME_OR_COUPLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDS_SAME_OR_COUPLED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((id1) &amp; ~<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad5a66d8f0a0b1838b59642ffcd78cb5f">BG_INT_FLAG_BIT</a>) == ((id2) &amp; ~<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad5a66d8f0a0b1838b59642ffcd78cb5f">BG_INT_FLAG_BIT</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test whether two IDs are equal modulo the BG_INT_FLAG bit - i.e. </p>
<p>either they are the same ID or they are a coupled task/bg_int pair </p>

</div>
</div>
<a id="a4824ccdcfedb9eb8e0cadd0b68948968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4824ccdcfedb9eb8e0cadd0b68948968">&#9670;&nbsp;</a></span>MAP_PRIORITY_MASK_TO_HIGHEST_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_PRIORITY_MASK_TO_HIGHEST_LEVEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Mask</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../db/dbb/utils__bit_8h.html#a1ece4215f6774bc60e12f216ee0ee628">BIT_GET_TOP_SET_POS</a>(Mask)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to find the priority level of the highest priority task from a priority mask. </p>
<p>Assumes Mask is an unsigned int and is greater than 0. </p>

</div>
</div>
<a id="abb863213e89f405e9493cff746096e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb863213e89f405e9493cff746096e5c">&#9670;&nbsp;</a></span>MARK_AS_BG_INT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MARK_AS_BG_INT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id</td><td>)</td>
          <td>&#160;&#160;&#160;((id) |= <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad5a66d8f0a0b1838b59642ffcd78cb5f">BG_INT_FLAG_BIT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the bit indicating that the taskid refers to a bg int. </p>

</div>
</div>
<a id="ae7c7506e8ad9ca61eb8ea2bd31c0caac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c7506e8ad9ca61eb8ea2bd31c0caac">&#9670;&nbsp;</a></span>MARK_AS_COUPLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MARK_AS_COUPLED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id</td><td>)</td>
          <td>&#160;&#160;&#160;((id) |= <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad3299023acfc8951b9453727bb128154">BG_INT_TASK_IS_COUPLED_FLAG_BIT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the bit indicating that the taskid refers to a task/bg int that is "coupled" to a bg int/task. </p>

</div>
</div>
<a id="a2bbb760d32e92df1f1d346609b440441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bbb760d32e92df1f1d346609b440441">&#9670;&nbsp;</a></span>MAX_SCHED_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SCHED_ID&#160;&#160;&#160;((<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad51d14497e97a864a23a84be384f9cfa">scheduler_identifier</a>)0xFFFFFFU)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af971dec40fa5c414f3b9404ec57b62c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af971dec40fa5c414f3b9404ec57b62c2">&#9670;&nbsp;</a></span>MAX_TASK_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TASK_INDEX&#160;&#160;&#160;<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a6b2143c824f0a0d3a40e0a70bb9a6d95">TASK_ID_END_LOCAL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum possible task index within a priority level. </p>
<p>We split the number space between P0 and P1 </p>

</div>
</div>
<a id="a4b46bba7463e66c7f8fd8f6cf3f93b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b46bba7463e66c7f8fd8f6cf3f93b8a">&#9670;&nbsp;</a></span>MIN_PUT_MESSAGE_IN_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_PUT_MESSAGE_IN_DELAY&#160;&#160;&#160;((<a class="el" href="../../d5/dd3/rtime__types_8h.html#a42af6f8fdcd9a3106a3851c8b0adffcd">INTERVAL</a>) 10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum delay for <a class="el" href="../../db/dfb/sched__oxygen_8c.html#a5b78944a4da2584cfaebdf21423be95d" title="eventually send a message to a task ">put_message_in()</a> &ndash; if less than this, just PutMessage() </p>

</div>
</div>
<a id="a02fc73bfe3eb43bcabd24984d336d4aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fc73bfe3eb43bcabd24984d336d4aa">&#9670;&nbsp;</a></span>RESTART_SCHED_ID_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESTART_SCHED_ID_BASE&#160;&#160;&#160;(<a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2bbb760d32e92df1f1d346609b440441">MAX_SCHED_ID</a>/32)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a41e255d7c059f6825ab80fb59600ca0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e255d7c059f6825ab80fb59600ca0b">&#9670;&nbsp;</a></span>SCHED_TASK_END_EXPAND_ARRAYS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_END_EXPAND_ARRAYS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No end-of-per-queue handling. </p>

</div>
</div>
<a id="a7c165960989536ff707d4435207789d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c165960989536ff707d4435207789d1">&#9670;&nbsp;</a></span>SCHED_TASK_END_EXPAND_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_END_EXPAND_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a168790e64ba68eecea9577f44048d3ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168790e64ba68eecea9577f44048d3ee">&#9670;&nbsp;</a></span>SCHED_TASK_END_EXPAND_PRESERVE_QUEUE_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_END_EXPAND_PRESERVE_QUEUE_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No end-of-per-queue handling. </p>

</div>
</div>
<a id="aa904740b6ae21c0654c1c54a5f80d499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa904740b6ae21c0654c1c54a5f80d499">&#9670;&nbsp;</a></span>SCHED_TASK_END_EXPAND_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_END_EXPAND_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No end-of-per-queue handling. </p>

</div>
</div>
<a id="a023b310b21d5cfec5d72ae5bdebdbb6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023b310b21d5cfec5d72ae5bdebdbb6d">&#9670;&nbsp;</a></span>SCHED_TASK_QUEUE_EXPAND_ARRAYS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_QUEUE_EXPAND_ARRAYS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">q&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No per-queue handling. </p>

</div>
</div>
<a id="abf5f957b14c82f48dc209842fad25762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5f957b14c82f48dc209842fad25762">&#9670;&nbsp;</a></span>SCHED_TASK_QUEUE_EXPAND_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_QUEUE_EXPAND_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">q&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3fa98943e04d8986593a5f934badfb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa98943e04d8986593a5f934badfb52">&#9670;&nbsp;</a></span>SCHED_TASK_QUEUE_EXPAND_PRESERVE_QUEUE_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_QUEUE_EXPAND_PRESERVE_QUEUE_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">q&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a94c678f615e82b2f04dd94bc7d804012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c678f615e82b2f04dd94bc7d804012">&#9670;&nbsp;</a></span>SCHED_TASK_QUEUE_EXPAND_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_QUEUE_EXPAND_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">q&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No per-queue handling. </p>

</div>
</div>
<a id="a570dd80288724d27cf5db444f79b0a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a570dd80288724d27cf5db444f79b0a88">&#9670;&nbsp;</a></span>SCHED_TASK_START_EXPAND_ARRAYS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_EXPAND_ARRAYS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../db/dfb/sched__oxygen_8c.html#acf4d33f75e11ba27c3d31ef783c408b0">SCHED_TASK_START_PRIORITY_EXPAND_ARRAYS</a>(tsk, init_fn, tsk_fn, lvl, \</div><div class="line">                                                            <a class="code" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</div><div class="ttc" id="sched__oxygen__priority_8h_html_a0756f011ef667460d583017366823244"><div class="ttname"><a href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a></div><div class="ttdeci">#define DEFAULT_PRIORITY</div><div class="ttdef"><b>Definition:</b> sched_oxygen_priority.h:25</div></div>
<div class="ttc" id="sched__oxygen_8c_html_acf4d33f75e11ba27c3d31ef783c408b0"><div class="ttname"><a href="../../db/dfb/sched__oxygen_8c.html#acf4d33f75e11ba27c3d31ef783c408b0">SCHED_TASK_START_PRIORITY_EXPAND_ARRAYS</a></div><div class="ttdeci">#define SCHED_TASK_START_PRIORITY_EXPAND_ARRAYS(tsk, init_fn, tsk_fn, lvl, pri)</div><div class="ttdef"><b>Definition:</b> sched_oxygen.c:134</div></div>
</div><!-- fragment -->
<p>Create the array of task variables. </p>
<p>/A variable for each task </p>

</div>
</div>
<a id="a5e8a7d2924b34a27c39aeca56f016a7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8a7d2924b34a27c39aeca56f016a7d">&#9670;&nbsp;</a></span>SCHED_TASK_START_EXPAND_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_EXPAND_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">task, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../db/dfb/sched__oxygen_8c.html#ae1e5da5276c64a891a72b2a969b02b67">SCHED_TASK_START_PRIORITY_EXPAND_COUNT</a>(task, init_fn, tsk_fn, lvl, \</div><div class="line">                                           <a class="code" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</div><div class="ttc" id="sched__oxygen_8c_html_ae1e5da5276c64a891a72b2a969b02b67"><div class="ttname"><a href="../../db/dfb/sched__oxygen_8c.html#ae1e5da5276c64a891a72b2a969b02b67">SCHED_TASK_START_PRIORITY_EXPAND_COUNT</a></div><div class="ttdeci">#define SCHED_TASK_START_PRIORITY_EXPAND_COUNT(task, init_fn, tsk_fn, lvl, pri)</div><div class="ttdef"><b>Definition:</b> sched_oxygen.c:46</div></div>
<div class="ttc" id="sched__oxygen__priority_8h_html_a0756f011ef667460d583017366823244"><div class="ttname"><a href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a></div><div class="ttdeci">#define DEFAULT_PRIORITY</div><div class="ttdef"><b>Definition:</b> sched_oxygen_priority.h:25</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5ecbe3e38940233fd82a3eeb85ab580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ecbe3e38940233fd82a3eeb85ab580">&#9670;&nbsp;</a></span>SCHED_TASK_START_EXPAND_PRESERVE_QUEUE_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_EXPAND_PRESERVE_QUEUE_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../db/dfb/sched__oxygen_8c.html#a6c7855ac964c016829d75f0b77bd1cb1">SCHED_TASK_START_PRIORITY_EXPAND_PRESERVE_QUEUE_DEBUG</a>\</div><div class="line">                                (tsk, init_fn, tsk_fn, lvl, <a class="code" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</div><div class="ttc" id="sched__oxygen_8c_html_a6c7855ac964c016829d75f0b77bd1cb1"><div class="ttname"><a href="../../db/dfb/sched__oxygen_8c.html#a6c7855ac964c016829d75f0b77bd1cb1">SCHED_TASK_START_PRIORITY_EXPAND_PRESERVE_QUEUE_DEBUG</a></div><div class="ttdeci">#define SCHED_TASK_START_PRIORITY_EXPAND_PRESERVE_QUEUE_DEBUG(tsk, init_fn, tsk_fn, lvl, pri)</div><div class="ttdef"><b>Definition:</b> sched_oxygen.c:27</div></div>
<div class="ttc" id="sched__oxygen__priority_8h_html_a0756f011ef667460d583017366823244"><div class="ttname"><a href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a></div><div class="ttdeci">#define DEFAULT_PRIORITY</div><div class="ttdef"><b>Definition:</b> sched_oxygen_priority.h:25</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa87ac87e01a6faec3d85e76a2e98c290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87ac87e01a6faec3d85e76a2e98c290">&#9670;&nbsp;</a></span>SCHED_TASK_START_EXPAND_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_EXPAND_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../db/dfb/sched__oxygen_8c.html#a60dfe5bc274a68f7136ee7167165d2d5">SCHED_TASK_START_PRIORITY_EXPAND_TABLE</a>(tsk, init_fn, tsk_fn, lvl, \</div><div class="line">                                                             <a class="code" href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a>)</div><div class="ttc" id="sched__oxygen__priority_8h_html_a0756f011ef667460d583017366823244"><div class="ttname"><a href="../../d6/d13/sched__oxygen__priority_8h.html#a0756f011ef667460d583017366823244">DEFAULT_PRIORITY</a></div><div class="ttdeci">#define DEFAULT_PRIORITY</div><div class="ttdef"><b>Definition:</b> sched_oxygen_priority.h:25</div></div>
<div class="ttc" id="sched__oxygen_8c_html_a60dfe5bc274a68f7136ee7167165d2d5"><div class="ttname"><a href="../../db/dfb/sched__oxygen_8c.html#a60dfe5bc274a68f7136ee7167165d2d5">SCHED_TASK_START_PRIORITY_EXPAND_TABLE</a></div><div class="ttdeci">#define SCHED_TASK_START_PRIORITY_EXPAND_TABLE(tsk, init_fn, tsk_fn, lvl, pri)</div><div class="ttdef"><b>Definition:</b> sched_oxygen.c:165</div></div>
</div><!-- fragment -->
<p>Generate element of TASK. </p>

</div>
</div>
<a id="acf4d33f75e11ba27c3d31ef783c408b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf4d33f75e11ba27c3d31ef783c408b0">&#9670;&nbsp;</a></span>SCHED_TASK_START_PRIORITY_EXPAND_ARRAYS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_PRIORITY_EXPAND_ARRAYS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pri&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;static <a class="el" href="../../dc/daa/structMSGQ.html">MSGQ</a> queue_ ## tsk [task_id_ ## tsk ## _n_queues];</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae1e5da5276c64a891a72b2a969b02b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e5da5276c64a891a72b2a969b02b67">&#9670;&nbsp;</a></span>SCHED_TASK_START_PRIORITY_EXPAND_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_PRIORITY_EXPAND_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">task, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pri&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;+ 1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c7855ac964c016829d75f0b77bd1cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c7855ac964c016829d75f0b77bd1cb1">&#9670;&nbsp;</a></span>SCHED_TASK_START_PRIORITY_EXPAND_PRESERVE_QUEUE_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_PRIORITY_EXPAND_PRESERVE_QUEUE_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pri&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;PRESERVE_ENUM_FOR_DEBUGGING(task_id_##tsk##_queues)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a60dfe5bc274a68f7136ee7167165d2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60dfe5bc274a68f7136ee7167165d2d5">&#9670;&nbsp;</a></span>SCHED_TASK_START_PRIORITY_EXPAND_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCHED_TASK_START_PRIORITY_EXPAND_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsk_fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pri&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{\</div><div class="line">        (<a class="code" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>)(priority_task_id_ ## tsk),                             \</div><div class="line">        FALSE,                                                          \</div><div class="line">        init_fn,            <span class="comment">/* init: initialisation function */</span>         \</div><div class="line">        tsk_fn,             <span class="comment">/* handler */</span>                               \</div><div class="line">        queue_ ## tsk,      <span class="comment">/* mqueues: array of queues */</span>              \</div><div class="line">        task_id_ ## tsk ## _n_queues, <span class="comment">/* nqueues: number of queues */</span>   \</div><div class="line">        NULL,               <span class="comment">/* flushmsg      */</span>                         \</div><div class="line">        NULL,               <span class="comment">/* private memory area */</span>                   \</div><div class="line">        TASK_RUNLEVEL(lvl)                                              \</div><div class="line">        NULL                <span class="comment">/* next */</span>                                  \</div><div class="line">    },</div><div class="ttc" id="sched__oxygen_8h_html_af16e88cac6d7589f65ec1fee305d099a"><div class="ttname"><a href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a></div><div class="ttdeci">uint24 taskid</div><div class="ttdef"><b>Definition:</b> sched_oxygen.h:55</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1aa6e4a245b7226b85aba5cef91d1c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa6e4a245b7226b85aba5cef91d1c49">&#9670;&nbsp;</a></span>scheduler_service_expired_events</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define scheduler_service_expired_events</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">HighestPriorityLevel</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a89d586cfee0ffedb43e31e93935e9792">timers_service_expired_casual_events</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae0969e011ee43d6a3f3fc675dcdfdec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0969e011ee43d6a3f3fc675dcdfdec5">&#9670;&nbsp;</a></span>scheduler_service_expired_events_after_sleep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define scheduler_service_expired_events_after_sleep</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a89d586cfee0ffedb43e31e93935e9792">timers_service_expired_casual_events</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afa06cd1c86af79e0064221da5552c5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa06cd1c86af79e0064221da5552c5b0">&#9670;&nbsp;</a></span>SET_PRIORITY_TASK_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_PRIORITY_TASK_ID</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">task_priority, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">index&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(task_priority &lt;&lt; 16 | index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a basic 24-bit taskid from task/bgint index (LS octet) and task priority (lower 6 bits of MS octet). </p>
<p>The middle octet is always zero for task IDs. The MS two bits are used to flag bg ints and coupled tasks. </p>

</div>
</div>
<a id="ae1bc16bd93693ec6edf20cd649db1522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1bc16bd93693ec6edf20cd649db1522">&#9670;&nbsp;</a></span>TASK_RUNLEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_RUNLEVEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl</td><td>)</td>
          <td>&#160;&#160;&#160;lvl,                        /* runlevel */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run level becomes last element. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ae55f2a89840a233713a14afb196d9503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae55f2a89840a233713a14afb196d9503">&#9670;&nbsp;</a></span>timed_msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d3/d55/structtimed__msg__t.html">timed_msg_t</a>  <a class="el" href="../../db/dfb/sched__oxygen_8c.html#ae55f2a89840a233713a14afb196d9503">timed_msg</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A timed (delayed) message. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab15d64655804ee4c7b1f6dcb5118eb9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab15d64655804ee4c7b1f6dcb5118eb9f">&#9670;&nbsp;</a></span>cancel_first_matching_timed_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cancel_first_matching_timed_message </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>mi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>cmp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a2fa583bae3834f7831cdd1e07ca19761">TIMED_MSG_CMP_FN</a>&#160;</td>
          <td class="paramname"><em>cmp_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>pmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pmv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the given number of pending timed messages matching the given message ID and body, where the "body match" is defined by the supplied comparison function and the message ID match is optional. </p>
<dl class="section note"><dt>Note</dt><dd>The caller can decide whether to use the message ID (<code>mi</code>) in the match by supplying a NULL or non-NULL pmi parameter. If it is NULL, mi is used, but if it is non-NULL it isn't. The reasoning is that if it is NULL, the caller isn't interested in getting the value back because he already knows it, and hence the <code>mi</code> argument should be used, and vice versa.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mi</td><td>Message ID to match, only meaningful if <code>pmi</code> is NULL </td></tr>
    <tr><td class="paramname">cmp_data</td><td>Arbitrary comparison data, to be interpreted by <code>cmp_fn</code> </td></tr>
    <tr><td class="paramname">cmp_fn</td><td>Comparison function (can be NULL) </td></tr>
    <tr><td class="paramname">pmi</td><td>Space for a pointer to the ID of the matched message. Can be NULL; if non-NULL, contains a meaningful value iff the function returns TRUE. </td></tr>
    <tr><td class="paramname">pmv</td><td>Space for a pointer to the body of the matched message. Can be NULL; if non-NULL, contains a meaningful value iff the function returns TRUE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if a message was matched else FALSE </dd></dl>

</div>
</div>
<a id="afc39315a0e8e742dde9849949e295f3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc39315a0e8e742dde9849949e295f3f">&#9670;&nbsp;</a></span>cancel_timed_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cancel_timed_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tTimerId&#160;</td>
          <td class="paramname"><em>timer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>pmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pmv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel a message that has been scheduled for sending later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>UNUSED (included for compatibility with sched_carlos) </td></tr>
    <tr><td class="paramname">timer_id</td><td>ID returned from put_message_at/put_message_in </td></tr>
    <tr><td class="paramname">pmi</td><td>Pointer to space for mi to be returned in (NULL if not required) </td></tr>
    <tr><td class="paramname">pmv</td><td>Pointer to space for mv to be returned in (NULL if not required) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if a message was cancelled, else FALSE. If FALSE, *pmi and *pmv are invalid. </dd></dl>

</div>
</div>
<a id="ab3fcf4cd95d56c2f31ac905750a698d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3fcf4cd95d56c2f31ac905750a698d0">&#9670;&nbsp;</a></span>check_context_switch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_context_switch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>inputPriorityMask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch context to higher priority tasks if needed. </p>
<p>This function is the core of the scheduler. It checks to see if a context switch is needed, based on the inputPriorityMask. Calls all tasks that are pending of HIGHER priority than the priorities set in the mask.</p>
<p>Note that this function must be re-entrant - a call to it may cause a higher priority task to run which itself may end up calling this function. But in this case each recursive call will have the inputPriorityMask set higher than the previous call, and eventually the stack will unwind and we'll always end up back at the original call again.</p>
<p>This should always be called with interrupts blocked. It will unblock them if, and only if, it finds anything to do.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only unblock interrupts if there is work to do and the current priority level for the scheduler has been updated. Otherwise, if an interrupt of the same level occurs, this function will be called with the same input priority which allows the stack depth to grow indefinitely.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inputPriorityMask</td><td>bit field with each bit representing a priority level, LSB representing LOWEST_PRIORITY, etc. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a981bde1c7f0b661d9f4a3d9db98e6726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981bde1c7f0b661d9f4a3d9db98e6726">&#9670;&nbsp;</a></span>cmp_timed_msg_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool cmp_timed_msg_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>cmp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Comparison function for pending scheduler messages on the timer queue. </p>
<p>Looks first for a match of message IDs and then calls the comparison function that is passed with the <code>cmp_data</code> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A <code>timed_msg</code>, which is the type stored on the timer queue for timed scheduler messages </td></tr>
    <tr><td class="paramname">cmp_data</td><td>A <code><a class="el" href="../../d6/d23/structTIMED__MSG__CMP__DATA.html" title="Comparison class to be passed to cmp_timed_msg_data by the timer search function. ...">TIMED_MSG_CMP_DATA</a></code>, which is the type passed through to the timer search function by <code>cancel_matching_timed_messages</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the message IDs match and the comparison function says yes (or is NULL) </dd></dl>

</div>
</div>
<a id="aea561e873c29d005ef256131c7a165cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea561e873c29d005ef256131c7a165cb">&#9670;&nbsp;</a></span>create_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool create_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0e61fcc4980f8d02533edba6af2ac6a8">PRIORITY</a>&#160;</td>
          <td class="paramname"><em>task_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>num_of_queues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>task_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void **)&#160;</td>
          <td class="paramname"><em>msg_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void **)&#160;</td>
          <td class="paramname"><em>bg_int_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#acb49977e41302614df707626fb9a8903">MSG_FLUSH_HANDLER</a>&#160;</td>
          <td class="paramname"><em>flush_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a> *&#160;</td>
          <td class="paramname"><em>created_task_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new task with the given parameters, initialises the new task and returns the task id. </p>

</div>
</div>
<a id="a15b55353e41035460ad831945889aec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b55353e41035460ad831945889aec2">&#9670;&nbsp;</a></span>current_task_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> current_task_priority </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the priority of the current task. </p>

</div>
</div>
<a id="a5cf0e7e9cca4af2af74c96b0a9aa91de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf0e7e9cca4af2af74c96b0a9aa91de">&#9670;&nbsp;</a></span>delete_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delete_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a scheduler task that was previously created. </p>

</div>
</div>
<a id="a9e5a5046c19a6938717b1cb20c88731a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5a5046c19a6938717b1cb20c88731a">&#9670;&nbsp;</a></span>deliver_timed_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void deliver_timed_message </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>stuff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad297608d9a1a2888656544846df08408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad297608d9a1a2888656544846df08408">&#9670;&nbsp;</a></span>do_housekeeping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_housekeeping </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a48a41fb879e327b83a59ee90a699836c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a41fb879e327b83a59ee90a699836c">&#9670;&nbsp;</a></span>enter_shallow_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enter_shallow_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc104ebef0c51b67572fc6257e5c8b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc104ebef0c51b67572fc6257e5c8b4b">&#9670;&nbsp;</a></span>exit_irq_check_context_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exit_irq_check_context_switch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called from interrupt handler when a message has been sent in an ISR Checks if context switch is needed. </p>

</div>
</div>
<a id="a18404a16a2d4c375d832bb8cbe81773d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18404a16a2d4c375d832bb8cbe81773d">&#9670;&nbsp;</a></span>flush_bg_ints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void flush_bg_ints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *&#160;</td>
          <td class="paramname"><em>p_bgint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleanly remove all traces of a bg int from the scheduler's internals before it is deleted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_bgint</td><td>Pointer to the <code>BGINT</code> to be flushed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function should only be called with all the interrupts blocked, ie, the whole operation should be atomic. </dd></dl>

</div>
</div>
<a id="a65c51225a44478bb9390863c6601cfa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c51225a44478bb9390863c6601cfa0">&#9670;&nbsp;</a></span>flush_task_messages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void flush_task_messages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> *&#160;</td>
          <td class="paramname"><em>p_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all messages associated with the given task. </p>
<p>Note that if a coupled task+bg int is being deleted, <code>flush_bg_ints</code> must be called too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_task</td><td>pointer to the task structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function should only be called with all the interrupts blocked, ie, the whole operation should be atomic. </dd></dl>

</div>
</div>
<a id="a549f386ff0a5a82c18025a4fdb80eda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a549f386ff0a5a82c18025a4fdb80eda3">&#9670;&nbsp;</a></span>get_context_switch_priority_mask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> get_context_switch_priority_mask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6525738d1ab6bb6d0bf3fbeb85a57d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6525738d1ab6bb6d0bf3fbeb85a57d09">&#9670;&nbsp;</a></span>get_highest_bg_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool get_highest_bg_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>bg_int_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> *&#160;</td>
          <td class="paramname"><em>highest_bg_int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the highest priority background interrupt for the task if one is raised. </p>
<p>Get and clear the highest priority background interrupt for the task if one is raised.</p>
<p>The calling task must own this background interrupts.</p>
<p>If the calling task does not own then the scheduler asserts. MUST NOT BE CALLED DIRECTLY FROM INTERRUPT CODE - can only be called by the task given by id. </p>

</div>
</div>
<a id="acdb2d6198ad5b2f980d55900b1b6205d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb2d6198ad5b2f980d55900b1b6205d">&#9670;&nbsp;</a></span>get_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool get_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a>&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>pmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pmv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a message from the message queue ID queueId if one is available. </p>
<p>Obtains a message from the message queue ID queue_id if one is available.</p>
<p>The calling task must own this Q. The message consists of one or both of a int and a void*.</p>
<p>If the calling task does not own the Q then the scheduler asserts.</p>
<p>If a message is taken from the queue, then *pmi and *pmv are set to the mi and mv passed to <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a61b1d2f4134ac9dd423d5a24d0c4b436" title="Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId ow...">put_message()</a>.</p>
<p>pMessageInt and/or pmv can be null, in which case the corresponding value from the message is discarded.</p>
<p>If the function returns TRUE, and if pmv is null, then there is a danger of a memory leak. The scheduler does not know what is stored in the void*, so it cannot reclaim a chunk of <a class="el" href="../../de/d51/trap__api__core_8c.html#ac774698d4b2485692ee1100890ffc4c0">malloc()</a>ed memory there. In most circumstances pmv should not be null, however, it may be that the application knows that all messages sent on "q" will use the "MessageInt" only, so it may be acceptable for pmv to be null.</p>
<p>MUST NOT BE CALLED DIRECTLY FROM INTERRUPT CODE - can only be called by the task that owns the queue given by queueId. </p>

</div>
</div>
<a id="a0264a38fa7a0c5067fdfe58d79e6123c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0264a38fa7a0c5067fdfe58d79e6123c">&#9670;&nbsp;</a></span>get_message_for_current_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool get_message_for_current_task </td>
          <td>(</td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>pmi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pmv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a message from queue zero of the current task. </p>
<p>Identical to <code><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#acdb2d6198ad5b2f980d55900b1b6205d" title="Obtains a message from the message queue ID queue_id if one is available. ">get_message()</a></code> otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">*pmi</td><td>Integer from the message, if pointer is not NULL</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">*pmv</td><td>Pointer associated with the message, if pmv is not NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if a message has been obtained from the queue, else FALSE. </dd></dl>

</div>
</div>
<a id="af90d2f98eb61785bc56a0a1a68a2a53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af90d2f98eb61785bc56a0a1a68a2a53e">&#9670;&nbsp;</a></span>get_msg_qid_for_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool get_msg_qid_for_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>queue_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a> *&#160;</td>
          <td class="paramname"><em>pQueue_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the message queue Id for the given task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_id</td><td>task Id which owns the message queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queue_index</td><td>message queue index within the task, numbered 0-N-1 where N is the number of queues for the task </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pQueue_id</td><td>Pointer to return requested queue Id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if queue exists. </dd></dl>

</div>
</div>
<a id="a0f37cb002e7c1c441aa119c2db28a736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f37cb002e7c1c441aa119c2db28a736">&#9670;&nbsp;</a></span>get_scheduler_identifier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad51d14497e97a864a23a84be384f9cfa">scheduler_identifier</a> get_scheduler_identifier </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>obtain an identifier from the scheduler </p>
<dl class="section return"><dt>Returns</dt><dd>A scheduler identifier</dd></dl>
<p>NOTES Actually, this just returns the next value from an incrementing uint24, but it's pretty unlikely that this will cause problems.</p>
<p>It's a bit more subtle than that: if this number wraps (pretty unlikely!) then we wrap to a fraction of the range of a uint24. We can vaguely guess that there may be a few elements of the system that get created when the system starts and which exist until the system reboots. These might have identifiers. The approach of only giving away the lower identifiers once should circumvent such nasties, but it clearly isn't perfect.</p>
<p>Setting NextSchedulerIdentifier initially to one prevents this function returning the value zero. An identifier with value zero has special meanings in some circumstances (NO_SCHID). </p>

</div>
</div>
<a id="aff99383f0aa8a6d7a4aa2fc6178bffed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff99383f0aa8a6d7a4aa2fc6178bffed">&#9670;&nbsp;</a></span>init_sched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_sched </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initialise the scheduler. </p>
<p>initialise the scheduler</p>
<p>Note that task initialisation is not done in this call because this is dependent on the scheduler's current runlevel. It is done at the start of <code><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a2b56c9d68bea57ed23fcec5f4dc50fa9" title="The main function of the background task scheduler. ">sched()</a></code> instead. (For simplicity of code layout, this is true even if SCHEDULER_WITHOUT_RUNLEVELS is defined). </p>

</div>
</div>
<a id="ad81d1785217cf9ea48587ccf36971660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81d1785217cf9ea48587ccf36971660">&#9670;&nbsp;</a></span>init_tasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_tasks </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>runlevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call the init function for each task introduced by the change of runlevel (or all tasks below the new runlevel if <code>first_time</code> is TRUE) and set the new runlevel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first_time</td><td>TRUE if no task initialisation has been done yet </td></tr>
    <tr><td class="paramname">runlevel</td><td>The new runlevel the scheduler is entering. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58fbcc04ce1ddf0766e56881b6bac8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58fbcc04ce1ddf0766e56881b6bac8f7">&#9670;&nbsp;</a></span>new_bg_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a>* new_bg_int </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ptask_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void **)&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>plocal_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that creates and populates a <code>BGINT</code>, for dynamic task support. </p>
<dl class="section note"><dt>Note</dt><dd>There is some complexity involved in the handling of the private data area as a result of the shared ownership of the area when a bg int is coupled with a task. If the <code>BGINT</code> is coupled with a <code>TASK</code>, <code>ptask_data</code> must be non-NULL - it is a pointer to the <code>TASK's</code> private data pointer, which is stored in the <code>BGINT</code> structure in the <code>ppriv</code> field. On the other hand, if the BGINT is not associated with a TASK its <code>ppriv</code> member will be set to point to a private data pointer, which itself is set equal to <code>plocal_data</code> (which may be NULL).</dd>
<dd>
: In the latter case, the hidden private data pointer is supplied by allocating an <code>UNCOUPLED_BGINT</code> instead of a <code>BGINT</code>. However, only the <code>BGINT</code> part is returned; we rely upon the fact that the <code>BGINT</code> is the first element in the <code>UNCOUPLED_BGINT</code> struct to ensure that the memory is subsequently correctly freed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptask_data</td><td>Pointer to the associated <code>TASK's</code> private data pointer. <code>NULL</code> if there is no associated <code>TASK</code>. </td></tr>
    <tr><td class="paramname">handler</td><td>The bg int handler. Must be supplied. </td></tr>
    <tr><td class="paramname">plocal_data</td><td>Direct pointer to the <code>BGINT's</code> private memory. This must be <code>NULL</code> if <code>ptask_data</code> is not <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly-allocated <code>BGINT</code> structure, or NULL if insufficient pool memory is available for the structures to be allocated. </dd></dl>

</div>
</div>
<a id="a53610724c2adee879b22f5e9b20067ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53610724c2adee879b22f5e9b20067ee">&#9670;&nbsp;</a></span>new_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a>* new_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>num_of_queues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>task_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void **)&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#acb49977e41302614df707626fb9a8903">MSG_FLUSH_HANDLER</a>&#160;</td>
          <td class="paramname"><em>flush_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that creates and populates a <code>TASK</code> object, for dynamic task support. </p>
<p><code>TASKs</code> inherit the current runlevel (if runlevels exist).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_of_queues</td><td>Number of queues the task requires </td></tr>
    <tr><td class="paramname">task_data</td><td>Pointer to private data for the task </td></tr>
    <tr><td class="paramname">handler</td><td>The task's message handler. Must not be NULL! </td></tr>
    <tr><td class="paramname">flush_msg</td><td>The optional message flusher, invoked when the task is deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the allocated task, or NULL if insufficient pool memory is available for the structures to be allocated. </dd></dl>

</div>
</div>
<a id="ae6c5ae437f46e4955745786a15a82d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6c5ae437f46e4955745786a15a82d5e">&#9670;&nbsp;</a></span>prune_bg_ints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prune_bg_ints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Strict timed event handler used to wake up the background when it goes to sleep or starts a low-priority task with future casual timed events to be attended to. </p>
<p>Physically delete bg ints that have been marked for deletion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority level of the queue to prune</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called with interrupts blocked. </dd></dl>

</div>
</div>
<a id="a0d5eec65793ebd0f3d698d4b5e746fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d5eec65793ebd0f3d698d4b5e746fcb">&#9670;&nbsp;</a></span>prune_tasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prune_tasks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Physically delete tasks that have been marked for deletion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority level of the queue to prune</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is must be called with interrupts blocked. </dd></dl>

</div>
</div>
<a id="a7966616de42657b9c94852e6b08ff769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7966616de42657b9c94852e6b08ff769">&#9670;&nbsp;</a></span>put_allocated_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a05828f5e8e0c2edd18bada6005599046">msgid</a> put_allocated_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a>&#160;</td>
          <td class="paramname"><em>queueId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a795e96b14e954a74a74d5948b5586e69">MSG</a> *&#160;</td>
          <td class="paramname"><em>pMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>put_allocated_message </p>
<dl class="section user"><dt></dt><dd>\brief queue up an allocated message </dd></dl>
<dl class="section user"><dt></dt><dd>\param[in] queueId \param[in] *pMessage </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section user"><dt>FUNCTION</dt><dd>Add an allocated message to the appropriate queue. The mi and *mv fields should already have been filled in. </dd></dl>
<dl class="section user"><dt></dt><dd>\return The msgid for the message. </dd></dl>

</div>
</div>
<a id="a61b1d2f4134ac9dd423d5a24d0c4b436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b1d2f4134ac9dd423d5a24d0c4b436">&#9670;&nbsp;</a></span>put_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a05828f5e8e0c2edd18bada6005599046">msgid</a> put_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a>&#160;</td>
          <td class="paramname"><em>queueId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>mi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId. </p>
<p>Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId owned by a task.</p>
<p>mi and mv are neither inspected nor changed by the scheduler - the task that owns queueId is expected to make sense of the values. mv may be NULL</p>
<p>If mv is not null then it will typically be a chunk of <a class="el" href="../../de/d51/trap__api__core_8c.html#ac774698d4b2485692ee1100890ffc4c0">malloc()</a>ed memory, though there is no need for it to be so. tasks should normally obey the convention that when a message built with <a class="el" href="../../de/d51/trap__api__core_8c.html#ac774698d4b2485692ee1100890ffc4c0">malloc()</a>ed memory is given to <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a61b1d2f4134ac9dd423d5a24d0c4b436" title="Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId ow...">put_message()</a> then ownership of the memory is ceded to the scheduler - and eventually to the recipient task. I.e., the receiver of the message will be expected to <a class="el" href="../../de/d51/trap__api__core_8c.html#af8f2b58abce1c3fe74e8f9365303d1f4">free()</a> the message storage.</p>
<p>Note also that this function must be re-entrant - a call to this function may cause another task to run which itself may call this function. </p>

</div>
</div>
<a id="a01140fe2cd220a6b4e449c5c3da39c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01140fe2cd220a6b4e449c5c3da39c20">&#9670;&nbsp;</a></span>put_message_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tTimerId put_message_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a>&#160;</td>
          <td class="paramname"><em>deadline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a>&#160;</td>
          <td class="paramname"><em>queueId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>mi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>eventually send a message to a task </p>
<p>Send a message at a specific time in the future. </p>

</div>
</div>
<a id="a5b78944a4da2584cfaebdf21423be95d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b78944a4da2584cfaebdf21423be95d">&#9670;&nbsp;</a></span>put_message_in()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tTimerId put_message_in </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd3/rtime__types_8h.html#a42af6f8fdcd9a3106a3851c8b0adffcd">INTERVAL</a>&#160;</td>
          <td class="paramname"><em>delay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab9c02954d04719cfd30a404e1bd1d0e2">qid</a>&#160;</td>
          <td class="paramname"><em>queueId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>mi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>eventually send a message to a task </p>
<p>Send a message after a delay. </p>

</div>
</div>
<a id="ab4f137f293714981e5010d739f55d538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4f137f293714981e5010d739f55d538">&#9670;&nbsp;</a></span>raise_bg_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raise_bg_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>bgIntBitPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raises a background interrupt to required task if not already raised. </p>
<p>Raise a background interrupt to required bg interrupt if not already raised.</p>
<p>This function is usually called within an interrupt handler to signal an event to a background task. </p>

</div>
</div>
<a id="a4e2295e8023f478bcc3d55e2abd07d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2295e8023f478bcc3d55e2abd07d56">&#9670;&nbsp;</a></span>raise_static_bg_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raise_static_bg_int </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#afc4be75a97ecd83fe9644c948c5b314c">bg_int_indices_enum</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raises a background interrupt to required static task if not already raised. </p>
<p>Raise a background interupt for a known statically created bg_int.</p>
<p>This is the same functionality as <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab4f137f293714981e5010d739f55d538" title="Raise a background interrupt to required bg interrupt if not already raised. ">raise_bg_int()</a> but works only on static tasks and is a little faster as it some tests are effectively being performed at compile time.</p>
<p>We may be able to optimise further in future if we can guarantee that static bg_ints only ever use a single interrupt. The auto-generated handlers make this assumption. </p>

</div>
</div>
<a id="a2b56c9d68bea57ed23fcec5f4dc50fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b56c9d68bea57ed23fcec5f4dc50fa9">&#9670;&nbsp;</a></span>sched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>runlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main function of the background task scheduler. </p>
<p>This invokes bg ints as they are raised and tasks as messages become available for them. It ignores tasks at higher runlevels than it was called at.</p>
<p>Note that the scheduler can be halted by a call to <code>terminate_runlevel</code>. This will cause it to exit once all bg ints and messages have been consumed. </p>

</div>
</div>
<a id="a7c5e6b74bb3ac6600194a9ce4c9971fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5e6b74bb3ac6600194a9ce4c9971fd">&#9670;&nbsp;</a></span>sched_find_bgint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a>* sched_find_bgint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>bgint_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the record for a background interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bgint_id</td><td>The ID of the background interrupt to find</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the BGINT structure for the background interrupt. </dd></dl>

</div>
</div>
<a id="a7b8e8c4d82ca8c520db673b24dd6451b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8e8c4d82ca8c520db673b24dd6451b">&#9670;&nbsp;</a></span>sched_find_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a>* sched_find_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for the given task. </p>
<dl class="section note"><dt>Note</dt><dd>If this is called without interrupts blocked, the task may have been deleted by the time the function returns, in which case <code>*the_task</code> will be an invalid pointer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_id</td><td>Task ID to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the task if found, NULL if not. </dd></dl>

</div>
</div>
<a id="a5e216d74578f18e9d81f2eb95d9c739b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e216d74578f18e9d81f2eb95d9c739b">&#9670;&nbsp;</a></span>sched_get_sleep_deadline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sched_get_sleep_deadline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> *&#160;</td>
          <td class="paramname"><em>earliest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> *&#160;</td>
          <td class="paramname"><em>latest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell dorm how long we'd like to sleep. </p>
<p>Called from dorm on entry to sleep if dorm needs to know the time the scheduler wants us to be awake. </p>

</div>
</div>
<a id="a797fd10488ec72ecf1abc843f0d08d17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797fd10488ec72ecf1abc843f0d08d17">&#9670;&nbsp;</a></span>sched_in_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sched_in_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether running in the interrupt context. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if in the interrupt context. </dd></dl>

</div>
</div>
<a id="a05bc08babff1cd95e435ea1b099ca084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05bc08babff1cd95e435ea1b099ca084">&#9670;&nbsp;</a></span>sched_is_running()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sched_is_running </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the scheduler is running. </p>
<p>This will be FALSE in code called from main() and TRUE for any calls after the call to <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a2b56c9d68bea57ed23fcec5f4dc50fa9" title="The main function of the background task scheduler. ">sched()</a>. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if the scheduler is running </dd></dl>

</div>
</div>
<a id="a705a86b8cd33e365fa1919612e2e8621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a705a86b8cd33e365fa1919612e2e8621">&#9670;&nbsp;</a></span>sched_sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sched_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af60baf69b420842b71d70ecef911a97f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60baf69b420842b71d70ecef911a97f">&#9670;&nbsp;</a></span>service_bg_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void service_bg_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>HighestPriorityLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b2534c558aa325aeb9b19e05b8d8441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b2534c558aa325aeb9b19e05b8d8441">&#9670;&nbsp;</a></span>service_bg_ints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool service_bg_ints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d4e/structBG__INTQ.html">BG_INTQ</a> *&#160;</td>
          <td class="paramname"><em>bg_ints_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>HighestPriorityLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9b89e5be32a60fa5ddbaa24e9948b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9b89e5be32a60fa5ddbaa24e9948b45">&#9670;&nbsp;</a></span>service_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void service_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>HighestPriorityLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af877617e8b528917e17cda314c992dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af877617e8b528917e17cda314c992dd7">&#9670;&nbsp;</a></span>service_tasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool service_tasks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d89/structTASKQ.html">TASKQ</a> *&#160;</td>
          <td class="paramname"><em>tasks_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>HighestPriorityLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1079e5d9fc797d56894536b3afd61560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1079e5d9fc797d56894536b3afd61560">&#9670;&nbsp;</a></span>set_runlevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool set_runlevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>runlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set current run level. </p>
<p>This function is used to dynamically change the runlevel while the scheduler is running.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">runlevel</td><td>The new runlevel to run at. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04e51258036e93eb76bfc049e6be0cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e51258036e93eb76bfc049e6be0cd8">&#9670;&nbsp;</a></span>terminate_runlevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminate_runlevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the scheduler to quit the current runlevel. </p>
<p>This function terminates the current runlevel of sched Terimantion occurs next time sched restarts its outer loop No test is made to ensure that all pending messages are consumed, timers expired, bg_ints serviced or such.</p>
<p>If there is no runlevel, exits the scheduler. </p>

</div>
</div>
<a id="ae2a5dd0d0a9f00a9633ac116384eeb70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2a5dd0d0a9f00a9633ac116384eeb70">&#9670;&nbsp;</a></span>unsafe_raise_bg_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unsafe_raise_bg_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a>&#160;</td>
          <td class="paramname"><em>bgIntStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> *&#160;</td>
          <td class="paramname"><em>p_bg_int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Raises a background interrupt to required task if not already raised and with the record for this background interrupt already found. </p>
<p>This is called only from macros which use token pasting to ensure that only valid background interrupts can be called or from raise_bg_int which does all the validation. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa6b09436f0c6a18be51001c7facc510a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b09436f0c6a18be51001c7facc510a">&#9670;&nbsp;</a></span>bg_ints</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a4755c459e8b9cb38771ba1058a55db30">BGINT</a> bg_ints[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    <a class="code" href="../../d5/d9b/sched__oxygen_8h.html#a9657531be5bd0a04f49b1adac2f1153cadd15302e6c77cb13682e86411c46a4d2">BG_INT_LIST</a>(STRUCT)</div><div class="line">    {(<a class="code" href="../../d5/d9b/sched__oxygen_8h.html#a1a2d7b66bb070433790111a255359128">bg_int_ids</a>)0, FALSE, (<a class="code" href="../../de/d43/sched__oxygen__private_8h.html#a317d27ca4517fb844fe7a4b80f63c119">bg_int_fn</a>)NULL, FALSE, NULL, NULL}</div><div class="line">}</div><div class="ttc" id="sched__oxygen__private_8h_html_a317d27ca4517fb844fe7a4b80f63c119"><div class="ttname"><a href="../../de/d43/sched__oxygen__private_8h.html#a317d27ca4517fb844fe7a4b80f63c119">bg_int_fn</a></div><div class="ttdeci">void(* bg_int_fn)(void **priv)</div><div class="ttdoc">Background interrupt handler type. </div><div class="ttdef"><b>Definition:</b> sched_oxygen_private.h:202</div></div>
<div class="ttc" id="sched__oxygen_8h_html_a1a2d7b66bb070433790111a255359128"><div class="ttname"><a href="../../d5/d9b/sched__oxygen_8h.html#a1a2d7b66bb070433790111a255359128">bg_int_ids</a></div><div class="ttdeci">enum bg_int_ids_enum bg_int_ids</div></div>
<div class="ttc" id="sched__oxygen_8h_html_a9657531be5bd0a04f49b1adac2f1153cadd15302e6c77cb13682e86411c46a4d2"><div class="ttname"><a href="../../d5/d9b/sched__oxygen_8h.html#a9657531be5bd0a04f49b1adac2f1153cadd15302e6c77cb13682e86411c46a4d2">BG_INT_LIST</a></div><div class="ttdef"><b>Definition:</b> sched_oxygen.h:345</div></div>
</div><!-- fragment -->
<p>Array of service functions, indexed by bg_int number. </p>
<p>The scheduler's background interrupt list.</p>
<p>There is a NULL handler at the end so it will assemble with no tasks defined </p>

</div>
</div>
<a id="ab6fa68437b2fe0eae5c6a2550bd1a296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6fa68437b2fe0eae5c6a2550bd1a296">&#9670;&nbsp;</a></span>bg_ints_in_priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d4e/structBG__INTQ.html">BG_INTQ</a> bg_ints_in_priority[<a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0e61fcc4980f8d02533edba6af2ac6a8a67d35d8917ef5d8c7bc8730a936350f9">NUM_PRIORITIES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e7e276156636ecef3633bdb91d2c490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7e276156636ecef3633bdb91d2c490">&#9670;&nbsp;</a></span>current_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#af16e88cac6d7589f65ec1fee305d099a">taskid</a>* current_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Useful to have these "logically private" variables global, to allow debug-visibility at wider scope. </p>
<p>The identifier of the current task or bg_int. Bit 22 indicates which this is; we use this to check that <code>get_message</code> / <code>get_highest_bg_int</code> are being called in the right context. </p>

</div>
</div>
<a id="a00b8457741f45f2de50e99499ec0acfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b8457741f45f2de50e99499ec0acfd">&#9670;&nbsp;</a></span>current_runlevel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> current_runlevel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run level at which scheduler is currently operating - initialised to illegal value (in init_sched) to simplify initialisation routine. </p>

</div>
</div>
<a id="a7cbcc7904c44e9104c40e73d52870d48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cbcc7904c44e9104c40e73d52870d48">&#9670;&nbsp;</a></span>CurrentPriorityMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CurrentPriorityMask</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit field representing priority of tasks that are ready to run, but have not yet run. </p>
<p>LSB represents LOWEST_PRIORITY from PRIORITY enum. NOTE: The width of the type must be known in order for MAP_PRIORITY_MASK_TO_ HIGHEST_LEVEL to work. But we also want to maximise efficiency. So we use unsigned int and rely on the macro UINT_BIT (defined in <a class="el" href="../../d5/dd9/hydra__types_8h.html">hydra_types.h</a>) to give us the width. </p>

</div>
</div>
<a id="aa582e39a9b1e994415a767b7ec8ad278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa582e39a9b1e994415a767b7ec8ad278">&#9670;&nbsp;</a></span>housekeeping</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool housekeeping = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A flag to indicate whether we have any task housekeeping to do, such as deletion of tasks that have been marked as ready to be deleted. </p>
<p>This housekeeping will be done only when the scheduler has not been called reentrantly but will be checked at least once per scheduler loop at that level. </p>

</div>
</div>
<a id="ab85bc41f259943187d54712cd0904bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85bc41f259943187d54712cd0904bbb">&#9670;&nbsp;</a></span>N_TASKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint16 N_TASKS = (0 <a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ab27c18138644a7718a166bca3586f3e8a53cf2ebdaccac6bb63841eb3bd4fcf5c">SCHED_TASK_LIST</a>(COUNT))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The total number of statically generated tasks, auto-initialised in the source file. </p>

</div>
</div>
<a id="a5762ee123f9be5f6905b26d5652b4ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5762ee123f9be5f6905b26d5652b4ace">&#9670;&nbsp;</a></span>NextSchedulerIdentifier</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#ad51d14497e97a864a23a84be384f9cfa">scheduler_identifier</a> NextSchedulerIdentifier = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Source of scheduler identifiers. </p>
<p>Init to 1; value 0 is special (NO_SCHID) </p>

</div>
</div>
<a id="a1d043b733fb6b21bc3fc5587a72c7d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d043b733fb6b21bc3fc5587a72c7d0c">&#9670;&nbsp;</a></span>pCachedMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a795e96b14e954a74a74d5948b5586e69">MSG</a>* pCachedMessage = (<a class="el" href="../../d5/d9b/sched__oxygen_8h.html#a795e96b14e954a74a74d5948b5586e69">MSG</a> *) NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a previously relinquished message in order to optimise the next call to <a class="el" href="../../db/dfb/sched__oxygen_8c.html#a61b1d2f4134ac9dd423d5a24d0c4b436" title="Sends a message consisting of the integer mi and the void* pointer mv to the message queue queueId...">put_message()</a>. </p>
<p>Avoids repeated calls to malloc and free as messages are created and released </p>

</div>
</div>
<a id="a3e6f76368abfbc8709f4c1346dfa6a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6f76368abfbc8709f4c1346dfa6a20">&#9670;&nbsp;</a></span>run</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool run = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A flag to allow us to exit a runlevel. </p>
<p>Set on calling <code><a class="el" href="../../db/dfb/sched__oxygen_8c.html#a2b56c9d68bea57ed23fcec5f4dc50fa9" title="The main function of the background task scheduler. ">sched()</a></code> </p>

</div>
</div>
<a id="a151378950887e946e1c64cf072726cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151378950887e946e1c64cf072726cb2">&#9670;&nbsp;</a></span>sched_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   sched_flags</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags used internally within the scheduler. </p>

</div>
</div>
<a id="a81f40ae43af15848dd3e922b8b8ab3c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f40ae43af15848dd3e922b8b8ab3c9">&#9670;&nbsp;</a></span>SchedInterruptActive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SchedInterruptActive = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set by interrupt handler to indicate IRQ is active. </p>
<p>Used by scheduler to disable context switch when PlPutMessage is called from within IRQ </p>

</div>
</div>
<a id="abe385edd98f03fd359bcdafeed795f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe385edd98f03fd359bcdafeed795f5a">&#9670;&nbsp;</a></span>tasks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d43/sched__oxygen__private_8h.html#a78cceca202deb38752f0a1905d7d0103">TASK</a> tasks[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line"></div><div class="line">}</div></div><!-- fragment -->
<p>The scheduler's task list. </p>
<p>Defined by autogeneration magic. We modify this at runtime, so it's held in RAM. </p>

</div>
</div>
<a id="a64a5853002b199ae9ee75aeb5b646234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a5853002b199ae9ee75aeb5b646234">&#9670;&nbsp;</a></span>tasks_in_priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d89/structTASKQ.html">TASKQ</a> tasks_in_priority[<a class="el" href="../../d6/d13/sched__oxygen__priority_8h.html#a0e61fcc4980f8d02533edba6af2ac6a8a67d35d8917ef5d8c7bc8730a936350f9">NUM_PRIORITIES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7edf8d1cf4f2c4ced17ab5d0a0eeadc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edf8d1cf4f2c4ced17ab5d0a0eeadc4">&#9670;&nbsp;</a></span>TotalNumMessages</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="../../d5/dd9/hydra__types_8h.html#a5d6024d9354c859cb3ee08e84981869e">uint16f</a> TotalNumMessages</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of messages and background interrupts in the system. </p>
<p>Number of background interrupts/messages pending. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_240681f6dc407f95ae9103d80499b5b4.html">fw</a></li><li class="navelem"><a class="el" href="../../dir_67a3fc20251395f7d62aa73621d4d7c9.html">src</a></li><li class="navelem"><a class="el" href="../../dir_721b2a6acf65b21a05ec9c4de6b97c06.html">core</a></li><li class="navelem"><a class="el" href="../../dir_15801a42d4649d8065f4158f494341e7.html">sched_oxygen</a></li><li class="navelem"><a class="el" href="../../db/dfb/sched__oxygen_8c.html">sched_oxygen.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
