<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OS: fault.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d47/fault_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fault.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fault implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d2/d3b/fault__private_8h_source.html">fault/fault_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d81/fault__appcmd_8h_source.html">fault/fault_appcmd.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a47f3291e7277e73935559fb3a552ec02"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a47f3291e7277e73935559fb3a552ec02">FAULT_INIT_STATE</a></td></tr>
<tr class="memdesc:a47f3291e7277e73935559fb3a552ec02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation state enum.  <a href="#a47f3291e7277e73935559fb3a552ec02">More...</a><br /></td></tr>
<tr class="separator:a47f3291e7277e73935559fb3a552ec02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae44b0054f10fa1f60d4424b18cd829e5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a> { <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5affbe7c6deedcc7ad500738bde3f1a0ad">FAULT_UNINIT</a>, 
<a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5a45c002d8d30c4d14a50e054c1acba560">FAULT_UNINIT_FAULTED</a>, 
<a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5a005b4392a0f15d925e8ad59e4dc9f0e8">FAULT_INIT</a>
 }</td></tr>
<tr class="memdesc:ae44b0054f10fa1f60d4424b18cd829e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation state enum.  <a href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">More...</a><br /></td></tr>
<tr class="separator:ae44b0054f10fa1f60d4424b18cd829e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af0fcdd36c13ac282f7c085d8827922a6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#af0fcdd36c13ac282f7c085d8827922a6">provoke_publication</a> (void)</td></tr>
<tr class="memdesc:af0fcdd36c13ac282f7c085d8827922a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers a publication if the module is initialized.  <a href="#af0fcdd36c13ac282f7c085d8827922a6">More...</a><br /></td></tr>
<tr class="separator:af0fcdd36c13ac282f7c085d8827922a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf272b1ed46ed62b7ba2387124443eab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#aaf272b1ed46ed62b7ba2387124443eab">schedule_publish_faults</a> (void)</td></tr>
<tr class="memdesc:aaf272b1ed46ed62b7ba2387124443eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up (delayed) publication of faults.  <a href="#aaf272b1ed46ed62b7ba2387124443eab">More...</a><br /></td></tr>
<tr class="separator:aaf272b1ed46ed62b7ba2387124443eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a3b7c21766e61af6aa9bcb42fd6a3c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a38a3b7c21766e61af6aa9bcb42fd6a3c">fault_core</a> (faultid confession, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a6a968bf45010ef6003ef38c7808eb80a">DIATRIBE_TYPE</a> arg, bool freshen)</td></tr>
<tr class="memdesc:a38a3b7c21766e61af6aa9bcb42fd6a3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Central entry point for all faults.  <a href="#a38a3b7c21766e61af6aa9bcb42fd6a3c">More...</a><br /></td></tr>
<tr class="separator:a38a3b7c21766e61af6aa9bcb42fd6a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade263889f1146ae46e3d0fe56a207938"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#ade263889f1146ae46e3d0fe56a207938">init_fault</a> (void)</td></tr>
<tr class="memdesc:ade263889f1146ae46e3d0fe56a207938"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the fault subsystem.  <a href="#ade263889f1146ae46e3d0fe56a207938">More...</a><br /></td></tr>
<tr class="separator:ade263889f1146ae46e3d0fe56a207938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af90a023fca6c1b03f59c5fa5c2957083"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#af90a023fca6c1b03f59c5fa5c2957083">fault_diatribe</a> (faultid confession, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a6a968bf45010ef6003ef38c7808eb80a">DIATRIBE_TYPE</a> arg)</td></tr>
<tr class="memdesc:af90a023fca6c1b03f59c5fa5c2957083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to produce an error message to the outside world.  <a href="#af90a023fca6c1b03f59c5fa5c2957083">More...</a><br /></td></tr>
<tr class="separator:af90a023fca6c1b03f59c5fa5c2957083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f7eac57f840a656c877f6c9de3d6c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a56f7eac57f840a656c877f6c9de3d6c3">fault_update</a> (faultid confession, <a class="el" href="../../d5/dd9/hydra__types_8h.html#a6a968bf45010ef6003ef38c7808eb80a">DIATRIBE_TYPE</a> arg)</td></tr>
<tr class="memdesc:a56f7eac57f840a656c877f6c9de3d6c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a>, but the argument and timestamp override those of any pending fault of the given type.  <a href="#a56f7eac57f840a656c877f6c9de3d6c3">More...</a><br /></td></tr>
<tr class="separator:a56f7eac57f840a656c877f6c9de3d6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2089e5e30c845fb1cd1c3c15a50b06cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a2089e5e30c845fb1cd1c3c15a50b06cf">publish_faults</a> (void)</td></tr>
<tr class="memdesc:a2089e5e30c845fb1cd1c3c15a50b06cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch to background to publish faults over host interface.  <a href="#a2089e5e30c845fb1cd1c3c15a50b06cf">More...</a><br /></td></tr>
<tr class="separator:a2089e5e30c845fb1cd1c3c15a50b06cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bdb04948e21005e418bfb81c199360"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a39bdb04948e21005e418bfb81c199360">publish_faults_bg</a> (void)</td></tr>
<tr class="memdesc:a39bdb04948e21005e418bfb81c199360"><td class="mdescLeft">&#160;</td><td class="mdescRight">publish_faults  <a href="#a39bdb04948e21005e418bfb81c199360">More...</a><br /></td></tr>
<tr class="separator:a39bdb04948e21005e418bfb81c199360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d14ee003c54c020916c609b5b1b052"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a90d14ee003c54c020916c609b5b1b052">fault_set_panic_on_fault</a> (bool enable)</td></tr>
<tr class="memdesc:a90d14ee003c54c020916c609b5b1b052"><td class="mdescLeft">&#160;</td><td class="mdescRight">A call to <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> normally will (attempt to) send a message to the host, informing it of a survivable error event.  <a href="#a90d14ee003c54c020916c609b5b1b052">More...</a><br /></td></tr>
<tr class="separator:a90d14ee003c54c020916c609b5b1b052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9fa6171060749dc79c01a909a76377"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a8b9fa6171060749dc79c01a909a76377">fault_get_panic_on_fault</a> (void)</td></tr>
<tr class="memdesc:a8b9fa6171060749dc79c01a909a76377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain panic_on_fault configuration.  <a href="#a8b9fa6171060749dc79c01a909a76377">More...</a><br /></td></tr>
<tr class="separator:a8b9fa6171060749dc79c01a909a76377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a38c63509f715006f28329eeeddebc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#ad1a38c63509f715006f28329eeeddebc">fault_set_panic_on_fault_code</a> (uint16 id)</td></tr>
<tr class="memdesc:ad1a38c63509f715006f28329eeeddebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refine panic_on_fault configuration.  <a href="#ad1a38c63509f715006f28329eeeddebc">More...</a><br /></td></tr>
<tr class="separator:ad1a38c63509f715006f28329eeeddebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617dbc4a581bc6e176c409df0200f641"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a617dbc4a581bc6e176c409df0200f641">fault_get_panic_on_fault_code</a> (void)</td></tr>
<tr class="memdesc:a617dbc4a581bc6e176c409df0200f641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain panic_on_fault refined config.  <a href="#a617dbc4a581bc6e176c409df0200f641">More...</a><br /></td></tr>
<tr class="separator:a617dbc4a581bc6e176c409df0200f641"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6c0643a2df2fa22bc3a32ef1373ec750"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a6c0643a2df2fa22bc3a32ef1373ec750">fault_init_state</a> = <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5affbe7c6deedcc7ad500738bde3f1a0ad">FAULT_UNINIT</a></td></tr>
<tr class="memdesc:a6c0643a2df2fa22bc3a32ef1373ec750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fault init state container.  <a href="#a6c0643a2df2fa22bc3a32ef1373ec750">More...</a><br /></td></tr>
<tr class="separator:a6c0643a2df2fa22bc3a32ef1373ec750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f61922c98036ba57112e1f762ec7f21"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a2f61922c98036ba57112e1f762ec7f21">publish_faults_scheduled</a> = FALSE</td></tr>
<tr class="memdesc:a2f61922c98036ba57112e1f762ec7f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is <a class="el" href="../../d8/d47/fault_8c.html#a2089e5e30c845fb1cd1c3c15a50b06cf" title="Dispatch to background to publish faults over host interface. ">publish_faults()</a> already scheduled to run?  <a href="#a2f61922c98036ba57112e1f762ec7f21">More...</a><br /></td></tr>
<tr class="separator:a2f61922c98036ba57112e1f762ec7f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aa87753180bdf4bcd2c52a8a3967da4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a4aa87753180bdf4bcd2c52a8a3967da4">panic_on_fault_enabled</a></td></tr>
<tr class="memdesc:a4aa87753180bdf4bcd2c52a8a3967da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the panic_on_fault functionality enabled?  <a href="#a4aa87753180bdf4bcd2c52a8a3967da4">More...</a><br /></td></tr>
<tr class="separator:a4aa87753180bdf4bcd2c52a8a3967da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5668ed04768ab2f2c95e490e7eb1f80c"><td class="memItemLeft" align="right" valign="top">static faultid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/fault_8c.html#a5668ed04768ab2f2c95e490e7eb1f80c">panic_on_fault_id</a> = FAULT_NONE</td></tr>
<tr class="memdesc:a5668ed04768ab2f2c95e490e7eb1f80c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If panic_on_fault_enabled is TRUE and panic_on_fault_id is FAULT_NONE then any call to <a class="el" href="../../d8/d47/fault_8c.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> will provoke a call to <a class="el" href="../../d2/daf/panic_8c.html#a0c8c25de85e02927eb6b3a547e0cd57d" title="Protest pathetically and die. ">panic()</a>.  <a href="#a5668ed04768ab2f2c95e490e7eb1f80c">More...</a><br /></td></tr>
<tr class="separator:a5668ed04768ab2f2c95e490e7eb1f80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fault implementation. </p>
<h1><a class="anchor" id="fault"></a>
DESCRIPTION</h1>
<p>This file contains all of the core functions dealing with fault processing. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a47f3291e7277e73935559fb3a552ec02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f3291e7277e73935559fb3a552ec02">&#9670;&nbsp;</a></span>FAULT_INIT_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a>  <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialisation state enum. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae44b0054f10fa1f60d4424b18cd829e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44b0054f10fa1f60d4424b18cd829e5">&#9670;&nbsp;</a></span>FAULT_INIT_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialisation state enum. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae44b0054f10fa1f60d4424b18cd829e5affbe7c6deedcc7ad500738bde3f1a0ad"></a>FAULT_UNINIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae44b0054f10fa1f60d4424b18cd829e5a45c002d8d30c4d14a50e054c1acba560"></a>FAULT_UNINIT_FAULTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae44b0054f10fa1f60d4424b18cd829e5a005b4392a0f15d925e8ad59e4dc9f0e8"></a>FAULT_INIT&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a38a3b7c21766e61af6aa9bcb42fd6a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a3b7c21766e61af6aa9bcb42fd6a3c">&#9670;&nbsp;</a></span>fault_core()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fault_core </td>
          <td>(</td>
          <td class="paramtype">faultid&#160;</td>
          <td class="paramname"><em>confession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a6a968bf45010ef6003ef38c7808eb80a">DIATRIBE_TYPE</a>&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freshen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Central entry point for all faults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">confession</td><td>Fault ID. </td></tr>
    <tr><td class="paramname">arg</td><td>Fault argument (32 bit). </td></tr>
    <tr><td class="paramname">freshen</td><td>If TRUE and fault already exists in the database this will trigger an update of the argument and timestamp. Otherwise only the number of occurences will be incremented. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af90a023fca6c1b03f59c5fa5c2957083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af90a023fca6c1b03f59c5fa5c2957083">&#9670;&nbsp;</a></span>fault_diatribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fault_diatribe </td>
          <td>(</td>
          <td class="paramtype">faultid&#160;</td>
          <td class="paramname"><em>confession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a6a968bf45010ef6003ef38c7808eb80a">DIATRIBE_TYPE</a>&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to produce an error message to the outside world. </p>
<p>This message indicates a non-fatal error of some sort. It is possible that the error will hamper proper operation of the chip, but it is assumed that the host interface and operating system components of the chip are still functioning. The argument can be used to give extra information about the error. The way in which the argument is used is dependent on the fault code. This function should be callable from any processor at any interrupt level. See the description of <a class="el" href="../../dd/db4/fault_8h.html#a90d14ee003c54c020916c609b5b1b052" title="A call to fault_diatribe() normally will (attempt to) send a message to the host, informing it of a s...">fault_set_panic_on_fault()</a>, which can modify <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a>'s normal behaviour. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">confession</td><td>Fault ID. </td></tr>
    <tr><td class="paramname">arg</td><td>Fault argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b9fa6171060749dc79c01a909a76377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b9fa6171060749dc79c01a909a76377">&#9670;&nbsp;</a></span>fault_get_panic_on_fault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fault_get_panic_on_fault </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain panic_on_fault configuration. </p>
<dl class="section return"><dt>Returns</dt><dd>The value last written to <a class="el" href="../../dd/db4/fault_8h.html#a90d14ee003c54c020916c609b5b1b052" title="A call to fault_diatribe() normally will (attempt to) send a message to the host, informing it of a s...">fault_set_panic_on_fault()</a>, or FALSE if no such call has been made. </dd></dl>

</div>
</div>
<a id="a617dbc4a581bc6e176c409df0200f641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617dbc4a581bc6e176c409df0200f641">&#9670;&nbsp;</a></span>fault_get_panic_on_fault_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 fault_get_panic_on_fault_code </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain panic_on_fault refined config. </p>
<dl class="section return"><dt>Returns</dt><dd>The value last written to <a class="el" href="../../dd/db4/fault_8h.html#ad1a38c63509f715006f28329eeeddebc" title="Refine panic_on_fault configuration. ">fault_set_panic_on_fault_code()</a>, or "fault_none" if no such call has been made. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>It would be more natural for this function to return a faultid. It returns a uint16 to fit efficiently with mibgetfns.c. </dd></dl>

</div>
</div>
<a id="a90d14ee003c54c020916c609b5b1b052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d14ee003c54c020916c609b5b1b052">&#9670;&nbsp;</a></span>fault_set_panic_on_fault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fault_set_panic_on_fault </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A call to <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> normally will (attempt to) send a message to the host, informing it of a survivable error event. </p>
<p>This function changes this behaviour such that a call to <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> can lead directly to a call to <a class="el" href="../../d2/daf/panic_8c.html#a0c8c25de85e02927eb6b3a547e0cd57d" title="Protest pathetically and die. ">panic()</a>. This is intended only to support system debugging. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>If "enable" is TRUE and if no call has been made to <a class="el" href="../../dd/db4/fault_8h.html#ad1a38c63509f715006f28329eeeddebc" title="Refine panic_on_fault configuration. ">fault_set_panic_on_fault_code()</a> then a call to <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> will lead directly to a call to <a class="el" href="../../d2/daf/panic_8c.html#a0c8c25de85e02927eb6b3a547e0cd57d" title="Protest pathetically and die. ">panic()</a>. If "enable" is TRUE and if the last call to <a class="el" href="../../dd/db4/fault_8h.html#ad1a38c63509f715006f28329eeeddebc" title="Refine panic_on_fault configuration. ">fault_set_panic_on_fault_code()</a> did not have the argument "fault_none" then any call to <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> will lead directly to a call to <a class="el" href="../../d2/daf/panic_8c.html#a0c8c25de85e02927eb6b3a547e0cd57d" title="Protest pathetically and die. ">panic()</a> if the <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> call's argument matches the last argument to <a class="el" href="../../dd/db4/fault_8h.html#ad1a38c63509f715006f28329eeeddebc" title="Refine panic_on_fault configuration. ">fault_set_panic_on_fault_code()</a>. If "enable" is FALSE then normal <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> behaviour is restored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1a38c63509f715006f28329eeeddebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a38c63509f715006f28329eeeddebc">&#9670;&nbsp;</a></span>fault_set_panic_on_fault_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fault_set_panic_on_fault_code </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refine panic_on_fault configuration. </p>
<p>See the description of <a class="el" href="../../dd/db4/fault_8h.html#a90d14ee003c54c020916c609b5b1b052" title="A call to fault_diatribe() normally will (attempt to) send a message to the host, informing it of a s...">fault_set_panic_on_fault()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Fault ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It would be more natural for "id" to be a faultid. It is of type uint16 to fit efficiently with mibsetfns.c. </dd></dl>

</div>
</div>
<a id="a56f7eac57f840a656c877f6c9de3d6c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f7eac57f840a656c877f6c9de3d6c3">&#9670;&nbsp;</a></span>fault_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fault_update </td>
          <td>(</td>
          <td class="paramtype">faultid&#160;</td>
          <td class="paramname"><em>confession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dd9/hydra__types_8h.html#a6a968bf45010ef6003ef38c7808eb80a">DIATRIBE_TYPE</a>&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like <a class="el" href="../../dd/db4/fault_8h.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a>, but the argument and timestamp override those of any pending fault of the given type. </p>

</div>
</div>
<a id="ade263889f1146ae46e3d0fe56a207938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade263889f1146ae46e3d0fe56a207938">&#9670;&nbsp;</a></span>init_fault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_fault </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the fault subsystem. </p>
<p>This must be called before calls to any other function defined in this file. </p>

</div>
</div>
<a id="af0fcdd36c13ac282f7c085d8827922a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0fcdd36c13ac282f7c085d8827922a6">&#9670;&nbsp;</a></span>provoke_publication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void provoke_publication </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Triggers a publication if the module is initialized. </p>

</div>
</div>
<a id="a2089e5e30c845fb1cd1c3c15a50b06cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2089e5e30c845fb1cd1c3c15a50b06cf">&#9670;&nbsp;</a></span>publish_faults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publish_faults </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch to background to publish faults over host interface. </p>

</div>
</div>
<a id="a39bdb04948e21005e418bfb81c199360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bdb04948e21005e418bfb81c199360">&#9670;&nbsp;</a></span>publish_faults_bg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publish_faults_bg </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>publish_faults </p>
<p>Service the fault database</p>
<p>Calls to <a class="el" href="../../d8/d47/fault_8c.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> or <a class="el" href="../../d8/d47/fault_8c.html#a56f7eac57f840a656c877f6c9de3d6c3" title="Like fault_diatribe(), but the argument and timestamp override those of any pending fault of the give...">fault_update()</a> park error messages in a small database. The publish_fault() call is called periodically whenever the database holds any faults.</p>
<p>The function makes a set of reports to an interested party - typically the host.</p>
<p>This must only be called from the high background (BG_HIGH). </p>

</div>
</div>
<a id="aaf272b1ed46ed62b7ba2387124443eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf272b1ed46ed62b7ba2387124443eab">&#9670;&nbsp;</a></span>schedule_publish_faults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void schedule_publish_faults </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up (delayed) publication of faults. </p>
<p>This can be called from itime as any I/O is dispatched to the background. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6c0643a2df2fa22bc3a32ef1373ec750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0643a2df2fa22bc3a32ef1373ec750">&#9670;&nbsp;</a></span>fault_init_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5">FAULT_INIT_STATE</a> fault_init_state = <a class="el" href="../../d8/d47/fault_8c.html#ae44b0054f10fa1f60d4424b18cd829e5affbe7c6deedcc7ad500738bde3f1a0ad">FAULT_UNINIT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fault init state container. </p>
<p>We need this because faults may be queued before the mechanism is fully initialised. </p>

</div>
</div>
<a id="a4aa87753180bdf4bcd2c52a8a3967da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aa87753180bdf4bcd2c52a8a3967da4">&#9670;&nbsp;</a></span>panic_on_fault_enabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool panic_on_fault_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the panic_on_fault functionality enabled? </p>

</div>
</div>
<a id="a5668ed04768ab2f2c95e490e7eb1f80c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5668ed04768ab2f2c95e490e7eb1f80c">&#9670;&nbsp;</a></span>panic_on_fault_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">faultid panic_on_fault_id = FAULT_NONE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If panic_on_fault_enabled is TRUE and panic_on_fault_id is FAULT_NONE then any call to <a class="el" href="../../d8/d47/fault_8c.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> will provoke a call to <a class="el" href="../../d2/daf/panic_8c.html#a0c8c25de85e02927eb6b3a547e0cd57d" title="Protest pathetically and die. ">panic()</a>. </p>
<p>If panic_on_fault_id is not FAULT_NONE then <a class="el" href="../../d8/d47/fault_8c.html#af90a023fca6c1b03f59c5fa5c2957083" title="Attempt to produce an error message to the outside world. ">fault_diatribe()</a> will call <a class="el" href="../../d2/daf/panic_8c.html#a0c8c25de85e02927eb6b3a547e0cd57d" title="Protest pathetically and die. ">panic()</a> whenever the specified faultid arises. </p>

</div>
</div>
<a id="a2f61922c98036ba57112e1f762ec7f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f61922c98036ba57112e1f762ec7f21">&#9670;&nbsp;</a></span>publish_faults_scheduled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool publish_faults_scheduled = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is <a class="el" href="../../d8/d47/fault_8c.html#a2089e5e30c845fb1cd1c3c15a50b06cf" title="Dispatch to background to publish faults over host interface. ">publish_faults()</a> already scheduled to run? </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_240681f6dc407f95ae9103d80499b5b4.html">fw</a></li><li class="navelem"><a class="el" href="../../dir_67a3fc20251395f7d62aa73621d4d7c9.html">src</a></li><li class="navelem"><a class="el" href="../../dir_721b2a6acf65b21a05ec9c4de6b97c06.html">core</a></li><li class="navelem"><a class="el" href="../../dir_cf826d0e7faf5f551beb8a007ff88068.html">fault</a></li><li class="navelem"><a class="el" href="../../d8/d47/fault_8c.html">fault.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
