<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OS: pl_timers_private.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d5/dfa/pl__timers__private_8h.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pl_timers_private.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>header for the internals of the timer, which is shared between timer and scheduler  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/dd2/pl__timers_8h_source.html">pl_timers/pl_timers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d7e/int_8h_source.html">int/int.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d69/hydra__macros_8h_source.html">hydra/hydra_macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/ddb/pmalloc_8h_source.html">pmalloc/pmalloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d1f/panic_8h_source.html">panic/panic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d9b/sched__oxygen_8h_source.html">sched_oxygen/sched_oxygen.h</a>&quot;</code><br />
<code>#include &quot;patch.h&quot;</code><br />
</div>
<p><a href="../../d5/dfa/pl__timers__private_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dfe/structtTimerStuctTag.html">tTimerStuctTag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines an abstract timer handle.  <a href="../../db/dfe/structtTimerStuctTag.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d46/structtStrictTimerStruct.html">tStrictTimerStruct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strict timer time values.  <a href="../../d5/d46/structtStrictTimerStruct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da8/structtCasualTimerStruct.html">tCasualTimerStruct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Casual timer time values.  <a href="../../dd/da8/structtCasualTimerStruct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a59290b637e387a103944771b421cf0f2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../db/dfe/structtTimerStuctTag.html">tTimerStuctTag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a59290b637e387a103944771b421cf0f2">tTimerStruct</a></td></tr>
<tr class="memdesc:a59290b637e387a103944771b421cf0f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines an abstract timer handle.  <a href="#a59290b637e387a103944771b421cf0f2">More...</a><br /></td></tr>
<tr class="separator:a59290b637e387a103944771b421cf0f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afc7b540077e7e9b6db6f45dfb4b5952d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#afc7b540077e7e9b6db6f45dfb4b5952d">timers_service_expired_strict_events</a> (void)</td></tr>
<tr class="memdesc:afc7b540077e7e9b6db6f45dfb4b5952d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer service routine, which traverses through the strict event list and services expired events.  <a href="#afc7b540077e7e9b6db6f45dfb4b5952d">More...</a><br /></td></tr>
<tr class="separator:afc7b540077e7e9b6db6f45dfb4b5952d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d586cfee0ffedb43e31e93935e9792"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a89d586cfee0ffedb43e31e93935e9792">timers_service_expired_casual_events</a> (void)</td></tr>
<tr class="memdesc:a89d586cfee0ffedb43e31e93935e9792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer service routine, which traverses through the casual event list and services expired events.  <a href="#a89d586cfee0ffedb43e31e93935e9792">More...</a><br /></td></tr>
<tr class="separator:a89d586cfee0ffedb43e31e93935e9792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6291c08de69cb5ec20de92bfb7c46d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#ad6291c08de69cb5ec20de92bfb7c46d0">timers_get_next_event_time</a> (<a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> *next_time)</td></tr>
<tr class="memdesc:ad6291c08de69cb5ec20de92bfb7c46d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the deadline of the next timer (strict or casual) that is set to expire.  <a href="#ad6291c08de69cb5ec20de92bfb7c46d0">More...</a><br /></td></tr>
<tr class="separator:ad6291c08de69cb5ec20de92bfb7c46d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d85a2d036c3cf336597601a2390f9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#ad6d85a2d036c3cf336597601a2390f9f">get_timer_expiry_time</a> (tTimerId timer_id)</td></tr>
<tr class="memdesc:ad6d85a2d036c3cf336597601a2390f9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets scheduled expiry time for the given timer id.  <a href="#ad6d85a2d036c3cf336597601a2390f9f">More...</a><br /></td></tr>
<tr class="separator:ad6d85a2d036c3cf336597601a2390f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983155e52f5733621e4d9ebf541458e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a59290b637e387a103944771b421cf0f2">tTimerStruct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a983155e52f5733621e4d9ebf541458e5">get_timer_from_id</a> (tTimerId timer_id)</td></tr>
<tr class="memdesc:a983155e52f5733621e4d9ebf541458e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets pointer to the event the given timer id.  <a href="#a983155e52f5733621e4d9ebf541458e5">More...</a><br /></td></tr>
<tr class="separator:a983155e52f5733621e4d9ebf541458e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6ae20c19e40d7a63d4d58c8f7077388c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a6ae20c19e40d7a63d4d58c8f7077388c">timer_being_serviced</a></td></tr>
<tr class="separator:a6ae20c19e40d7a63d4d58c8f7077388c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>header for the internals of the timer, which is shared between timer and scheduler </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a59290b637e387a103944771b421cf0f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59290b637e387a103944771b421cf0f2">&#9670;&nbsp;</a></span>tTimerStruct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../db/dfe/structtTimerStuctTag.html">tTimerStuctTag</a>  <a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a59290b637e387a103944771b421cf0f2">tTimerStruct</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines an abstract timer handle. </p>
<p>This is only ever used as a pointer </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad6d85a2d036c3cf336597601a2390f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d85a2d036c3cf336597601a2390f9f">&#9670;&nbsp;</a></span>get_timer_expiry_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> get_timer_expiry_time </td>
          <td>(</td>
          <td class="paramtype">tTimerId&#160;</td>
          <td class="paramname"><em>timer_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets scheduled expiry time for the given timer id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timer_id</td><td>event Id for which expiry time is required</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The scheduled expiry time for the event</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is used mainly from timer test applications. In the case of casual events, the expiry time returned is the earliest time. </dd></dl>

</div>
</div>
<a id="a983155e52f5733621e4d9ebf541458e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a983155e52f5733621e4d9ebf541458e5">&#9670;&nbsp;</a></span>get_timer_from_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html#a59290b637e387a103944771b421cf0f2">tTimerStruct</a>* get_timer_from_id </td>
          <td>(</td>
          <td class="paramtype">tTimerId&#160;</td>
          <td class="paramname"><em>timer_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets pointer to the event the given timer id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timer_id</td><td>event Id for which pointer is required</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the timer structure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is used mainly from timer test applications. </dd></dl>

</div>
</div>
<a id="ad6291c08de69cb5ec20de92bfb7c46d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6291c08de69cb5ec20de92bfb7c46d0">&#9670;&nbsp;</a></span>timers_get_next_event_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool timers_get_next_event_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd3/rtime__types_8h.html#afc21bac5ad596b618b484908da356c0c">TIME</a> *&#160;</td>
          <td class="paramname"><em>next_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the deadline of the next timer (strict or casual) that is set to expire. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">next_time</td><td>Holds the expiry time of the first event to expire, if there are any.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns TRUE if a valid timer was found, else FALSE</dd></dl>
<p>Finds the deadline of the next timer (strict or casual) that is set to expire. </p>

</div>
</div>
<a id="a89d586cfee0ffedb43e31e93935e9792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d586cfee0ffedb43e31e93935e9792">&#9670;&nbsp;</a></span>timers_service_expired_casual_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timers_service_expired_casual_events </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer service routine, which traverses through the casual event list and services expired events. </p>
<dl class="section note"><dt>Note</dt><dd>This function is internal to platform and is called by scheduler and timer interrupt service routine.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Interrupts must be disabled before calling this function.</dd></dl>
<p>Timer service routine, which traverses through the casual event list and services expired events. </p>

</div>
</div>
<a id="afc7b540077e7e9b6db6f45dfb4b5952d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7b540077e7e9b6db6f45dfb4b5952d">&#9670;&nbsp;</a></span>timers_service_expired_strict_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timers_service_expired_strict_events </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer service routine, which traverses through the strict event list and services expired events. </p>
<dl class="section note"><dt>Note</dt><dd>This function is internal to platform and is called by scheduler and timer interrupt service routine.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Interrupts must be disabled before calling this function.</dd></dl>
<p>Timer service routine, which traverses through the strict event list and services expired events. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6ae20c19e40d7a63d4d58c8f7077388c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ae20c19e40d7a63d4d58c8f7077388c">&#9670;&nbsp;</a></span>timer_being_serviced</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool timer_being_serviced</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Indicates whether this module is currently servicing expired timers.</li>
</ul>
<p>This information is shared with the scheduler. Timers do not have a taskid associated with them so an extra flag is needed when we're currently servicing expired timers. Without this knowledge it's possible that an interrupt can occur whilst servicing the timer and the scheduler will decide to service them again based on the priority derived from its current_id. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_240681f6dc407f95ae9103d80499b5b4.html">fw</a></li><li class="navelem"><a class="el" href="../../dir_67a3fc20251395f7d62aa73621d4d7c9.html">src</a></li><li class="navelem"><a class="el" href="../../dir_721b2a6acf65b21a05ec9c4de6b97c06.html">core</a></li><li class="navelem"><a class="el" href="../../dir_121a13791b8e910ccea450c0e307f771.html">pl_timers</a></li><li class="navelem"><a class="el" href="../../d5/dfa/pl__timers__private_8h.html">pl_timers_private.h</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
