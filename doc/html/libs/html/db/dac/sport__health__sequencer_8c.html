<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBS: sport_health_sequencer.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIBS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/dac/sport__health__sequencer_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sport_health_sequencer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/d95/sport__health__algorithms_8h_source.html">sport_health_algorithms.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/de4/sport__health__sequencer_8h_source.html">sport_health_sequencer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d50/sport__health__logging_8h_source.html">sport_health_logging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d4a/sport__health__algo__utils_8h_source.html">sport_health_algo_utils.h</a>&quot;</code><br />
<code>#include &quot;macros.h&quot;</code><br />
<code>#include &quot;message.h&quot;</code><br />
<code>#include &lt;<a class="elRef" doxygen="C:/ws/j_adk64r_RC_build_aurad_ext/devkit/build/doc_doxygen_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004/progfiles/doc/html/os/os.tag:../../../../os/html/" href="../../../../os/html/df/d1f/panic_8h.html">panic.h</a>&gt;</code><br />
<code>#include &quot;<a class="elRef" doxygen="C:/ws/j_adk64r_RC_build_aurad_ext/devkit/build/doc_doxygen_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004/progfiles/doc/html/os/os.tag:../../../../os/html/" href="../../../../os/html/da/d67/hydra__log_8h.html">hydra_log.h</a>&quot;</code><br />
<code>#include &quot;stdlib.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a400517619603ccdf5a9f4a4efe7a96f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a400517619603ccdf5a9f4a4efe7a96f1">sh_seq_sensor_cfg_init</a> (<a class="el" href="../../dd/d51/structsh__sensor__cfg__t.html">sh_sensor_cfg_t</a> *p_sensor_cfg)</td></tr>
<tr class="memdesc:a400517619603ccdf5a9f4a4efe7a96f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define static variables to mark whether we are in PPG power save mode, current state and time of entry.  <a href="#a400517619603ccdf5a9f4a4efe7a96f1">More...</a><br /></td></tr>
<tr class="separator:a400517619603ccdf5a9f4a4efe7a96f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fae26a8fea8215c6e83786db4e4fd6"><td class="memItemLeft" align="right" valign="top">static uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a14fae26a8fea8215c6e83786db4e4fd6">sh_seq_enable_dependent_algorithms</a> (uint32 algo_enables)</td></tr>
<tr class="memdesc:a14fae26a8fea8215c6e83786db4e4fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function derives all the dependent algorithms to be enabled based on algorithm enable bitfield sent by customer app.  <a href="#a14fae26a8fea8215c6e83786db4e4fd6">More...</a><br /></td></tr>
<tr class="separator:a14fae26a8fea8215c6e83786db4e4fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30aa31f2990c88ded20db3c481e21c33"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a30aa31f2990c88ded20db3c481e21c33">sh_seq_get_sensor_cfg</a> (<a class="el" href="../../dd/d51/structsh__sensor__cfg__t.html">sh_sensor_cfg_t</a> *p_sensor_cfg)</td></tr>
<tr class="memdesc:a30aa31f2990c88ded20db3c481e21c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derives all the enabled algorithms specific parameters related to sensor mode, algorithm min and max time window and sample rate for each sensor.  <a href="#a30aa31f2990c88ded20db3c481e21c33">More...</a><br /></td></tr>
<tr class="separator:a30aa31f2990c88ded20db3c481e21c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b08df80406fcce09ea77a8661c2041"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#aa0b08df80406fcce09ea77a8661c2041">sh_seq_initialise_algorithms</a> (uint32 toggle_enables)</td></tr>
<tr class="memdesc:aa0b08df80406fcce09ea77a8661c2041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and free context memory for each enabled or disabled algorithm.  <a href="#aa0b08df80406fcce09ea77a8661c2041">More...</a><br /></td></tr>
<tr class="separator:aa0b08df80406fcce09ea77a8661c2041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af086bf87c3308736dff5adf0f050981a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#af086bf87c3308736dff5adf0f050981a">sport_health_sequencer_init</a> (void)</td></tr>
<tr class="memdesc:af086bf87c3308736dff5adf0f050981a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the context and results for each algorithm.  <a href="#af086bf87c3308736dff5adf0f050981a">More...</a><br /></td></tr>
<tr class="separator:af086bf87c3308736dff5adf0f050981a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0638ae9f105696275c47d77bec87beb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a0638ae9f105696275c47d77bec87beb9">sh_seq_process_imu_data</a> (<a class="el" href="../../d4/d4d/structimu__sensor__data__t.html">imu_sensor_data_t</a> *p_message)</td></tr>
<tr class="memdesc:a0638ae9f105696275c47d77bec87beb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the IMU data received from sensor by passing to different algorithms.  <a href="#a0638ae9f105696275c47d77bec87beb9">More...</a><br /></td></tr>
<tr class="separator:a0638ae9f105696275c47d77bec87beb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13da64cee44f265dc913c3e63d51a8c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a13da64cee44f265dc913c3e63d51a8c4">sh_seq_process_ppg_data</a> (<a class="el" href="../../d7/deb/structppg__sensor__data__t.html">ppg_sensor_data_t</a> *p_message)</td></tr>
<tr class="memdesc:a13da64cee44f265dc913c3e63d51a8c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the PPG data received from sensor by passing to different algorithms.Generates results for all the enabled algorithm which can then be used by customer application for further processing.  <a href="#a13da64cee44f265dc913c3e63d51a8c4">More...</a><br /></td></tr>
<tr class="separator:a13da64cee44f265dc913c3e63d51a8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6a32e321cbb4ff5be85bcd12bcdb6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a8f6a32e321cbb4ff5be85bcd12bcdb6f">sh_seq_algo_enable</a> (uint32 enables, <a class="el" href="../../dd/d51/structsh__sensor__cfg__t.html">sh_sensor_cfg_t</a> *p_sensor_cfg)</td></tr>
<tr class="memdesc:a8f6a32e321cbb4ff5be85bcd12bcdb6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on the algorithm enable bitfield received from customer app this function will enabled all the dependent algorithms and allocates or free context and result memory for each enabled or disabled algorithm.  <a href="#a8f6a32e321cbb4ff5be85bcd12bcdb6f">More...</a><br /></td></tr>
<tr class="separator:a8f6a32e321cbb4ff5be85bcd12bcdb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6983748a7e1b3d7a08da6de0fc902bc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a6983748a7e1b3d7a08da6de0fc902bc7">sh_seq_get_algo_info</a> (<a class="el" href="../../dd/d0f/structsh__vm__algo__info__t.html">sh_vm_algo_info_t</a> *p_algo_info)</td></tr>
<tr class="memdesc:a6983748a7e1b3d7a08da6de0fc902bc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the pointer to algorithm information memory which can then be used by customer app.  <a href="#a6983748a7e1b3d7a08da6de0fc902bc7">More...</a><br /></td></tr>
<tr class="separator:a6983748a7e1b3d7a08da6de0fc902bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add65cb22335c678cbf2cef1d22eeff73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d83/sport__health__driver_8h.html#a11652df4ce215c3ce7d1b0aa18729d5d">ppg_hr_feedback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#add65cb22335c678cbf2cef1d22eeff73">sh_seq_get_ppg_feedback</a> (void)</td></tr>
<tr class="memdesc:add65cb22335c678cbf2cef1d22eeff73"><td class="mdescLeft">&#160;</td><td class="mdescRight">To get the heart rate signal quality to send as feedback to PPG sensor.  <a href="#add65cb22335c678cbf2cef1d22eeff73">More...</a><br /></td></tr>
<tr class="separator:add65cb22335c678cbf2cef1d22eeff73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0dbb1f720f5b61f581550f10528866b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#ad0dbb1f720f5b61f581550f10528866b">sh_seq_ppg_duty_cycle_update</a> (<a class="el" href="../../d4/d4d/structimu__sensor__data__t.html">imu_sensor_data_t</a> *p_message)</td></tr>
<tr class="memdesc:ad0dbb1f720f5b61f581550f10528866b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the PPG duty cycle mode and return true if it changes.  <a href="#ad0dbb1f720f5b61f581550f10528866b">More...</a><br /></td></tr>
<tr class="separator:ad0dbb1f720f5b61f581550f10528866b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac84e1d2e713239b3674dc4c8ce2f5a23"><td class="memItemLeft" align="right" valign="top">static uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#ac84e1d2e713239b3674dc4c8ce2f5a23">PPG_SAMPLE_RATE_TABLE</a> [<a class="el" href="../../d3/d83/sport__health__driver_8h.html#ac40c05a1d50a67ae13dc4e5c0467b072aa66cdb7d871a6ffd8756057f7db2625a">PPG_NUM_SAMPLE_RATE</a>] = <a class="el" href="../../d3/d83/sport__health__driver_8h.html#aeaeb5de9b0edc89d98693ee02621a803">PPG_SPO2_SAMPLE_RATE</a></td></tr>
<tr class="memdesc:ac84e1d2e713239b3674dc4c8ce2f5a23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the sensor specific look up tables for supported output data rates and range.  <a href="#ac84e1d2e713239b3674dc4c8ce2f5a23">More...</a><br /></td></tr>
<tr class="separator:ac84e1d2e713239b3674dc4c8ce2f5a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990b19d070d38e01e76ccdade78a7421"><td class="memItemLeft" align="right" valign="top">static uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a990b19d070d38e01e76ccdade78a7421">ALGORITHM_DEPENDENCY_TABLE</a> [<a class="el" href="../../d0/d1d/sport__health__hub_8h.html#a7a73c191edf42690bf349b466985da00">NUM_AVAILABLE_ALGORITHMS</a>][<a class="el" href="../../d0/d1d/sport__health__hub_8h.html#a033b816cb081d6de479e4cb68fc1250c">NUM_DEPENDENT_PARAMS</a>] = <a class="el" href="../../d0/d1d/sport__health__hub_8h.html#a91d894dba41e88946ab40ea937d6604f">ALGORITHM_DEPENDENCY_LOOK_UP</a></td></tr>
<tr class="memdesc:a990b19d070d38e01e76ccdade78a7421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the algorithm dependency look up tables.  <a href="#a990b19d070d38e01e76ccdade78a7421">More...</a><br /></td></tr>
<tr class="separator:a990b19d070d38e01e76ccdade78a7421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066559849ae7ef7ae063c80bc2b41485"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d0f/structsh__vm__algo__info__t.html">sh_vm_algo_info_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html#a066559849ae7ef7ae063c80bc2b41485">seq_context</a></td></tr>
<tr class="memdesc:a066559849ae7ef7ae063c80bc2b41485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define static sructures for storing algorithm context and results.  <a href="#a066559849ae7ef7ae063c80bc2b41485">More...</a><br /></td></tr>
<tr class="separator:a066559849ae7ef7ae063c80bc2b41485"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This defines functions for accessing and sequencing the sport and health algorithms </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8f6a32e321cbb4ff5be85bcd12bcdb6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6a32e321cbb4ff5be85bcd12bcdb6f">&#9670;&nbsp;</a></span>sh_seq_algo_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sh_seq_algo_enable </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>enables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d51/structsh__sensor__cfg__t.html">sh_sensor_cfg_t</a> *&#160;</td>
          <td class="paramname"><em>p_sensor_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Based on the algorithm enable bitfield received from customer app this function will enabled all the dependent algorithms and allocates or free context and result memory for each enabled or disabled algorithm. </p>
<p>Based on the algorithm enable bitfield received from customer app this function will enabled all the dependent algorithms and allocates context memory to each enabled algorithm.</p>
<p>It also derives the dependent algorithm parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_message</td><td>Contains the algorithm enable bitfield </td></tr>
    <tr><td class="paramname">p_sensor_cfg</td><td>(out) Pointer to store the sensor configurations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns different sensor configuration like max and min rates for each sensor based on input from each algorithm </dd></dl>
<p>Calculate the difference between the current and next enables </p>

</div>
</div>
<a id="a14fae26a8fea8215c6e83786db4e4fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14fae26a8fea8215c6e83786db4e4fd6">&#9670;&nbsp;</a></span>sh_seq_enable_dependent_algorithms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32 sh_seq_enable_dependent_algorithms </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>algo_enables</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function derives all the dependent algorithms to be enabled based on algorithm enable bitfield sent by customer app. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_message</td><td>Contains the algorithm enable bitfield set by customer app </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the bitfield containing complete set algorithms and the dependency to be enabled </dd></dl>
<p>Derive the bitfield for dependent algorithms from algorithm enable bitfield configured by he customer app </p>

</div>
</div>
<a id="a6983748a7e1b3d7a08da6de0fc902bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6983748a7e1b3d7a08da6de0fc902bc7">&#9670;&nbsp;</a></span>sh_seq_get_algo_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sh_seq_get_algo_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d0f/structsh__vm__algo__info__t.html">sh_vm_algo_info_t</a> *&#160;</td>
          <td class="paramname"><em>p_algo_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the pointer to algorithm information memory which can then be used by customer app. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_algo_info</td><td>(out) Pointer to algorithm information memory owned by sequencer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add65cb22335c678cbf2cef1d22eeff73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add65cb22335c678cbf2cef1d22eeff73">&#9670;&nbsp;</a></span>sh_seq_get_ppg_feedback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d83/sport__health__driver_8h.html#a11652df4ce215c3ce7d1b0aa18729d5d">ppg_hr_feedback_t</a> sh_seq_get_ppg_feedback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To get the heart rate signal quality to send as feedback to PPG sensor. </p>
<dl class="section return"><dt>Returns</dt><dd>signal quality (Good/Ok/Bad/Very Bad) </dd></dl>

</div>
</div>
<a id="a30aa31f2990c88ded20db3c481e21c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30aa31f2990c88ded20db3c481e21c33">&#9670;&nbsp;</a></span>sh_seq_get_sensor_cfg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sh_seq_get_sensor_cfg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d51/structsh__sensor__cfg__t.html">sh_sensor_cfg_t</a> *&#160;</td>
          <td class="paramname"><em>p_sensor_cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Derives all the enabled algorithms specific parameters related to sensor mode, algorithm min and max time window and sample rate for each sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_message</td><td>(out) Pointer to the sensor config data structure </td></tr>
  </table>
  </dd>
</dl>
<p>Dependent parameter calculation for IMU sensors <br />
<br />
 Another for loop to avoid 'if' condition within for. Continue the dependent parameter calculation for PPG algorithms <br />
 Another for loop to avoid 'if' condition within for. Continue the dependent parameter calculation for PPG algorithms </p>

</div>
</div>
<a id="aa0b08df80406fcce09ea77a8661c2041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b08df80406fcce09ea77a8661c2041">&#9670;&nbsp;</a></span>sh_seq_initialise_algorithms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool sh_seq_initialise_algorithms </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>toggle_enables</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate and free context memory for each enabled or disabled algorithm. </p>
<p>Also, calls the initialisation function corresponding to each enabled algorithm</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toggle_enables</td><td>Bitfield containing information about the algorithms whose enable/disable states needs to be toggled. The algorithms corresponding to bits set to 1 will have their enable/disable state toggled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE/FALSE </dd></dl>

</div>
</div>
<a id="ad0dbb1f720f5b61f581550f10528866b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0dbb1f720f5b61f581550f10528866b">&#9670;&nbsp;</a></span>sh_seq_ppg_duty_cycle_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sh_seq_ppg_duty_cycle_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d4d/structimu__sensor__data__t.html">imu_sensor_data_t</a> *&#160;</td>
          <td class="paramname"><em>p_message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the PPG duty cycle mode and return true if it changes. </p>
<dl class="section return"><dt>Returns</dt><dd>mode was flipped by update (1=flipped, 0=same) </dd></dl>

</div>
</div>
<a id="a0638ae9f105696275c47d77bec87beb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0638ae9f105696275c47d77bec87beb9">&#9670;&nbsp;</a></span>sh_seq_process_imu_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sh_seq_process_imu_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d4d/structimu__sensor__data__t.html">imu_sensor_data_t</a> *&#160;</td>
          <td class="paramname"><em>p_message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the IMU data received from sensor by passing to different algorithms. </p>
<p>Generates results for all the enabled algorithm which can then be used by customer application for further processing</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_message</td><td>Pointer to received IMU sensor data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a13da64cee44f265dc913c3e63d51a8c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13da64cee44f265dc913c3e63d51a8c4">&#9670;&nbsp;</a></span>sh_seq_process_ppg_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sh_seq_process_ppg_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/deb/structppg__sensor__data__t.html">ppg_sensor_data_t</a> *&#160;</td>
          <td class="paramname"><em>p_message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the PPG data received from sensor by passing to different algorithms.Generates results for all the enabled algorithm which can then be used by customer application for further processing. </p>
<p>Process the PPG data received from sensor by passing to different algorithms.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_message</td><td>Pointer to received PPG sensor data </td></tr>
  </table>
  </dd>
</dl>
<p>Copy the red LED data</p>
<p>Copy the IR LED data</p>
<p>Call the PPG algorithms </p>

</div>
</div>
<a id="a400517619603ccdf5a9f4a4efe7a96f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a400517619603ccdf5a9f4a4efe7a96f1">&#9670;&nbsp;</a></span>sh_seq_sensor_cfg_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sh_seq_sensor_cfg_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d51/structsh__sensor__cfg__t.html">sh_sensor_cfg_t</a> *&#160;</td>
          <td class="paramname"><em>p_sensor_cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define static variables to mark whether we are in PPG power save mode, current state and time of entry. </p>
<p>This function initialises the sensor config data structure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_sensor_cfg</td><td>Pointer to the sensor config data structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af086bf87c3308736dff5adf0f050981a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af086bf87c3308736dff5adf0f050981a">&#9670;&nbsp;</a></span>sport_health_sequencer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sport_health_sequencer_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the context and results for each algorithm. </p>
<p>Initialise the sequencer. </p>
<p>Initialise the context for each algorithm </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a990b19d070d38e01e76ccdade78a7421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990b19d070d38e01e76ccdade78a7421">&#9670;&nbsp;</a></span>ALGORITHM_DEPENDENCY_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16 ALGORITHM_DEPENDENCY_TABLE[<a class="el" href="../../d0/d1d/sport__health__hub_8h.html#a7a73c191edf42690bf349b466985da00">NUM_AVAILABLE_ALGORITHMS</a>][<a class="el" href="../../d0/d1d/sport__health__hub_8h.html#a033b816cb081d6de479e4cb68fc1250c">NUM_DEPENDENT_PARAMS</a>] = <a class="el" href="../../d0/d1d/sport__health__hub_8h.html#a91d894dba41e88946ab40ea937d6604f">ALGORITHM_DEPENDENCY_LOOK_UP</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define the algorithm dependency look up tables. </p>

</div>
</div>
<a id="ac84e1d2e713239b3674dc4c8ce2f5a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84e1d2e713239b3674dc4c8ce2f5a23">&#9670;&nbsp;</a></span>PPG_SAMPLE_RATE_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16 PPG_SAMPLE_RATE_TABLE[<a class="el" href="../../d3/d83/sport__health__driver_8h.html#ac40c05a1d50a67ae13dc4e5c0467b072aa66cdb7d871a6ffd8756057f7db2625a">PPG_NUM_SAMPLE_RATE</a>] = <a class="el" href="../../d3/d83/sport__health__driver_8h.html#aeaeb5de9b0edc89d98693ee02621a803">PPG_SPO2_SAMPLE_RATE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define the sensor specific look up tables for supported output data rates and range. </p>

</div>
</div>
<a id="a066559849ae7ef7ae063c80bc2b41485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a066559849ae7ef7ae063c80bc2b41485">&#9670;&nbsp;</a></span>seq_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d0f/structsh__vm__algo__info__t.html">sh_vm_algo_info_t</a> seq_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define static sructures for storing algorithm context and results. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_4741f709c1c589b2cd57d229d2794b05.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_e4cbb888d2307cb388085dc4d7bd54ac.html">sport_health_hub</a></li><li class="navelem"><a class="el" href="../../db/dac/sport__health__sequencer_8c.html">sport_health_sequencer.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
