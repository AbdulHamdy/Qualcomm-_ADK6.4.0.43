<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBS: dm_security_authorise.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIBS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/da1/dm__security__authorise_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dm_security_authorise.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d67/connection_8h_source.html">connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d91/connection__private_8h_source.html">connection_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d8d/connection__tdl_8h_source.html">connection_tdl.h</a>&quot;</code><br />
<code>#include &lt;message.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;vm.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1a7c59be7ca1465d208f60260de03801"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#a1a7c59be7ca1465d208f60260de03801">ConnectionSmAuthoriseResponse</a> (const bdaddr *<a class="el" href="../../dc/db0/local__device__bdaddr_8c.html#adecb590e3c4caac9afa1bba8cda63897">bd_addr</a>, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#aeef5dbf17e24a900c32e0d5d56451466">dm_protocol_id</a> protocol_id, uint32 channel, bool incoming, bool authorised)</td></tr>
<tr class="memdesc:a1a7c59be7ca1465d208f60260de03801"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to respond to DM_SM_AUTHORISE_IND.  <a href="#a1a7c59be7ca1465d208f60260de03801">More...</a><br /></td></tr>
<tr class="separator:a1a7c59be7ca1465d208f60260de03801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc74c5f46538a472df215ac8c549d55e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#acc74c5f46538a472df215ac8c549d55e">ConnectionSmPinCodeResponse</a> (const typed_bdaddr *taddr, uint8 length, const uint8 *pin_code)</td></tr>
<tr class="memdesc:acc74c5f46538a472df215ac8c549d55e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called in response to CL_SM_PIN_CODE_IND.  <a href="#acc74c5f46538a472df215ac8c549d55e">More...</a><br /></td></tr>
<tr class="separator:acc74c5f46538a472df215ac8c549d55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa117323821e17b25fe4e9a547bd18029"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#aa117323821e17b25fe4e9a547bd18029">ConnectionSmIoCapabilityResponse</a> (const tp_bdaddr *tpaddr, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a3dc32895c01865b6302207fee9306dab">cl_sm_io_capability</a> io_capability, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a9b7d2f99a82ef6acdc977e047bb23f17">mitm_setting</a> mitm, bool bonding, uint16 key_distribution, uint16 oob_data, uint8 *oob_hash_c, uint8 *oob_rand_r)</td></tr>
<tr class="memdesc:aa117323821e17b25fe4e9a547bd18029"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called in response to <a class="el" href="../../de/d6c/structCL__SM__IO__CAPABILITY__REQ__IND__T.html" title="Message received when the remote device is requesting IO capability. ">CL_SM_IO_CAPABILITY_REQ_IND_T</a>.  <a href="#aa117323821e17b25fe4e9a547bd18029">More...</a><br /></td></tr>
<tr class="separator:aa117323821e17b25fe4e9a547bd18029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5aee5de6509ad540ebf5f9df94dae5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#aa5aee5de6509ad540ebf5f9df94dae5b">ConnectionSmUserConfirmationResponse</a> (const tp_bdaddr *tpaddr, bool confirm)</td></tr>
<tr class="memdesc:aa5aee5de6509ad540ebf5f9df94dae5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called in response to CL_SM_USER_CONFIRMATION_REQ_IND message, if the response_required flag is set to TRUE in the message.  <a href="#aa5aee5de6509ad540ebf5f9df94dae5b">More...</a><br /></td></tr>
<tr class="separator:aa5aee5de6509ad540ebf5f9df94dae5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8624c02b58c6661e8cf6b36d56bd7f75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#a8624c02b58c6661e8cf6b36d56bd7f75">ConnectionSmUserPasskeyResponse</a> (const tp_bdaddr *tpaddr, bool cancelled, uint32 passkey)</td></tr>
<tr class="memdesc:a8624c02b58c6661e8cf6b36d56bd7f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called in response to CL_SM_USER_PASSKEY_REQ_IND.  <a href="#a8624c02b58c6661e8cf6b36d56bd7f75">More...</a><br /></td></tr>
<tr class="separator:a8624c02b58c6661e8cf6b36d56bd7f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc5b1eb98cbee7de6e925cf3d6cbc72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#a8fc5b1eb98cbee7de6e925cf3d6cbc72">ConnectionSmDeleteAuthDeviceReq</a> (uint8 type, const bdaddr *<a class="el" href="../../dc/db0/local__device__bdaddr_8c.html#adecb590e3c4caac9afa1bba8cda63897">bd_addr</a>)</td></tr>
<tr class="memdesc:a8fc5b1eb98cbee7de6e925cf3d6cbc72"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to remove an authenticated device from the paired device list.  <a href="#a8fc5b1eb98cbee7de6e925cf3d6cbc72">More...</a><br /></td></tr>
<tr class="separator:a8fc5b1eb98cbee7de6e925cf3d6cbc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6786a907ba25525bd5bb205e588e1828"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html#a6786a907ba25525bd5bb205e588e1828">ConnectionSmDeleteAllAuthDevices</a> (uint16 ps_base)</td></tr>
<tr class="memdesc:a6786a907ba25525bd5bb205e588e1828"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to remove all authenticated devices from the paired device list and any associated attribute data, if used (see the <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a977971eb2d01ac6107aa9eca3fe36fbe" title="This function is called to write attribute data to the persistent store assuming an entry for the dev...">ConnectionSmPutAttributeReq()</a> function).  <a href="#a6786a907ba25525bd5bb205e588e1828">More...</a><br /></td></tr>
<tr class="separator:a6786a907ba25525bd5bb205e588e1828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section user"><dt>DESCRIPTION</dt><dd>This file contains the management entity responsible for device security </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1a7c59be7ca1465d208f60260de03801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7c59be7ca1465d208f60260de03801">&#9670;&nbsp;</a></span>ConnectionSmAuthoriseResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmAuthoriseResponse </td>
          <td>(</td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#aeef5dbf17e24a900c32e0d5d56451466">dm_protocol_id</a>&#160;</td>
          <td class="paramname"><em>protocol_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>incoming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>authorised</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to respond to DM_SM_AUTHORISE_IND. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the remote device.</td></tr>
    <tr><td class="paramname">protocol_id</td><td>The protocol identifier (protocol_l2cap or protocol_rfcomm).</td></tr>
    <tr><td class="paramname">channel</td><td>Channel for the protocol defined by the protocol_id that the access is being requested on (e.g. RFCOMM server channel number). <br />
 </td></tr>
    <tr><td class="paramname">incoming</td><td>TRUE for incoming connection request. FALSE for outgoing connection request</td></tr>
    <tr><td class="paramname">authorised</td><td>TRUE for granted. FALSE for refused.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a request from the Bluestack Security Manager for authorisation from the application when an untrusted or unknown device is attempting to access a service that requires authorisation in security mode 2. </p>

</div>
</div>
<a id="a6786a907ba25525bd5bb205e588e1828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6786a907ba25525bd5bb205e588e1828">&#9670;&nbsp;</a></span>ConnectionSmDeleteAllAuthDevices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmDeleteAllAuthDevices </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>ps_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to remove all authenticated devices from the paired device list and any associated attribute data, if used (see the <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a977971eb2d01ac6107aa9eca3fe36fbe" title="This function is called to write attribute data to the persistent store assuming an entry for the dev...">ConnectionSmPutAttributeReq()</a> function). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ps_base</td><td>User persistent data is now stored in the connection library's private PS Keys and so this parameter no longer has any effect. It is kept for backwards compatibility and will be deprecated in the future.</td></tr>
  </table>
  </dd>
</dl>
<p>On return, all devices will have been deleted from the paired device list. The user persistent attribute data associated with a device will also be deleted. </p>

</div>
</div>
<a id="a8fc5b1eb98cbee7de6e925cf3d6cbc72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc5b1eb98cbee7de6e925cf3d6cbc72">&#9670;&nbsp;</a></span>ConnectionSmDeleteAuthDeviceReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmDeleteAuthDeviceReq </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to remove an authenticated device from the paired device list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The address type - Public or Random. </td></tr>
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the remote device.</td></tr>
  </table>
  </dd>
</dl>
<p>On return, the device will have been deleted from the paired device list. </p>

</div>
</div>
<a id="aa117323821e17b25fe4e9a547bd18029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa117323821e17b25fe4e9a547bd18029">&#9670;&nbsp;</a></span>ConnectionSmIoCapabilityResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmIoCapabilityResponse </td>
          <td>(</td>
          <td class="paramtype">const tp_bdaddr *&#160;</td>
          <td class="paramname"><em>tpaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a3dc32895c01865b6302207fee9306dab">cl_sm_io_capability</a>&#160;</td>
          <td class="paramname"><em>io_capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a9b7d2f99a82ef6acdc977e047bb23f17">mitm_setting</a>&#160;</td>
          <td class="paramname"><em>mitm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bonding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>key_distribution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>oob_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>oob_hash_c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>oob_rand_r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called in response to <a class="el" href="../../de/d6c/structCL__SM__IO__CAPABILITY__REQ__IND__T.html" title="Message received when the remote device is requesting IO capability. ">CL_SM_IO_CAPABILITY_REQ_IND_T</a>. </p>
<p>If Out Of Band (OOB) from the remote device is to be set in this function, the P256 (secure) must always be the first part of that OOB data. If both P256 and P192 are used then the oob_rand_r and oob_hash_c parameters must contain both, except in the case of P192 encryption for BLE, when only HASH_C OOB data is present.</p>
<p>For BR/EDR connections (transport = TRANSPORT_BREDR_ACL).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">oob_data_setting  </th><th class="markdownTableHeadNone">oob_rand_r  </th><th class="markdownTableHeadNone">oob_hash_c ----------&mdash;   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">p192 (legacy)  </td><td class="markdownTableBodyNone">p192 r_rand (16-octets)  </td><td class="markdownTableBodyNone">p192 hash_c (16-octets)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">p256 (secure)  </td><td class="markdownTableBodyNone">p256 r_rand (16-octets)  </td><td class="markdownTableBodyNone">p256 hash_c (16-octets)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">p192 and p256  </td><td class="markdownTableBodyNone">p256 + p192 (32-octets)  </td><td class="markdownTableBodyNone">p256 + p192 (32-octets)   </td></tr>
</table>
<p>For BLE connections (transport = TRANSPORT_BLE_ACL) and p192 legacy pairing, only the HASH_C OOB data is used.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">oob_data_setting  </th><th class="markdownTableHeadNone">oob_rand_r  </th><th class="markdownTableHeadNone">oob_hash_c ----------&mdash;   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">p192 (legacy)  </td><td class="markdownTableBodyNone">no date (0-octets)  </td><td class="markdownTableBodyNone">p192 hash_c (16-octets)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">p256 (secure)  </td><td class="markdownTableBodyNone">p256 r_rand (16-octets)  </td><td class="markdownTableBodyNone">p256 hash_c (16-octets)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">p192 and p256  </td><td class="markdownTableBodyNone">p256 (16-octets)  </td><td class="markdownTableBodyNone">p256 + p192 (32-octets)   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>The Bluetooth address, type and transport of the remote device. </td></tr>
    <tr><td class="paramname">io_capability</td><td>The IO capability of the device - set this to send a negative response. </td></tr>
    <tr><td class="paramname">mitm</td><td>Indicates whether Man In The Middle protection should be used if the IO capability of both devices allow it (mitm_flexible), must be used (mitm_required), which may cause pairing to fail if the remote device cannot support the required IO, or MITM is not required (mitm_not_required). </td></tr>
    <tr><td class="paramname">bonding</td><td>If this is set TRUE the CL will consider the remote device bonded. If this is set FALSE the CL will consider the remote device non bonded, or will reject the IO capability request if dedicated bonding is in progress, whether initiated locally or remotely. Bonded devices will be added to the Trusted Device List and registered with the DM on successful completion of pairing. Non Bonded devices will be registered with the DM on successful completion of pairing. </td></tr>
    <tr><td class="paramname">key_distribution</td><td>Indicates the BLE link keys to be distributed for a connection of that type. ENC_CENTRAL is required for bonding and need only be set for the initiator. See the Bluetooth low energy link key distribution flags; <a class="el" href="../../d6/dc1/group__connection.html#ga4d7687341d12a3f05015b7dd79083bc1" title="Bluetooth low energy link key distribution flags. ">KEY_DIST_NONE</a>, <a class="el" href="../../d6/dc1/group__connection.html#gaa5586a15ca5b4d7262a7cb1437f22a63">KEY_DIST_RESPONDER_ENC_CENTRAL</a>, <a class="el" href="../../d6/dc1/group__connection.html#ga8f5e610f8c3fbb935b8b6cc5b51d1bc4">KEY_DIST_INITIATOR_ENC_CENTRAL</a> </td></tr>
    <tr><td class="paramname">oob_data</td><td>This is a bit field parameter. If set to <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#ad0296e09273a818ea372b91258a8ae9fafb54b81e6e349565d8eb953e2b2d2ec0">oob_data_none</a>, this equivalent to setting to field to 0. Either or both <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#ad0296e09273a818ea372b91258a8ae9fa219de69a67416ff416f51be001f15e68">oob_data_p192</a> (legacy) and <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#ad0296e09273a818ea372b91258a8ae9fa6fb366fd558bc620989dce983c572076">oob_data_p256</a> (secure) can be defined. </td></tr>
    <tr><td class="paramname">oob_hash_c</td><td>The remote device's out of band hash value (must be set NULL if unavailable). For BLE legacy pairing, only the oob_hash_c is required. The data pointed to by this parameter is copied. </td></tr>
    <tr><td class="paramname">oob_rand_r</td><td>The remote device's out of band random value (must be set NULL if unavailable). The data pointed to by this parameter is copied. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc74c5f46538a472df215ac8c549d55e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc74c5f46538a472df215ac8c549d55e">&#9670;&nbsp;</a></span>ConnectionSmPinCodeResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmPinCodeResponse </td>
          <td>(</td>
          <td class="paramtype">const typed_bdaddr *&#160;</td>
          <td class="paramname"><em>taddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>size_pin_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8 *&#160;</td>
          <td class="paramname"><em>pin_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called in response to CL_SM_PIN_CODE_IND. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taddr</td><td>The Bluetooth address of the remote device. </td></tr>
    <tr><td class="paramname">size_pin_code</td><td>The length of the pin code. </td></tr>
    <tr><td class="paramname">pin_code</td><td>The pin code to use.</td></tr>
  </table>
  </dd>
</dl>
<p>If the Security Manager does not have a link key code for the required device then it will request a pin code from the application task. If the pin code is not entered then the length will be set to 0. </p>

</div>
</div>
<a id="aa5aee5de6509ad540ebf5f9df94dae5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aee5de6509ad540ebf5f9df94dae5b">&#9670;&nbsp;</a></span>ConnectionSmUserConfirmationResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmUserConfirmationResponse </td>
          <td>(</td>
          <td class="paramtype">const tp_bdaddr *&#160;</td>
          <td class="paramname"><em>tpaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>confirm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called in response to CL_SM_USER_CONFIRMATION_REQ_IND message, if the response_required flag is set to TRUE in the message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>The Bluetooth address, type and transport of the remote device. </td></tr>
    <tr><td class="paramname">confirm</td><td>TRUE for confirmed, FALSE otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>This is a BT2.1 only feature </p>

</div>
</div>
<a id="a8624c02b58c6661e8cf6b36d56bd7f75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8624c02b58c6661e8cf6b36d56bd7f75">&#9670;&nbsp;</a></span>ConnectionSmUserPasskeyResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmUserPasskeyResponse </td>
          <td>(</td>
          <td class="paramtype">const tp_bdaddr *&#160;</td>
          <td class="paramname"><em>tpaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cancelled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>passkey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called in response to CL_SM_USER_PASSKEY_REQ_IND. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>The Bluetooth address of the remote device.</td></tr>
    <tr><td class="paramname">cancelled</td><td>TRUE if user cancelled entry, FALSE otherwise</td></tr>
    <tr><td class="paramname">passkey</td><td>The passkey the user entered</td></tr>
  </table>
  </dd>
</dl>
<p>This is a BT2.1 only feature </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_4741f709c1c589b2cd57d229d2794b05.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_4a14761ed8ae6e7c2224d633130ab79f.html">connection</a></li><li class="navelem"><a class="el" href="../../dc/da1/dm__security__authorise_8c.html">dm_security_authorise.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
