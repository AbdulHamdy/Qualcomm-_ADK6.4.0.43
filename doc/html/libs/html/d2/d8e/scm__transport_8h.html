<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBS: scm_transport.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIBS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/d8e/scm__transport_8h.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">scm_transport.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;rtime.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dc/dd0/scm_8h_source.html">scm.h</a>&gt;</code><br />
</div>
<p><a href="../../d2/d8e/scm__transport_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df1/struct____scm__segment.html">__scm_segment</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/da0/struct____scm__transport.html">__scm_transport</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCM transport structure.  <a href="../../d8/da0/struct____scm__transport.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a35047993d953d868422bbbd66ce67400"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a35047993d953d868422bbbd66ce67400">SCM_NUM_SEGMENTS</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="separator:a35047993d953d868422bbbd66ce67400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f37bf87b49553a53337ba35610db7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a24f37bf87b49553a53337ba35610db7b">SCM_SEGMENT_SIZE</a>&#160;&#160;&#160;(1 + 1 + <a class="el" href="../../dc/dd0/scm_8h.html#a27f782ec0b1ea0e457e18d892e106411">SCM_SEGMENT_DATA_SIZE</a>)</td></tr>
<tr class="memdesc:a24f37bf87b49553a53337ba35610db7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of SCM segment in octets, tag + header + data.  <a href="#a24f37bf87b49553a53337ba35610db7b">More...</a><br /></td></tr>
<tr class="separator:a24f37bf87b49553a53337ba35610db7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40415a344976e55316e4bbe98b76d83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#ab40415a344976e55316e4bbe98b76d83">SCMR_TRANSPORT_KICK_PERIOD_MS</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:ab40415a344976e55316e4bbe98b76d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">The receiver transport function <a class="el" href="../../d2/d8e/scm__transport_8h.html#a01972f0429b4f8a59dd216b7f32cd277" title="Check for any stale segments. ">ScmrTransportSegmentCheck()</a> must be called at this interval in order to free stale received segments.  <a href="#ab40415a344976e55316e4bbe98b76d83">More...</a><br /></td></tr>
<tr class="separator:ab40415a344976e55316e4bbe98b76d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86f1dfb7fec18a537729bd12dc68e80c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d10/group__SCM.html#ga86f1dfb7fec18a537729bd12dc68e80c">SCMB_STATE_WAITING</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:ga86f1dfb7fec18a537729bd12dc68e80c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segment is waiting for transmission.  <a href="../../d6/d10/group__SCM.html#ga86f1dfb7fec18a537729bd12dc68e80c">More...</a><br /></td></tr>
<tr class="separator:ga86f1dfb7fec18a537729bd12dc68e80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3809ddf07caec709682434b89f7396d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d10/group__SCM.html#ga3809ddf07caec709682434b89f7396d8">SCMB_STATE_IN_PROGRESS</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memdesc:ga3809ddf07caec709682434b89f7396d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segment is being transmitted.  <a href="../../d6/d10/group__SCM.html#ga3809ddf07caec709682434b89f7396d8">More...</a><br /></td></tr>
<tr class="separator:ga3809ddf07caec709682434b89f7396d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a70a19ba6cd70ace0263d4f67c4cf44fe"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d6/df1/struct____scm__segment.html">__scm_segment</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a70a19ba6cd70ace0263d4f67c4cf44fe">scm_segment_t</a></td></tr>
<tr class="separator:a70a19ba6cd70ace0263d4f67c4cf44fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f5da5b1ff3069075d8281f6cf6143e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d8/da0/struct____scm__transport.html">__scm_transport</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a></td></tr>
<tr class="memdesc:a50f5da5b1ff3069075d8281f6cf6143e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCM transport structure.  <a href="#a50f5da5b1ff3069075d8281f6cf6143e">More...</a><br /></td></tr>
<tr class="separator:a50f5da5b1ff3069075d8281f6cf6143e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a30da96a86d47fc331bd93dc8afb54422"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a30da96a86d47fc331bd93dc8afb54422">ScmbTransportInit</a> (<a class="el" href="../../dc/dd0/scm_8h.html#ac8b1bbfe8f2e7281b38da529675b1f18">SCMB</a> *client)</td></tr>
<tr class="memdesc:a30da96a86d47fc331bd93dc8afb54422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialise SCM transport for broadcasting.  <a href="#a30da96a86d47fc331bd93dc8afb54422">More...</a><br /></td></tr>
<tr class="separator:a30da96a86d47fc331bd93dc8afb54422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1af26f8db79a5abf9448dd6c0f2c37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a2e1af26f8db79a5abf9448dd6c0f2c37">ScmbTransportShutdown</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport)</td></tr>
<tr class="memdesc:a2e1af26f8db79a5abf9448dd6c0f2c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the SCM transport broadcaster.  <a href="#a2e1af26f8db79a5abf9448dd6c0f2c37">More...</a><br /></td></tr>
<tr class="separator:a2e1af26f8db79a5abf9448dd6c0f2c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87abef1147bea9d2faf9a39f638bbd43"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a87abef1147bea9d2faf9a39f638bbd43">ScmbTransportOfferSpace</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport, uint32 space)</td></tr>
<tr class="memdesc:a87abef1147bea9d2faf9a39f638bbd43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offer space in a packet for the SCM broadcaster transport to use.  <a href="#a87abef1147bea9d2faf9a39f638bbd43">More...</a><br /></td></tr>
<tr class="separator:a87abef1147bea9d2faf9a39f638bbd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66081025deeecd2d03494025d024abd3"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a66081025deeecd2d03494025d024abd3">ScmbTransportWriteSegments</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport, uint8 *dest, uint32 space)</td></tr>
<tr class="memdesc:a66081025deeecd2d03494025d024abd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write SCM segment(s) to destination.  <a href="#a66081025deeecd2d03494025d024abd3">More...</a><br /></td></tr>
<tr class="separator:a66081025deeecd2d03494025d024abd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ce1a4992431f1e533fcbce04929dbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a62ce1a4992431f1e533fcbce04929dbe">ScmbTransportSegmentUpdateLifetime</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport, uint16 num_tx)</td></tr>
<tr class="memdesc:a62ce1a4992431f1e533fcbce04929dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update broadcast lifetime of segments.  <a href="#a62ce1a4992431f1e533fcbce04929dbe">More...</a><br /></td></tr>
<tr class="separator:a62ce1a4992431f1e533fcbce04929dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9ceabf525d49d6b928873f1c90d6ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#afa9ceabf525d49d6b928873f1c90d6ef">ScmbTransportSegmentQueue</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport, uint8 <a class="el" href="../../db/d4d/ama__transport_8c.html#a864bbe5a4a2deeac24de30b68ccc47a0">header</a>, uint8 *payload, uint16 tx_count)</td></tr>
<tr class="memdesc:afa9ceabf525d49d6b928873f1c90d6ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue segment for broadcast.  <a href="#afa9ceabf525d49d6b928873f1c90d6ef">More...</a><br /></td></tr>
<tr class="separator:afa9ceabf525d49d6b928873f1c90d6ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe58a4c4deadb787a0e77216e0064621"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#abe58a4c4deadb787a0e77216e0064621">ScmrTransportInit</a> (<a class="el" href="../../dc/dd0/scm_8h.html#ac36c16ba32ac3cce1381b2743cb8558f">SCMR</a> *client)</td></tr>
<tr class="memdesc:abe58a4c4deadb787a0e77216e0064621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialise SCM transport for receiving.  <a href="#abe58a4c4deadb787a0e77216e0064621">More...</a><br /></td></tr>
<tr class="separator:abe58a4c4deadb787a0e77216e0064621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3fa856ee8a209d149bfd25759797e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#aea3fa856ee8a209d149bfd25759797e2">ScmrTransportShutdown</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport)</td></tr>
<tr class="memdesc:aea3fa856ee8a209d149bfd25759797e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown SCM transport for receiving.  <a href="#aea3fa856ee8a209d149bfd25759797e2">More...</a><br /></td></tr>
<tr class="separator:aea3fa856ee8a209d149bfd25759797e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01972f0429b4f8a59dd216b7f32cd277"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a01972f0429b4f8a59dd216b7f32cd277">ScmrTransportSegmentCheck</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport)</td></tr>
<tr class="memdesc:a01972f0429b4f8a59dd216b7f32cd277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for any stale segments.  <a href="#a01972f0429b4f8a59dd216b7f32cd277">More...</a><br /></td></tr>
<tr class="separator:a01972f0429b4f8a59dd216b7f32cd277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08dc60f2a00d8651a3cb40b9a0e5ad84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a08dc60f2a00d8651a3cb40b9a0e5ad84">ScmrTransportReadSegment</a> (<a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *transport, const uint8 *src)</td></tr>
<tr class="memdesc:a08dc60f2a00d8651a3cb40b9a0e5ad84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read SCM segment from the source.  <a href="#a08dc60f2a00d8651a3cb40b9a0e5ad84">More...</a><br /></td></tr>
<tr class="separator:a08dc60f2a00d8651a3cb40b9a0e5ad84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section user"><dt>DESCRIPTION</dt><dd>Transport for sub-channel messaging (SCM). </dd></dl>
<dl class="section user"><dt></dt><dd>Handles broadcasting and receiving SCM segements. Fragmentation and re-assembly is handled by VM SCM library. </dd></dl>
<dl class="section user"><dt></dt><dd>Functions with names starting Scmb are used to broadcast segments. Functions with names starting Scbr are used to receive segments. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a35047993d953d868422bbbd66ce67400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35047993d953d868422bbbd66ce67400">&#9670;&nbsp;</a></span>SCM_NUM_SEGMENTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCM_NUM_SEGMENTS&#160;&#160;&#160;(8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a24f37bf87b49553a53337ba35610db7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f37bf87b49553a53337ba35610db7b">&#9670;&nbsp;</a></span>SCM_SEGMENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCM_SEGMENT_SIZE&#160;&#160;&#160;(1 + 1 + <a class="el" href="../../dc/dd0/scm_8h.html#a27f782ec0b1ea0e457e18d892e106411">SCM_SEGMENT_DATA_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of SCM segment in octets, tag + header + data. </p>

</div>
</div>
<a id="ab40415a344976e55316e4bbe98b76d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40415a344976e55316e4bbe98b76d83">&#9670;&nbsp;</a></span>SCMR_TRANSPORT_KICK_PERIOD_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCMR_TRANSPORT_KICK_PERIOD_MS&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The receiver transport function <a class="el" href="../../d2/d8e/scm__transport_8h.html#a01972f0429b4f8a59dd216b7f32cd277" title="Check for any stale segments. ">ScmrTransportSegmentCheck()</a> must be called at this interval in order to free stale received segments. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a70a19ba6cd70ace0263d4f67c4cf44fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a19ba6cd70ace0263d4f67c4cf44fe">&#9670;&nbsp;</a></span>scm_segment_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d6/df1/struct____scm__segment.html">__scm_segment</a>  <a class="el" href="../../d2/d8e/scm__transport_8h.html#a70a19ba6cd70ace0263d4f67c4cf44fe">scm_segment_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a50f5da5b1ff3069075d8281f6cf6143e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f5da5b1ff3069075d8281f6cf6143e">&#9670;&nbsp;</a></span>scm_transport_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d8/da0/struct____scm__transport.html">__scm_transport</a>  <a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SCM transport structure. </p>
<p>Used for both broadcasting and receiving segments. To change role, the structure must be shutdown in present role and initialised in new role. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a30da96a86d47fc331bd93dc8afb54422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30da96a86d47fc331bd93dc8afb54422">&#9670;&nbsp;</a></span>ScmbTransportInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a>* ScmbTransportInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dd0/scm_8h.html#ac8b1bbfe8f2e7281b38da529675b1f18">SCMB</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialise SCM transport for broadcasting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the SCM client instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialised SCM transport structure. </dd></dl>

</div>
</div>
<a id="a87abef1147bea9d2faf9a39f638bbd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87abef1147bea9d2faf9a39f638bbd43">&#9670;&nbsp;</a></span>ScmbTransportOfferSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 ScmbTransportOfferSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offer space in a packet for the SCM broadcaster transport to use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure. </td></tr>
    <tr><td class="paramname">space</td><td>The amount of space on offer for the transport to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of space the SCM transport requires. </dd></dl>

</div>
</div>
<a id="afa9ceabf525d49d6b928873f1c90d6ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa9ceabf525d49d6b928873f1c90d6ef">&#9670;&nbsp;</a></span>ScmbTransportSegmentQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ScmbTransportSegmentQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>tx_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue segment for broadcast. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure. </td></tr>
    <tr><td class="paramname">header</td><td>SCM segment header. </td></tr>
    <tr><td class="paramname">payload</td><td>Address of SCM segment payload. </td></tr>
    <tr><td class="paramname">tx_count</td><td>Number of transmissions required for this segment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE is the segment was queued, FALSE if there was no space available and the segment was not queued. </dd></dl>

</div>
</div>
<a id="a62ce1a4992431f1e533fcbce04929dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ce1a4992431f1e533fcbce04929dbe">&#9670;&nbsp;</a></span>ScmbTransportSegmentUpdateLifetime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ScmbTransportSegmentUpdateLifetime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>num_tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update broadcast lifetime of segments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure. </td></tr>
    <tr><td class="paramname">num_tx</td><td>Number of times the segments(s) have been transmitted.</td></tr>
  </table>
  </dd>
</dl>
<p>Updates the broadcast lifetime of the segments previously written to a packet using <a class="el" href="../../d2/d8e/scm__transport_8h.html#a66081025deeecd2d03494025d024abd3" title="Write SCM segment(s) to destination. ">ScmbTransportWriteSegments</a>. Once the lifetime reaches zero the segment will be freed and the SCM client will be informed. </p>

</div>
</div>
<a id="a2e1af26f8db79a5abf9448dd6c0f2c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1af26f8db79a5abf9448dd6c0f2c37">&#9670;&nbsp;</a></span>ScmbTransportShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ScmbTransportShutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the SCM transport broadcaster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure.</td></tr>
  </table>
  </dd>
</dl>
<p>Releases any resources owned by SCM broadcaster transport. </p>

</div>
</div>
<a id="a66081025deeecd2d03494025d024abd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66081025deeecd2d03494025d024abd3">&#9670;&nbsp;</a></span>ScmbTransportWriteSegments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 ScmbTransportWriteSegments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write SCM segment(s) to destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure. </td></tr>
    <tr><td class="paramname">dest</td><td>Write address where SCM segment(s) will be written. </td></tr>
    <tr><td class="paramname">space</td><td>Number of octets available for SCM segments.</td></tr>
  </table>
  </dd>
</dl>
<p>Writes any segments waiting to be broadcast up to space number of octets. </p>

</div>
</div>
<a id="abe58a4c4deadb787a0e77216e0064621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe58a4c4deadb787a0e77216e0064621">&#9670;&nbsp;</a></span>ScmrTransportInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a>* ScmrTransportInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dd0/scm_8h.html#ac36c16ba32ac3cce1381b2743cb8558f">SCMR</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialise SCM transport for receiving. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the SCM client instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialised SCM transport structure. </dd></dl>

</div>
</div>
<a id="a08dc60f2a00d8651a3cb40b9a0e5ad84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08dc60f2a00d8651a3cb40b9a0e5ad84">&#9670;&nbsp;</a></span>ScmrTransportReadSegment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ScmrTransportReadSegment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8 *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read SCM segment from the source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure. </td></tr>
    <tr><td class="paramname">src</td><td>Pointer to source containing SCM segment</td></tr>
  </table>
  </dd>
</dl>
<p>Reads SCM segment from source and stores it in list of received segments if it hasn't been received before. Once list hits it's maximum size the oldest segment is removed and the SCM client is informed that the segment has expired. The SCM client is also informed of the new segment. </p>

</div>
</div>
<a id="a01972f0429b4f8a59dd216b7f32cd277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01972f0429b4f8a59dd216b7f32cd277">&#9670;&nbsp;</a></span>ScmrTransportSegmentCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ScmrTransportSegmentCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for any stale segments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure.</td></tr>
  </table>
  </dd>
</dl>
<p>Scans through list of received segments and free any that are considered stale (not received with last second). The SCM client is informed when a segment has expired. </p>

</div>
</div>
<a id="aea3fa856ee8a209d149bfd25759797e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3fa856ee8a209d149bfd25759797e2">&#9670;&nbsp;</a></span>ScmrTransportShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ScmrTransportShutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8e/scm__transport_8h.html#a50f5da5b1ff3069075d8281f6cf6143e">scm_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown SCM transport for receiving. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>Pointer to SCM transport structure.</td></tr>
  </table>
  </dd>
</dl>
<p>Releases any resources owned by SCM receiver. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_4741f709c1c589b2cd57d229d2794b05.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_5238614cfa080253b132f0424bf08757.html">scm_transport</a></li><li class="navelem"><a class="el" href="../../d2/d8e/scm__transport_8h.html">scm_transport.h</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
