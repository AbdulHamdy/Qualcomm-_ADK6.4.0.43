<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBS: ConnectionInquire.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIBS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('da/dc5/ConnectionInquire_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ConnectionInquire.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d67/connection_8h_source.html">connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d91/connection__private_8h_source.html">connection_private.h</a>&quot;</code><br />
<code>#include &lt;vm.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa7f05e49ab19044b3aa8eebed5a3b421"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/ConnectionInquire_8c.html#aa7f05e49ab19044b3aa8eebed5a3b421">ConnectionInquire</a> (Task theAppTask, uint32 inquiry_lap, uint8 max_responses, uint8 timeout, uint32 class_of_device)</td></tr>
<tr class="memdesc:aa7f05e49ab19044b3aa8eebed5a3b421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an inquiry to discover other Bluetooth devices.  <a href="#aa7f05e49ab19044b3aa8eebed5a3b421">More...</a><br /></td></tr>
<tr class="separator:aa7f05e49ab19044b3aa8eebed5a3b421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba30b1dab7f372f1b65cdf5f87c624ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/ConnectionInquire_8c.html#aba30b1dab7f372f1b65cdf5f87c624ee">ConnectionInquirePeriodic</a> (Task theAppTask, uint16 min_period, uint16 max_period, uint32 inquiry_lap, uint8 max_responses, uint8 timeout, uint32 class_of_device)</td></tr>
<tr class="memdesc:aba30b1dab7f372f1b65cdf5f87c624ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an periodic inquiry to discover other Bluetooth devices.  <a href="#aba30b1dab7f372f1b65cdf5f87c624ee">More...</a><br /></td></tr>
<tr class="separator:aba30b1dab7f372f1b65cdf5f87c624ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section user"><dt>DESCRIPTION</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>An inquiry can only be initiated by one task at a time. If an inquiry request is received while the connection lib is already performing an inquiry a CL_DM_INQUIRE_RESULT message is returned with status set to busy. </dd></dl>
<dl class="section user"><dt></dt><dd>Setting the Class of Device field to zero will turn off class of device filtering of inquiry results and all devices found will be returned. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa7f05e49ab19044b3aa8eebed5a3b421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7f05e49ab19044b3aa8eebed5a3b421">&#9670;&nbsp;</a></span>ConnectionInquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionInquire </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>inquiry_lap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>max_responses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>class_of_device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an inquiry to discover other Bluetooth devices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. This is the task that the inquiry results will be sent to. In most cases this will be the task initiating the inquiry.</td></tr>
    <tr><td class="paramname">inquiry_lap</td><td>The LAP from which the inquiry access code should be derived. See the "Bluetooth Assigned Numbers" document in the Bluetooth specification. The General/ Unlimited Inquiry Access Code (GIAC) is specified in this document as 0x9e8b33 and this is the code most applications will use when performing an inquiry.</td></tr>
    <tr><td class="paramname">max_responses</td><td>Maximum number of responses. Once this many devices have been discovered the inquiry process will terminate and the client task will be notified. Set to zero to indicate unlimited number of devices. In this case the inquiry will terminate when the timeout expires. It is not recommended that this field is set to zero or a value higher than ten as this may result in firmware stability issues.</td></tr>
    <tr><td class="paramname">timeout</td><td>Maximum amount of time for the inquiry before it is terminated. The timeout is specified as defined in the HCI section of the Bluetooth specification. The time the inquiry is performed for is in fact timeout * 1.28 seconds. The allowed values of timeout are in the range 0x01 to 0x30. This corresponds to an inquiry timeout range of 1.28 to 61.44 seconds.</td></tr>
    <tr><td class="paramname">class_of_device</td><td>Class of device filter. Set to zero to be notified of all devices within range regardless of their class of device. If the class_of_device is set only devices with those bits set in their class of device will be reported to the client task. This filter can be made as specific or as general as necessary. For example, to discover all devices with major device class set to audio/ video set the class of device field to 0x400. This will result in devices with, for example, class of device set to 0x200404 and 0x200408 to be reported. If, however, we want to limit our device search even further and only discover devices with their class of device set to headset, for example, the class_of_device field should be set to 0x200404. Please note that the filter reports devices that have a minimum of the specified bits set, however it is possible that a device also has other bits set in its class of device field. In that case that device will be reported back to the client task.</td></tr>
  </table>
  </dd>
</dl>
<p>This function initiates a Bluetooth inquiry to locate Bluetooth devices currently in range and discoverable. It allows a class of device filter to be specified so only devices with a specific class of device are reported back to the client task.</p>
<p>Inquiry results are sent to the task specified in the theAppTask parameter by sending a CL_DM_INQUIRE_RESULT message with its status set to indicate that the message contains a valid result. Once the inquiry process completes (either because the maximum number of devices has been reached or because the inquiry timeout has expired) a CL_DM_INQUIRE_RESULT message with status set to ready will be sent to the client task. </p>

</div>
</div>
<a id="aba30b1dab7f372f1b65cdf5f87c624ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba30b1dab7f372f1b65cdf5f87c624ee">&#9670;&nbsp;</a></span>ConnectionInquirePeriodic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionInquirePeriodic </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>min_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>max_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>inquiry_lap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>max_responses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>class_of_device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an periodic inquiry to discover other Bluetooth devices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. This is the task that the inquiry results will be sent to. In most cases this will be the task initiating the inquiry.</td></tr>
    <tr><td class="paramname">min_period</td><td>Maximum amount of time specified between consecutive inquiries. The timeout is specified as defined in the HCI section of the Bluetooth specification. The time the inquiry is performed for is in fact timeout * 1.28 seconds. The allowed values of timeout are in the range 0x02 to 0xFFFE. This corresponds to an inquiry timeout range of 2.56 to 83883.52 seconds.</td></tr>
    <tr><td class="paramname">max_period</td><td>Maximum amount of time specified between consecutive inquiries. The timeout is specified as defined in the HCI section of the Bluetooth specification. The maximum period the inquiry is performed for is in fact timeout * 1.28 seconds. The allowed values of timeout are in the range 0x03 to 0xFFFF. This corresponds to an inquiry timeout range of 3.84 to 83884.8 seconds.</td></tr>
    <tr><td class="paramname">inquiry_lap</td><td>The LAP from which the inquiry access code should be derived. See the "Bluetooth Assigned Numbers" document in the Bluetooth specification. The General/ Unlimited Inquiry Access Code (GIAC) is specified in this document as 0x9e8b33 and this is the code most applications will use when performing an inquiry.</td></tr>
    <tr><td class="paramname">max_responses</td><td>Maximum number of responses. Once this many devices have been discovered the inquiry process will terminate and the client task will be notified. Set to zero to indicate unlimited number of devices. In this case the inquiry will terminate when the timeout expires. It is not recommended that this field is set to zero or a value higher than ten as this may result in firmware stability issues.</td></tr>
    <tr><td class="paramname">timeout</td><td>Maximum amount of time for the inquiry before it is terminated. The timeout is specified as defined in the HCI section of the Bluetooth specification. The time the inquiry is performed for is in fact timeout * 1.28 seconds. The allowed values of timeout are in the range 0x01 to 0x30. This corresponds to an inquiry timeout range of 1.28 to 61.44 seconds.</td></tr>
    <tr><td class="paramname">class_of_device</td><td>Class of device filter. Set to zero to be notified of all devices within range regardless of their class of device. If the class_of_device is set only devices with those bits set in their class of device will be reported to the client task. This filter can be made as specific or as general as necessary. For example, to discover all devices with major device class set to audio/ video set the class of device field to 0x400. This will result in devices with, for example, class of device set to 0x200404 and 0x200408 to be reported. If, however, we want to limit our device search even further and only discover devices with their class of device set to headset, for example, the class_of_device field should be set to 0x200404. Please note that the filter reports devices that have a minimum of the specified bits set, however it is possible that a device also has other bits set in its class of device field. In that case that device will be reported back to the client task.</td></tr>
  </table>
  </dd>
</dl>
<p>This function initiates a Bluetooth inquiry to locate Bluetooth devices currently in range and discoverable. It allows a class of device filter to be specified so only devices with a specific class of device are reported back to the client task.</p>
<p>Inquiry results are sent to the task specified in the theAppTask parameter by sending a CL_DM_INQUIRE_RESULT message with its status set to indicate that the message contains a valid result. Once the inquiry process completes (either because the maximum number of devices has been reached or because the inquiry timeout has expired) a CL_DM_INQUIRE_RESULT message with status set to ready will be sent to the client task. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_4741f709c1c589b2cd57d229d2794b05.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_4a14761ed8ae6e7c2224d633130ab79f.html">connection</a></li><li class="navelem"><a class="el" href="../../da/dc5/ConnectionInquire_8c.html">ConnectionInquire.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
