<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBS: dm_security_mode.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIBS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d32/dm__security__mode_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dm_security_mode.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d67/connection_8h_source.html">connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d91/connection__private_8h_source.html">connection_private.h</a>&quot;</code><br />
<code>#include &lt;message.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;vm.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2ae609aa2ae0fd7b27b1c941748b886b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d32/dm__security__mode_8c.html#a2ae609aa2ae0fd7b27b1c941748b886b">ConnectionSmSetSecurityMode</a> (Task theAppTask, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a3cca46e025479ce233d997c481b037d8">dm_security_mode</a> sec_mode, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#ae2f659bc6982e24547e91b8d11485fb0">encryption_mode</a> enc_mode)</td></tr>
<tr class="memdesc:a2ae609aa2ae0fd7b27b1c941748b886b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to request to place the Bluestack Security Manager into the specified security mode.  <a href="#a2ae609aa2ae0fd7b27b1c941748b886b">More...</a><br /></td></tr>
<tr class="separator:a2ae609aa2ae0fd7b27b1c941748b886b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391ede6b25fd8631197af9a09370f152"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d32/dm__security__mode_8c.html#a391ede6b25fd8631197af9a09370f152">ConnectionSmSecModeConfig</a> (Task theAppTask, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#aba8f96a8d87de19e50e53f8189b6b084">cl_sm_wae</a> write_auth_enable, bool debug_keys, bool legacy_auto_pair_key_missing)</td></tr>
<tr class="memdesc:a391ede6b25fd8631197af9a09370f152"><td class="mdescLeft">&#160;</td><td class="mdescRight">This configures the DM's security mode settings.  <a href="#a391ede6b25fd8631197af9a09370f152">More...</a><br /></td></tr>
<tr class="separator:a391ede6b25fd8631197af9a09370f152"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section user"><dt>DESCRIPTION</dt><dd>This file contains the management entity responsible for device security </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a391ede6b25fd8631197af9a09370f152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391ede6b25fd8631197af9a09370f152">&#9670;&nbsp;</a></span>ConnectionSmSecModeConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmSecModeConfig </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#aba8f96a8d87de19e50e53f8189b6b084">cl_sm_wae</a>&#160;</td>
          <td class="paramname"><em>write_auth_enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug_keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>legacy_auto_pair_missing_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This configures the DM's security mode settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. </td></tr>
    <tr><td class="paramname">write_auth_enable</td><td>Determines under which conditions we tear down an existing ACL to pair with mode 3 legacy devices during link setup </td></tr>
    <tr><td class="paramname">debug_keys</td><td>Set TRUE to enable use of debug keys </td></tr>
    <tr><td class="paramname">legacy_auto_pair_missing_key</td><td>Enables pairing on authentication failure with key missing status for legacy devices. This option should only be used to maintain interoperability where it is not possible to prompt the user to delete the link key manually and retry.it is recommended to keep this Value TRUE to maintain interoperability with legacy devices.</td></tr>
  </table>
  </dd>
</dl>
<p>A CL_SM_SEC_MODE_CONFIG_CFM message will be sent as a result of this function call. </p>

</div>
</div>
<a id="a2ae609aa2ae0fd7b27b1c941748b886b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae609aa2ae0fd7b27b1c941748b886b">&#9670;&nbsp;</a></span>ConnectionSmSetSecurityMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionSmSetSecurityMode </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#a3cca46e025479ce233d997c481b037d8">dm_security_mode</a>&#160;</td>
          <td class="paramname"><em>sec_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#ae2f659bc6982e24547e91b8d11485fb0">encryption_mode</a>&#160;</td>
          <td class="paramname"><em>enc_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to request to place the Bluestack Security Manager into the specified security mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. </td></tr>
    <tr><td class="paramname">sec_mode</td><td>The security mode to use.<ul>
<li>sec_mode0_off</li>
<li>sec_mode1_non_secure</li>
<li>sec_mode2_service</li>
<li>sec_mode3_link</li>
<li>sec_mode4_ssp </li>
</ul>
</td></tr>
    <tr><td class="paramname">enc_mode</td><td>The encryption mode to use.<ul>
<li>hci_enc_mode_off</li>
<li>hci_enc_mode_pt_to_pt</li>
<li>hci_enc_mode_pt_to_pt_and_bcast A CL_SM_SECURITY_LEVEL_CFM message will be sent as a result of this function call.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>It is recommended that the security mode be changed only when the system is not in the process of creating or accepting connections. This recommendation will be enforced by the Security Manager. Once a device has entered sec_mode4_ssp the Security Manager will not allow it to change to a legacy security mode. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_4741f709c1c589b2cd57d229d2794b05.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_4a14761ed8ae6e7c2224d633130ab79f.html">connection</a></li><li class="navelem"><a class="el" href="../../d7/d32/dm__security__mode_8c.html">dm_security_mode.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
