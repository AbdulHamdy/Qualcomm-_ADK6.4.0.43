<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBS: l2cap.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIBS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d16/l2cap_8c.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">l2cap.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d67/connection_8h_source.html">connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d91/connection__private_8h_source.html">connection_private.h</a>&quot;</code><br />
<code>#include &lt;<a class="elRef" doxygen="C:/ws/j_adk64r_RC_build_aurad_ext/devkit/build/doc_doxygen_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004/progfiles/doc/html/os/os.tag:../../../../os/html/" href="../../../../os/html/d6/dad/l2cap__prim_8h.html">app/bluestack/l2cap_prim.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab4ca2f24acf049e7e298020364c1ce78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#ab4ca2f24acf049e7e298020364c1ce78">ConnectionL2capRegisterRequest</a> (Task <a class="el" href="../../d7/da1/power__smb1352__task_8c.html#a708739823515155d0d4c049161b68cd1">clientTask</a>, uint16 psm, uint16 flags)</td></tr>
<tr class="memdesc:ab4ca2f24acf049e7e298020364c1ce78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an L2CAP PSM with the Connection library.  <a href="#ab4ca2f24acf049e7e298020364c1ce78">More...</a><br /></td></tr>
<tr class="separator:ab4ca2f24acf049e7e298020364c1ce78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270a8be00cdf460337d81d228e81d9d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a270a8be00cdf460337d81d228e81d9d3">ConnectionL2capConnectRequest</a> (Task appTask, const bdaddr *addr, uint16 psm_local, uint16 psm_remote, uint16 conftab_length, const uint16 *conftab)</td></tr>
<tr class="memdesc:a270a8be00cdf460337d81d228e81d9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate the creation of an L2CAP connection to a particular device. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0.  <a href="#a270a8be00cdf460337d81d228e81d9d3">More...</a><br /></td></tr>
<tr class="separator:a270a8be00cdf460337d81d228e81d9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998c0efd04ca8a51cf52f629a6a369a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a998c0efd04ca8a51cf52f629a6a369a5">ConnectionL2capTpConnectRequest</a> (Task appTask, const tp_bdaddr *taddr, uint16 psm_local, uint16 psm_remote, uint16 conftab_length, uint16 *conftab)</td></tr>
<tr class="memdesc:a998c0efd04ca8a51cf52f629a6a369a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate the creation of an L2CAP LE COC connection to a particular device. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0.  <a href="#a998c0efd04ca8a51cf52f629a6a369a5">More...</a><br /></td></tr>
<tr class="separator:a998c0efd04ca8a51cf52f629a6a369a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f9473e3c5e5ef11a1184f4ed56581f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#ae0f9473e3c5e5ef11a1184f4ed56581f">ConnectionL2capAddCreditRequest</a> (Task appTask, uint16 connection_id, uint16 credits)</td></tr>
<tr class="memdesc:ae0f9473e3c5e5ef11a1184f4ed56581f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request L2CAP to extend additional credits to the peer.  <a href="#ae0f9473e3c5e5ef11a1184f4ed56581f">More...</a><br /></td></tr>
<tr class="separator:ae0f9473e3c5e5ef11a1184f4ed56581f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8aa7f645be533ae3851b2f9e4599582"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#ae8aa7f645be533ae3851b2f9e4599582">ConnectionL2capConnectResponse</a> (Task appTask, bool response, uint16 psm, uint16 connection_id, uint8 identifier, uint16 conftab_length, const uint16 *conftab)</td></tr>
<tr class="memdesc:ae8aa7f645be533ae3851b2f9e4599582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a notification of an incoming L2CAP connection. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0.  <a href="#ae8aa7f645be533ae3851b2f9e4599582">More...</a><br /></td></tr>
<tr class="separator:ae8aa7f645be533ae3851b2f9e4599582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a5a30e81dc258c42706b601d89273d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a95a5a30e81dc258c42706b601d89273d">ConnectionL2capTpConnectResponse</a> (Task appTask, bool response, uint16 psm, uint16 connection_id, uint8 identifier, uint16 conftab_length, uint16 *conftab)</td></tr>
<tr class="memdesc:a95a5a30e81dc258c42706b601d89273d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a notification of an incoming L2CAP LE COC connection. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0.  <a href="#a95a5a30e81dc258c42706b601d89273d">More...</a><br /></td></tr>
<tr class="separator:a95a5a30e81dc258c42706b601d89273d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd5e4209091fd604b06d9adcb0c4c3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a9fd5e4209091fd604b06d9adcb0c4c3d">ConnectionL2capMapConnectionlessRequest</a> (Task theAppTask, const bdaddr *addr, uint16 psm_local, uint16 psm_remote, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#af929428be437b20a65ef0ad9c81ee9c3">l2cap_connectionless_data_type</a> type)</td></tr>
<tr class="memdesc:a9fd5e4209091fd604b06d9adcb0c4c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to map L2CAP connectionless data to a remote device.  <a href="#a9fd5e4209091fd604b06d9adcb0c4c3d">More...</a><br /></td></tr>
<tr class="separator:a9fd5e4209091fd604b06d9adcb0c4c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbf346a75fe5aa0cd20e3a43baf0a3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a2dbf346a75fe5aa0cd20e3a43baf0a3d">ConnectionL2capMapConnectionlessResponse</a> (Task theAppTask, Source source, <a class="el" href="../../d3/dd2/connection__no__ble_8h.html#af929428be437b20a65ef0ad9c81ee9c3">l2cap_connectionless_data_type</a> type)</td></tr>
<tr class="memdesc:a2dbf346a75fe5aa0cd20e3a43baf0a3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Respond to the message CL_L2CAP_MAP_CONNECTIONLESS_IND.  <a href="#a2dbf346a75fe5aa0cd20e3a43baf0a3d">More...</a><br /></td></tr>
<tr class="separator:a2dbf346a75fe5aa0cd20e3a43baf0a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84743867776dbaa52c100d5a07441f12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a84743867776dbaa52c100d5a07441f12">ConnectionL2capUnmapConnectionlessRequest</a> (Sink sink)</td></tr>
<tr class="memdesc:a84743867776dbaa52c100d5a07441f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmap connectionless data from a remote device.  <a href="#a84743867776dbaa52c100d5a07441f12">More...</a><br /></td></tr>
<tr class="separator:a84743867776dbaa52c100d5a07441f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765e8228cfd95c6f8646234991ce8c1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#a765e8228cfd95c6f8646234991ce8c1c">ConnectionL2capDisconnectRequest</a> (Task appTask, Sink sink)</td></tr>
<tr class="memdesc:a765e8228cfd95c6f8646234991ce8c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to disconnect an L2CAP connection.  <a href="#a765e8228cfd95c6f8646234991ce8c1c">More...</a><br /></td></tr>
<tr class="separator:a765e8228cfd95c6f8646234991ce8c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1eb81e0772d339a231411d8e862e6c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d16/l2cap_8c.html#af1eb81e0772d339a231411d8e862e6c5">ConnectionL2capDisconnectResponse</a> (uint8 identifier, Sink sink)</td></tr>
<tr class="memdesc:af1eb81e0772d339a231411d8e862e6c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a CL_L2CAP_DISCONNECT_IND message.  <a href="#af1eb81e0772d339a231411d8e862e6c5">More...</a><br /></td></tr>
<tr class="separator:af1eb81e0772d339a231411d8e862e6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section user"><dt>DESCRIPTION</dt><dd>File containing the l2cap API function implementations. </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae0f9473e3c5e5ef11a1184f4ed56581f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f9473e3c5e5ef11a1184f4ed56581f">&#9670;&nbsp;</a></span>ConnectionL2capAddCreditRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capAddCreditRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>connection_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>credits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request L2CAP to extend additional credits to the peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task initiating the L2CAP connection. The response indicating the outcome of the connect request will be returned to this task.</td></tr>
    <tr><td class="paramname">context</td><td>Opaque context number returned in response.</td></tr>
    <tr><td class="paramname">connection_id</td><td>The conneciton ID of the L2CAP link.</td></tr>
    <tr><td class="paramname">credits</td><td>Extended these credits to remote device.</td></tr>
  </table>
  </dd>
</dl>
<p>The client task will receive a CL_L2CAP_ADD_CREDIT_CFM message from the Connection library indicating the outcome of this request. </p>

</div>
</div>
<a id="a270a8be00cdf460337d81d228e81d9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270a8be00cdf460337d81d228e81d9d3">&#9670;&nbsp;</a></span>ConnectionL2capConnectRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capConnectRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm_remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>conftab_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16 *&#160;</td>
          <td class="paramname"><em>conftab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate the creation of an L2CAP connection to a particular device. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task initiating the L2CAP connection. The response indicating the outcome of the connect request will be returned to this task.</td></tr>
    <tr><td class="paramname">bd_addr</td><td>The address of the remote device being connected to.</td></tr>
    <tr><td class="paramname">psm_local</td><td>The local PSM being connected. This PSM must have been registered with the Connection library before a connection can be initiated.</td></tr>
    <tr><td class="paramname">psm_remote</td><td>The remote PSM being connected to.</td></tr>
    <tr><td class="paramname">conftab_length</td><td>The length of the configuration table data array. i.e. The number of uint16 entries in the array.</td></tr>
    <tr><td class="paramname">conftab</td><td>Pointer to a configuration table of uint16 values. These are key value pairs defining configuration options to be passed to Bluestack. This pointer will be passed to Bluestack at which time the VM memory slot for it will be freed.</td></tr>
  </table>
  </dd>
</dl>
<p>The client task will receive a CL_L2CAP_CONNECT_CFM message from the Connection library indicating the outcome of this request. </p>

</div>
</div>
<a id="ae8aa7f645be533ae3851b2f9e4599582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8aa7f645be533ae3851b2f9e4599582">&#9670;&nbsp;</a></span>ConnectionL2capConnectResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capConnectResponse </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>connection_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>conftab_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16 *&#160;</td>
          <td class="paramname"><em>conftab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response to a notification of an incoming L2CAP connection. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task to which subsequent L2CAP CL messages will be sent once the connection is established.</td></tr>
    <tr><td class="paramname">response</td><td>Set to TRUE to accept the incoming connection or FALSE to reject it. If rejecting the connection the PSM and connection_id fields still have to be set but the configuration parameter can be set to null.</td></tr>
    <tr><td class="paramname">psm</td><td>The PSM on the local device that the remote end is trying to connect to. The psm field from the CL_L2CAP_CONNECT_IND message can be copied directly.</td></tr>
    <tr><td class="paramname">connection_id</td><td>The connection identifier. This is the connection_id field from the CL_L2CAP_CONNECT_IND message that is being responded to. This field should be copied from the CL_L2CAP_CONNECT_IND message directly. It is necessary so that if two connections to the same PSM are being established the Connection library knows which particular connection is being responded to.</td></tr>
    <tr><td class="paramname">identifier</td><td>The signal identifier. This is the identifier field from the CL_L2CAP_CONNECT_IND message that must be responded to. This field should be copied from the CL_L2CAP_CONNECT_IND message directly.</td></tr>
    <tr><td class="paramname">conftab_length</td><td>The length of the configuration table data array. i.e. The number of uint16 entries in the array.</td></tr>
    <tr><td class="paramname">conftab</td><td>Pointer to a configuration table of uint16 values. These are key value pairs defining configuration options to be passed to Bluestack. This pointer will be passed to Bluestack at which time the VM memory slot for it will be freed.</td></tr>
  </table>
  </dd>
</dl>
<p>On an indication of an incoming L2CAP connection the Connection library sends the client task that registered the PSM being connected to a CL_L2CAP_CONNECT_IND message. In response to this message the client task must call this function to indicate whether it wishes to proceed with this connection or not.</p>
<p>The client task will receive a CL_L2CAP_CONNECT_CFM message from the Connection library indicating the outcome of the connection attempt. </p>

</div>
</div>
<a id="a765e8228cfd95c6f8646234991ce8c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765e8228cfd95c6f8646234991ce8c1c">&#9670;&nbsp;</a></span>ConnectionL2capDisconnectRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capDisconnectRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sink&#160;</td>
          <td class="paramname"><em>sink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request to disconnect an L2CAP connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. This should be the task that owns the L2CAP connection. Only a task that owns a particular connection can issue a disconnect request for it.</td></tr>
    <tr><td class="paramname">sink</td><td>The sink identifying the L2CAP connection.</td></tr>
  </table>
  </dd>
</dl>
<p>The client task will receive a CL_L2CAP_DISCONNECT_CFM message from the Connection library indicating the outcome of this request. </p>

</div>
</div>
<a id="af1eb81e0772d339a231411d8e862e6c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1eb81e0772d339a231411d8e862e6c5">&#9670;&nbsp;</a></span>ConnectionL2capDisconnectResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capDisconnectResponse </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sink&#160;</td>
          <td class="paramname"><em>sink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response to a CL_L2CAP_DISCONNECT_IND message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>L2CAP identifier for the link, passed up in the CL_L2CAP_DISCONNECT_IND message.</td></tr>
    <tr><td class="paramname">sink</td><td>The sink identifying the L2CAP connection.</td></tr>
  </table>
  </dd>
</dl>
<p>Once this message has been sent, the sink is no longer valid. </p>

</div>
</div>
<a id="a9fd5e4209091fd604b06d9adcb0c4c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fd5e4209091fd604b06d9adcb0c4c3d">&#9670;&nbsp;</a></span>ConnectionL2capMapConnectionlessRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capMapConnectionlessRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm_remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#af929428be437b20a65ef0ad9c81ee9c3">l2cap_connectionless_data_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request to map L2CAP connectionless data to a remote device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. Only this task can unmap the L2CAP connectionless data from he remote device.</td></tr>
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the remote device that the L2CAP connectionless data is to be mapped to.</td></tr>
    <tr><td class="paramname">psm_local</td><td>The local PSM being connected. This PSM must have been registered with the Connection library before a connection can be initiated.</td></tr>
    <tr><td class="paramname">psm_remote</td><td>The remote PSM being connected to.</td></tr>
    <tr><td class="paramname">type</td><td>The type of connectionless data to be mapped.</td></tr>
  </table>
  </dd>
</dl>
<p>The client task will receive a CL_L2CAP_MAP_CONNECTIONLESS_CFM message from the Connection library indicating the outcome of this request and containing a Sink for the connectionless data to be sent on. </p>

</div>
</div>
<a id="a2dbf346a75fe5aa0cd20e3a43baf0a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dbf346a75fe5aa0cd20e3a43baf0a3d">&#9670;&nbsp;</a></span>ConnectionL2capMapConnectionlessResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capMapConnectionlessResponse </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Source&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dd2/connection__no__ble_8h.html#af929428be437b20a65ef0ad9c81ee9c3">l2cap_connectionless_data_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Respond to the message CL_L2CAP_MAP_CONNECTIONLESS_IND. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task that will receive further messages (such as CL_L2CAP_UNMAP_CONNECTIONLESS_IND)for the Source associated with this connectionless data.</td></tr>
    <tr><td class="paramname">source</td><td>The Source associated with the connectionless data.</td></tr>
    <tr><td class="paramname">type</td><td>The type of connectionless data as specified in the IND message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4ca2f24acf049e7e298020364c1ce78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ca2f24acf049e7e298020364c1ce78">&#9670;&nbsp;</a></span>ConnectionL2capRegisterRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capRegisterRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an L2CAP PSM with the Connection library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task. The CL_L2CAP_REGISTER_CFM message is returned to this task. This is also the task associated with the PSM being registered. All incoming connection indications for this PSM will be forwarded to this client task.</td></tr>
    <tr><td class="paramname">psm</td><td>The PSM being registered with the Connection library.</td></tr>
    <tr><td class="paramname">flags</td><td>L2CAP PSM Registration Flags.</td></tr>
  </table>
  </dd>
</dl>
<p>Before a connection can be accepted or initiated on a particular PSM it must firstly be registered with the Connection library. If a connection indication is received for a PSM that does not have a task associated with it this connection will be rejected by the Connection library.</p>
<p>The client task will receive a CL_L2CAP_REGISTER_CFM message from the Connection library indicating the outcome of this request. </p>

</div>
</div>
<a id="a998c0efd04ca8a51cf52f629a6a369a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998c0efd04ca8a51cf52f629a6a369a5">&#9670;&nbsp;</a></span>ConnectionL2capTpConnectRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capTpConnectRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const tp_bdaddr *&#160;</td>
          <td class="paramname"><em>taddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm_remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>conftab_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>conftab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate the creation of an L2CAP LE COC connection to a particular device. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task initiating the L2CAP connection. The response indicating the outcome of the connect request will be returned to this task.</td></tr>
    <tr><td class="paramname">taddr</td><td>The address of the remote device being connected to.</td></tr>
    <tr><td class="paramname">psm_local</td><td>The local PSM being connected. This PSM must have been registered with the Connection library before a connection can be initiated.</td></tr>
    <tr><td class="paramname">psm_remote</td><td>The remote PSM being connected to.</td></tr>
    <tr><td class="paramname">conftab_length</td><td>The length of the configuration table data array.</td></tr>
    <tr><td class="paramname">conftab</td><td>Pointer to a configuration table of uint16 values. These are key value pairs defining configuration options to be passed to Bluestack. This pointer will be passed to Bluestack at which time the VM memory slot for it will be freed.</td></tr>
  </table>
  </dd>
</dl>
<p>The client task will receive a CL_L2CAP_TP_CONNECT_CFM message from the Connection library indicating the outcome of this request. </p>

</div>
</div>
<a id="a95a5a30e81dc258c42706b601d89273d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95a5a30e81dc258c42706b601d89273d">&#9670;&nbsp;</a></span>ConnectionL2capTpConnectResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capTpConnectResponse </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>theAppTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>psm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>connection_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>conftab_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>conftab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response to a notification of an incoming L2CAP LE COC connection. To use default L2CAP configuration parameters set the conftab_length and conftab_pointer to 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theAppTask</td><td>The client task to which subsequent L2CAP CL messages will be sent once the connection is established.</td></tr>
    <tr><td class="paramname">response</td><td>Set to TRUE to accept the incoming connection or FALSE to reject it. If rejecting the connection the PSM and connection_id fields still have to be set but the configuration parameter can be set to null.</td></tr>
    <tr><td class="paramname">psm</td><td>The PSM on the local device that the remote end is trying to connect to. The psm field from the CL_L2CAP_TP_CONNECT_IND message can be copied directly.</td></tr>
    <tr><td class="paramname">connection_id</td><td>The connection identifier. This is the connection_id field from the CL_L2CAP_TP_CONNECT_IND message that is being responded to. This field should be copied from the CL_L2CAP_TP_CONNECT_IND message directly. It is necessary so that if two connections to the same PSM are being established the Connection library knows which particular connection is being responded to.</td></tr>
    <tr><td class="paramname">identifier</td><td>The signal identifier. This is the identifier field from the CL_L2CAP_TP_CONNECT_IND message that must be responded to. This field should be copied from the CL_L2CAP_TP_CONNECT_IND message directly.</td></tr>
    <tr><td class="paramname">conftab_length</td><td>The length of the configuration table data array.</td></tr>
    <tr><td class="paramname">conftab</td><td>Pointer to a configuration table of uint16 values. These are key value pairs defining configuration options to be passed to Bluestack. This pointer will be passed to Bluestack at which time the VM memory slot for it will be freed.</td></tr>
  </table>
  </dd>
</dl>
<p>On an indication of an incoming L2CAP connection the Connection library sends the client task that registered the PSM being connected to a CL_L2CAP_TP_CONNECT_IND message. In response to this message the client task must call this function to indicate whether it wishes to proceed with this connection or not.</p>
<p>The client task will receive a CL_L2CAP_TP_CONNECT_CFM message from the Connection library indicating the outcome of the connection attempt. </p>

</div>
</div>
<a id="a84743867776dbaa52c100d5a07441f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84743867776dbaa52c100d5a07441f12">&#9670;&nbsp;</a></span>ConnectionL2capUnmapConnectionlessRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConnectionL2capUnmapConnectionlessRequest </td>
          <td>(</td>
          <td class="paramtype">Sink&#160;</td>
          <td class="paramname"><em>sink</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmap connectionless data from a remote device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>The Sink identify the stream for the connectionless data to a remote device.</td></tr>
  </table>
  </dd>
</dl>
<p>This will result in a CL_L2CAP_UNMAP_CONNECTIONLESS_IND message when the associated ACL has been close, at both this and the remote device.</p>
<p>This is only required for Unicast Connectionless Data (UCD), for which the ACL has been locked and cannot be closed until it is unmapped by this function. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9104b11b055a08855e18ab07d1360a34.html">apps_ext_adk64r_RC_CI_qcc512x_qcc302x_1908091004</a></li><li class="navelem"><a class="el" href="../../dir_19c4644e84b768df42bf93899dbb4e83.html">apps_package</a></li><li class="navelem"><a class="el" href="../../dir_e9f51238b5eab91050ba7b42263dc658.html">progfiles</a></li><li class="navelem"><a class="el" href="../../dir_86fefe393b7ca9a63838560cf4ca04cf.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_4741f709c1c589b2cd57d229d2794b05.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_4a14761ed8ae6e7c2224d633130ab79f.html">connection</a></li><li class="navelem"><a class="el" href="../../d1/d16/l2cap_8c.html">l2cap.c</a></li>
    <li class="footer">Copyright (c) 2019 Qualcomm Technologies International, Ltd. Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
